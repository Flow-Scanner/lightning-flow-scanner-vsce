{"version":3,"sources":["webpack://salesforce-flow-control/./node_modules/any-promise/index.js","webpack://salesforce-flow-control/./node_modules/any-promise/loader.js","webpack://salesforce-flow-control/./node_modules/any-promise/register.js","webpack://salesforce-flow-control/./node_modules/any-promise|sync","webpack://salesforce-flow-control/./node_modules/graceful-fs/clone.js","webpack://salesforce-flow-control/./node_modules/graceful-fs/graceful-fs.js","webpack://salesforce-flow-control/./node_modules/graceful-fs/legacy-streams.js","webpack://salesforce-flow-control/./node_modules/graceful-fs/polyfills.js","webpack://salesforce-flow-control/./node_modules/mz/fs.js","webpack://salesforce-flow-control/./node_modules/sax/lib/sax.js","webpack://salesforce-flow-control/./node_modules/thenify-all/index.js","webpack://salesforce-flow-control/./node_modules/thenify/index.js","webpack://salesforce-flow-control/./src/main/commands/BaseCommand.ts","webpack://salesforce-flow-control/./src/main/commands/CreateTestDataCommand.ts","webpack://salesforce-flow-control/./src/main/commands/FixFlowCommand.ts","webpack://salesforce-flow-control/./src/main/commands/LintFlowsCommand.ts","webpack://salesforce-flow-control/./src/main/libs/BuildNewFlow.ts","webpack://salesforce-flow-control/./src/main/libs/FindFlowMetadata.ts","webpack://salesforce-flow-control/./src/main/libs/ParseFlows.ts","webpack://salesforce-flow-control/./src/main/libs/SaveFlow.ts","webpack://salesforce-flow-control/./src/main/libs/ScanFlows.ts","webpack://salesforce-flow-control/./src/main/libs/SelectAFlow.ts","webpack://salesforce-flow-control/./src/main/libs/SelectFlows.ts","webpack://salesforce-flow-control/./src/main/libs/XMLParser.ts","webpack://salesforce-flow-control/./src/main/libs/getNonce.ts","webpack://salesforce-flow-control/./src/main/models/Flow.ts","webpack://salesforce-flow-control/./src/main/models/FlowElement.ts","webpack://salesforce-flow-control/./src/main/models/FlowElementConnector.ts","webpack://salesforce-flow-control/./src/main/models/FlowMetadata.ts","webpack://salesforce-flow-control/./src/main/models/FlowVariable.ts","webpack://salesforce-flow-control/./src/main/models/Node.ts","webpack://salesforce-flow-control/./src/main/panels/FixReport.ts","webpack://salesforce-flow-control/./src/main/panels/FlowReport.ts","webpack://salesforce-flow-control/./src/main/panels/LintFlowsReport.ts","webpack://salesforce-flow-control/./src/main/panels/SelectRules.ts","webpack://salesforce-flow-control/./src/main/rules/DMLStatementInLoop.ts","webpack://salesforce-flow-control/./src/main/rules/HardcodedIds.ts","webpack://salesforce-flow-control/./src/main/rules/MissingFaultPath.ts","webpack://salesforce-flow-control/./src/main/rules/UnconnectedElements.ts","webpack://salesforce-flow-control/./src/main/rules/UnusedVariables.ts","webpack://salesforce-flow-control/./node_modules/vscode-uri/lib/esm/index.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/bom.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/builder.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/defaults.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/parser.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/processors.js","webpack://salesforce-flow-control/./node_modules/xml2js/lib/xml2js.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/DocumentPosition.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/NodeType.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/Utility.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/WriterState.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLAttribute.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLCData.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLCharacterData.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLComment.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDOMConfiguration.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDOMErrorHandler.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDOMImplementation.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDOMStringList.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDTDAttList.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDTDElement.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDTDEntity.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDTDNotation.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDeclaration.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDocType.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDocument.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDocumentCB.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLDummy.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLElement.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLNamedNodeMap.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLNode.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLNodeList.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLProcessingInstruction.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLRaw.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLStreamWriter.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLStringWriter.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLStringifier.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLText.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/XMLWriterBase.js","webpack://salesforce-flow-control/./node_modules/xmlbuilder/lib/index.js","webpack://salesforce-flow-control/external \"assert\"","webpack://salesforce-flow-control/external \"constants\"","webpack://salesforce-flow-control/external \"events\"","webpack://salesforce-flow-control/external \"fs\"","webpack://salesforce-flow-control/external \"path\"","webpack://salesforce-flow-control/external \"stream\"","webpack://salesforce-flow-control/external \"string_decoder\"","webpack://salesforce-flow-control/external \"timers\"","webpack://salesforce-flow-control/external \"util\"","webpack://salesforce-flow-control/external \"vscode\"","webpack://salesforce-flow-control/webpack/bootstrap","webpack://salesforce-flow-control/webpack/runtime/define property getters","webpack://salesforce-flow-control/webpack/runtime/hasOwnProperty shorthand","webpack://salesforce-flow-control/webpack/runtime/make namespace object","webpack://salesforce-flow-control/./src/extension.ts"],"names":["module","exports","Promise","REGISTRATION_KEY","registered","root","loadImplementation","implementation","opts","registerGlobal","global","Error","impl","version","exec","process","shouldPreferGlobalPromise","lib","libs","i","len","length","e","tryAutoDetect","webpackEmptyContext","req","code","keys","resolve","id","obj","Object","copy","__proto__","getPrototypeOf","create","getOwnPropertyNames","forEach","key","defineProperty","getOwnPropertyDescriptor","gracefulQueue","previousSymbol","fs","polyfills","legacy","clone","util","publishQueue","context","queue","get","Symbol","for","debug","debuglog","test","env","NODE_DEBUG","m","format","apply","arguments","split","join","console","error","close","fs$close","fd","cb","call","err","retry","this","value","closeSync","fs$closeSync","on","patch","gracefulify","createReadStream","path","options","ReadStream","createWriteStream","WriteStream","fs$readFile","readFile","go$readFile","enqueue","fs$writeFile","writeFile","data","go$writeFile","fs$appendFile","appendFile","go$appendFile","fs$copyFile","copyFile","src","dest","flags","fs$readdir","readdir","go$readdir","args","push","files","sort","substr","legStreams","fs$ReadStream","prototype","open","that","mode","autoClose","destroy","emit","read","fs$WriteStream","set","val","enumerable","configurable","FileReadStream","FileWriteStream","fs$open","go$open","elem","name","shift","TEST_GRACEFUL_FS_GLOBAL_PATCH","__patched","Stream","self","readable","paused","bufferSize","index","encoding","setEncoding","undefined","start","TypeError","end","Infinity","pos","_read","nextTick","writable","bytesWritten","busy","_queue","_open","flush","constants","origCwd","cwd","platform","GRACEFUL_FS_PLATFORM","er","chdir","d","setPrototypeOf","fs$rename","fs$readSync","chmodFix","orig","target","chownErOk","chmodFixSync","chownFix","uid","gid","chownFixSync","statFix","callback","stats","statFixSync","getuid","hasOwnProperty","match","lchmod","O_WRONLY","O_SYMLINK","fchmod","err2","lchmodSync","ret","openSync","threw","fchmodSync","patchLchmod","lutimes","at","mt","futimes","er2","lutimesSync","futimesSync","_a","_b","_c","patchLutimes","chown","fchown","lchown","chmod","chownSync","fchownSync","lchownSync","chmodSync","stat","fstat","lstat","statSync","fstatSync","lstatSync","rename","from","to","Date","now","backoff","CB","setTimeout","stater","st","fs$read","buffer","offset","position","callback_","eagCounter","_","__","readSync","api","access","mkdtemp","exists","filename","sax","parser","strict","opt","SAXParser","SAXStream","createStream","MAX_BUFFER_LENGTH","buffers","l","clearBuffers","q","c","bufferCheckPosition","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","state","S","BEGIN","strictEntities","ENTITIES","XML_ENTITIES","attribList","xmlns","ns","rootNS","trackPosition","line","column","EVENTS","o","F","a","write","chunk","toString","charAt","BEGIN_WHITESPACE","beginWhiteSpace","TEXT","starti","textNode","substring","isWhitespace","strictFail","TEXT_ENTITY","OPEN_WAKA","startTagPosition","SCRIPT","SCRIPT_ENDING","script","CLOSE_TAG","SGML_DECL","sgmlDecl","isMatch","nameStart","OPEN_TAG","tagName","PROC_INST","procInstName","procInstBody","pad","Array","toUpperCase","emitNode","CDATA","cdata","COMMENT","comment","DOCTYPE","doctype","isQuote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","textopts","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","body","nameBody","newTag","openTag","OPEN_TAG_SLASH","ATTRIB","closeTag","attribName","attribValue","ATTRIB_NAME","ATTRIB_VALUE","attrib","ATTRIB_NAME_SAW_WHITE","attributes","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","isAttribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","notMatch","returnState","parseEntity","entity","entityBody","entityStart","maxAllowed","Math","max","maxActual","closeText","checkBufferLength","resume","ex","streamWraps","filter","ev","_parser","me","onend","onerror","_decoder","h","removeAllListeners","constructor","Buffer","isBuffer","SD","handler","indexOf","splice","XML_NAMESPACE","XMLNS_NAMESPACE","xml","regex","stringFromCharCode","floor","fromCodePoint","s","STATE","COMMENT_STARTING","String","fromCharCode","event","nodeType","text","trim","normalize","replace","message","parent","qname","attribute","qualName","prefix","local","qn","selfClosing","uri","JSON","stringify","p","nv","isSelfClosing","toLowerCase","t","closeTo","pop","x","n","num","entityLC","numStr","slice","parseInt","isNaN","result","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","Number","isFinite","RangeError","thenify","thenifyAll","source","destination","methods","promisifyAll","promisify","isArray","desc","deprecated","withCallback","assert","fn","createWrapper","createCallback","reject","multiArgs","values","newFn","lastType","lastIndex","vscode","workspace","workspaceFolders","rootPath","CreateTestDataCommand","BaseCommand","super","selectedFlowFile","window","showOpenDialog","canSelectFiles","canSelectFolders","canSelectMany","defaultUri","filters","parseFlow","selectedUri","parsedContent","XMLParser","execute","fsPath","saveResult","showSaveDialog","FixFlowCommand","selectedFlow","SelectAFlow","flowMetadata","FindFlowMetadata","unusedVariables","UnusedVariables","unconnectedElements","UnconnectedElements","processedData","BuildNewFlow","SaveFlow","FixReport","createOrShow","extensionUri","LintFlowsCommand","SelectRules","flow","buildFlow","nodes","node","FlowMetadata","FlowVariable","includes","FlowElement","nodesToMerge","res","nodeToMerge","subtype","nodesOfType","convertFlowNodes","map","element","selectedFlowUris","parseFlows","selectedUris","parsedFlows","Flow","interviewLabel","label","processMetadataValues","processType","status","xmldata","showInformationMessage","xml2js","writeFlow","pathToWrite","Builder","buildObject","flows","dmlStatementInLoop","DMLStatementInLoop","hardcodedIds","nodesWithHardcodedIds","HardcodedIds","missingFaultPaths","MissingFaultPath","flowUri","initialPath","selectedFlows","Parser","parseString","possible","random","preProcessNodes","mergeableVariables","allNodes","flowXML","Node","connectors","getConnectors","FlowElementConnector","connector","defaultConnector","rule","rules","nextValueConnector","noMoreValuesConnector","faultConnector","waitEvent","waitEvents","type","processed","childName","childOf","targetReference","reference","panel","_disposables","_panel","_extensionUri","_update","onDidDispose","dispose","activeTextEditor","viewColumn","currentPanel","reveal","createWebviewPanel","viewType","ViewColumn","One","enableScripts","localResourceRoots","Utils","joinPath","webview","html","_getHtmlForWebview","onDidReceiveMessage","postMessage","scriptUri","asWebviewUri","stylesResetUri","stylesMainUri","cssUri","nonce","getNonce","cspSource","FlowReport","LintFlowsReport","openTextDocument","then","doc","showTextDocument","showErrorMessage","_rootPath","SelectFlows","ParseFlows","ScanFlows","dmlStatementTypes","flowElements","loopElements","dmlInLoopIndexes","loopElement","reachedEndOfLoop","indexesToProcess","findIndex","findStartOfLoopReference","processedLoopElementIndexes","entries","elementsByReferences","nextElement","nextIndex","dmlStatementsInLoops","find","el","prefixes","IdPrefixes","ids","match18charIds","RegExp","match15charIds","nodeString","hardcodedIdsL18","typesWithFaultPath","flowElementsWhereFaultPathIsApplicable","elementsWithoutFaultPath","findStart","processedElementIndexes","unconnectedElementIndexes","references","processedElements","variable","variableName","matchAll","insideCounter","LIB","470","r","charCodeAt","lastIndexOf","isAbsolute","relative","f","u","_makeLong","dirname","basename","extname","dir","base","ext","parse","sep","delimiter","win32","posix","447","URI","g","O","navigator","userAgent","scheme","authority","query","fragment","isUri","with","C","v","file","A","toJSON","revive","_formatted","external","_fsPath","_sep","$mid","y","encodeURIComponent","b","w","decodeURIComponent","P","j","U","resolvePath","toStringTag","stripBOM","str","builder","defaults","escapeCDATA","requiresCDATA","wrapCDATA","hasProp","entry","ref","rootObj","attrkey","charkey","render","rootElement","rootName","_this","attr","child","raw","txt","ele","up","att","xmldec","headless","allowSurrogateChars","renderOpts","explicitCharkey","normalizeTags","explicitArray","ignoreAttrs","mergeAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","includeWhiteChars","async","attrNameProcessors","attrValueProcessors","tagNameProcessors","valueProcessors","emptyTag","preserveChildrenOrder","chunkSize","bom","events","isEmpty","processItem","processors","setImmediate","bind","thing","item","superClass","parseStringPromise","reset","assignOrPush","processAsync","xmlnskey","unshift","ctor","__super__","extend","remaining","saxParser","error1","errThrown","newValue","ontext","stack","ended","resultObject","EXPLICIT_CHARKEY","onopentag","processedKey","onclosetag","emptyStr","nodeName","objClone","old","xpath","results","concat","charChild","oncdata","prefixMatch","firstCharLowerCase","stripPrefix","parseNumbers","parseFloat","parseBooleans","ValidationError","Disconnected","Preceding","Following","Contains","ContainedBy","ImplementationSpecific","Element","Attribute","Text","CData","EntityReference","EntityDeclaration","ProcessingInstruction","Comment","Document","DocType","DocumentFragment","NotationDeclaration","Declaration","Raw","AttributeDeclaration","ElementDeclaration","Dummy","assign","getValue","isFunction","isObject","isPlainObject","sources","proto","Function","valueOf","None","OpenTag","InsideTag","CloseTag","NodeType","XMLAttribute","debugInfo","attValue","isId","schemaTypeInfo","writer","filterOptions","isEqualNode","namespaceURI","localName","XMLCharacterData","XMLCData","XMLNode","substringData","count","appendData","arg","insertData","deleteData","replaceData","XMLComment","XMLDOMErrorHandler","XMLDOMStringList","XMLDOMConfiguration","defaultParams","params","getParameter","canSetParameter","setParameter","handleError","XMLDOMImplementation","hasFeature","feature","createDocumentType","qualifiedName","publicId","systemId","createDocument","createHTMLDocument","title","getFeature","arr","contains","XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","dtdAttType","dtdAttDefault","dtdAttList","XMLDTDElement","dtdElementValue","dtdElement","XMLDTDEntity","pe","pubID","sysID","internal","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","dtdEntity","XMLDTDNotation","dtdNotation","XMLDeclaration","standalone","xmlVersion","xmlEncoding","xmlStandalone","declaration","XMLNamedNodeMap","XMLDocType","ref1","ref2","children","documentObject","attList","pEntity","notation","docType","ent","pent","not","XMLStringWriter","XMLStringifier","XMLDocument","documentURI","domConfig","rootObject","writerOptions","document","createElement","createDocumentFragment","createTextNode","createComment","createCDATASection","createProcessingInstruction","createAttribute","createEntityReference","getElementsByTagName","tagname","importNode","importedNode","deep","createElementNS","createAttributeNS","getElementsByTagNameNS","getElementById","elementId","adoptNode","normalizeDocument","renameNode","getElementsByClassName","classNames","createEvent","eventInterface","createRange","createNodeIterator","whatToShow","createTreeWalker","WriterState","XMLElement","XMLProcessingInstruction","XMLRaw","XMLText","XMLDocumentCB","onData","onEnd","onDataCallback","onEndCallback","currentNode","currentLevel","openTags","documentStarted","documentCompleted","createChildNode","attName","attribs","dummy","instruction","openCurrent","oldValidationFlag","noValidation","keepNullAttributes","insTarget","insValue","processingInstruction","rootNodeName","closeNode","openNode","isOpen","indent","endline","isClosed","level","nod","dat","com","ins","dec","dtd","XMLDummy","isRoot","attributeMap","clonedSelf","clonedChild","removeAttribute","getAttribute","setAttribute","getAttributeNode","setAttributeNode","newAttr","removeAttributeNode","oldAttr","getAttributeNS","setAttributeNS","removeAttributeNS","getAttributeNodeNS","setAttributeNodeNS","hasAttribute","hasAttributeNS","setIdAttribute","setIdAttributeNS","setIdAttributeNode","idAttr","getNamedItem","setNamedItem","oldNode","removeNamedItem","getNamedItemNS","setNamedItemNS","removeNamedItemNS","DocumentPosition","XMLNodeList","parent1","baseURI","childNodeList","textContent","setParent","childNode","k","lastChild","len1","ref3","ignoreDecorators","convertAttKey","separateArrayItems","keepNullNodes","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","convertPIKey","insertBefore","newChild","refChild","removed","insertAfter","remove","commentBefore","commentAfter","instructionBefore","instructionAfter","prev","next","importDocument","clonedRoot","importXMLBuilder","replaceChild","oldChild","removeChild","appendChild","hasChildNodes","cloneNode","isSupported","hasAttributes","compareDocumentPosition","other","isAncestor","isDescendant","isPreceding","isSameNode","lookupPrefix","isDefaultNamespace","lookupNamespaceURI","setUserData","getUserData","nodePos","thisPos","treePosition","isFollowing","found","foreachTreeNode","func","XMLWriterBase","XMLStreamWriter","stream","isLastRootNode","writeChildNode","spaceBeforeSlash","childNodeCount","firstChildNode","every","allowEmpty","pretty","suppressPrettyCount","newline","assertLegalName","assertLegalChar","textEscape","attEscape","ampregex","noDoubleEncoding","previousSibling","nextSibling","splitText","replaceWholeText","content","filteredOptions","ref4","ref5","ref6","dontPrettyTextNodes","dontprettytextnodes","spacebeforeslash","user","indentLevel","openAttribute","closeAttribute","prettySuppressed","begin","stringWriter","streamWriter","writerState","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","prop","fixFlowCommand","lintFlowsCommand","createTestDataCommand","subscriptions","commands","registerCommand"],"mappings":"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","file":"extension.js","sourcesContent":["module.exports = require('./register')().Promise\n","\"use strict\"\n    // global key for user preferred registration\nvar REGISTRATION_KEY = '@@any-promise/REGISTRATION',\n    // Prior registration (preferred or detected)\n    registered = null\n\n/**\n * Registers the given implementation.  An implementation must\n * be registered prior to any call to `require(\"any-promise\")`,\n * typically on application load.\n *\n * If called with no arguments, will return registration in\n * following priority:\n *\n * For Node.js:\n *\n * 1. Previous registration\n * 2. global.Promise if node.js version >= 0.12\n * 3. Auto detected promise based on first sucessful require of\n *    known promise libraries. Note this is a last resort, as the\n *    loaded library is non-deterministic. node.js >= 0.12 will\n *    always use global.Promise over this priority list.\n * 4. Throws error.\n *\n * For Browser:\n *\n * 1. Previous registration\n * 2. window.Promise\n * 3. Throws error.\n *\n * Options:\n *\n * Promise: Desired Promise constructor\n * global: Boolean - Should the registration be cached in a global variable to\n * allow cross dependency/bundle registration?  (default true)\n */\nmodule.exports = function(root, loadImplementation){\n  return function register(implementation, opts){\n    implementation = implementation || null\n    opts = opts || {}\n    // global registration unless explicitly  {global: false} in options (default true)\n    var registerGlobal = opts.global !== false;\n\n    // load any previous global registration\n    if(registered === null && registerGlobal){\n      registered = root[REGISTRATION_KEY] || null\n    }\n\n    if(registered !== null\n        && implementation !== null\n        && registered.implementation !== implementation){\n      // Throw error if attempting to redefine implementation\n      throw new Error('any-promise already defined as \"'+registered.implementation+\n        '\".  You can only register an implementation before the first '+\n        ' call to require(\"any-promise\") and an implementation cannot be changed')\n    }\n\n    if(registered === null){\n      // use provided implementation\n      if(implementation !== null && typeof opts.Promise !== 'undefined'){\n        registered = {\n          Promise: opts.Promise,\n          implementation: implementation\n        }\n      } else {\n        // require implementation if implementation is specified but not provided\n        registered = loadImplementation(implementation)\n      }\n\n      if(registerGlobal){\n        // register preference globally in case multiple installations\n        root[REGISTRATION_KEY] = registered\n      }\n    }\n\n    return registered\n  }\n}\n","\"use strict\"\nmodule.exports = require('./loader')(global, loadImplementation);\n\n/**\n * Node.js version of loadImplementation.\n *\n * Requires the given implementation and returns the registration\n * containing {Promise, implementation}\n *\n * If implementation is undefined or global.Promise, loads it\n * Otherwise uses require\n */\nfunction loadImplementation(implementation){\n  var impl = null\n\n  if(shouldPreferGlobalPromise(implementation)){\n    // if no implementation or env specified use global.Promise\n    impl = {\n      Promise: global.Promise,\n      implementation: 'global.Promise'\n    }\n  } else if(implementation){\n    // if implementation specified, require it\n    var lib = require(implementation)\n    impl = {\n      Promise: lib.Promise || lib,\n      implementation: implementation\n    }\n  } else {\n    // try to auto detect implementation. This is non-deterministic\n    // and should prefer other branches, but this is our last chance\n    // to load something without throwing error\n    impl = tryAutoDetect()\n  }\n\n  if(impl === null){\n    throw new Error('Cannot find any-promise implementation nor'+\n      ' global.Promise. You must install polyfill or call'+\n      ' require(\"any-promise/register\") with your preferred'+\n      ' implementation, e.g. require(\"any-promise/register/bluebird\")'+\n      ' on application load prior to any require(\"any-promise\").')\n  }\n\n  return impl\n}\n\n/**\n * Determines if the global.Promise should be preferred if an implementation\n * has not been registered.\n */\nfunction shouldPreferGlobalPromise(implementation){\n  if(implementation){\n    return implementation === 'global.Promise'\n  } else if(typeof global.Promise !== 'undefined'){\n    // Load global promise if implementation not specified\n    // Versions < 0.11 did not have global Promise\n    // Do not use for version < 0.12 as version 0.11 contained buggy versions\n    var version = (/v(\\d+)\\.(\\d+)\\.(\\d+)/).exec(process.version)\n    return !(version && +version[1] == 0 && +version[2] < 12)\n  }\n\n  // do not have global.Promise or another implementation was specified\n  return false\n}\n\n/**\n * Look for common libs as last resort there is no guarantee that\n * this will return a desired implementation or even be deterministic.\n * The priority is also nearly arbitrary. We are only doing this\n * for older versions of Node.js <0.12 that do not have a reasonable\n * global.Promise implementation and we the user has not registered\n * the preference. This preserves the behavior of any-promise <= 0.1\n * and may be deprecated or removed in the future\n */\nfunction tryAutoDetect(){\n  var libs = [\n      \"es6-promise\",\n      \"promise\",\n      \"native-promise-only\",\n      \"bluebird\",\n      \"rsvp\",\n      \"when\",\n      \"q\",\n      \"pinkie\",\n      \"lie\",\n      \"vow\"]\n  var i = 0, len = libs.length\n  for(; i < len; i++){\n    try {\n      return loadImplementation(libs[i])\n    } catch(e){}\n  }\n  return null\n}\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 2219;\nmodule.exports = webpackEmptyContext;","'use strict'\n\nmodule.exports = clone\n\nvar getPrototypeOf = Object.getPrototypeOf || function (obj) {\n  return obj.__proto__\n}\n\nfunction clone (obj) {\n  if (obj === null || typeof obj !== 'object')\n    return obj\n\n  if (obj instanceof Object)\n    var copy = { __proto__: getPrototypeOf(obj) }\n  else\n    var copy = Object.create(null)\n\n  Object.getOwnPropertyNames(obj).forEach(function (key) {\n    Object.defineProperty(copy, key, Object.getOwnPropertyDescriptor(obj, key))\n  })\n\n  return copy\n}\n","var fs = require('fs')\nvar polyfills = require('./polyfills.js')\nvar legacy = require('./legacy-streams.js')\nvar clone = require('./clone.js')\n\nvar util = require('util')\n\n/* istanbul ignore next - node 0.x polyfill */\nvar gracefulQueue\nvar previousSymbol\n\n/* istanbul ignore else - node 0.x polyfill */\nif (typeof Symbol === 'function' && typeof Symbol.for === 'function') {\n  gracefulQueue = Symbol.for('graceful-fs.queue')\n  // This is used in testing by future versions\n  previousSymbol = Symbol.for('graceful-fs.previous')\n} else {\n  gracefulQueue = '___graceful-fs.queue'\n  previousSymbol = '___graceful-fs.previous'\n}\n\nfunction noop () {}\n\nfunction publishQueue(context, queue) {\n  Object.defineProperty(context, gracefulQueue, {\n    get: function() {\n      return queue\n    }\n  })\n}\n\nvar debug = noop\nif (util.debuglog)\n  debug = util.debuglog('gfs4')\nelse if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || ''))\n  debug = function() {\n    var m = util.format.apply(util, arguments)\n    m = 'GFS4: ' + m.split(/\\n/).join('\\nGFS4: ')\n    console.error(m)\n  }\n\n// Once time initialization\nif (!fs[gracefulQueue]) {\n  // This queue can be shared by multiple loaded instances\n  var queue = global[gracefulQueue] || []\n  publishQueue(fs, queue)\n\n  // Patch fs.close/closeSync to shared queue version, because we need\n  // to retry() whenever a close happens *anywhere* in the program.\n  // This is essential when multiple graceful-fs instances are\n  // in play at the same time.\n  fs.close = (function (fs$close) {\n    function close (fd, cb) {\n      return fs$close.call(fs, fd, function (err) {\n        // This function uses the graceful-fs shared queue\n        if (!err) {\n          retry()\n        }\n\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n      })\n    }\n\n    Object.defineProperty(close, previousSymbol, {\n      value: fs$close\n    })\n    return close\n  })(fs.close)\n\n  fs.closeSync = (function (fs$closeSync) {\n    function closeSync (fd) {\n      // This function uses the graceful-fs shared queue\n      fs$closeSync.apply(fs, arguments)\n      retry()\n    }\n\n    Object.defineProperty(closeSync, previousSymbol, {\n      value: fs$closeSync\n    })\n    return closeSync\n  })(fs.closeSync)\n\n  if (/\\bgfs4\\b/i.test(process.env.NODE_DEBUG || '')) {\n    process.on('exit', function() {\n      debug(fs[gracefulQueue])\n      require('assert').equal(fs[gracefulQueue].length, 0)\n    })\n  }\n}\n\nif (!global[gracefulQueue]) {\n  publishQueue(global, fs[gracefulQueue]);\n}\n\nmodule.exports = patch(clone(fs))\nif (process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH && !fs.__patched) {\n    module.exports = patch(fs)\n    fs.__patched = true;\n}\n\nfunction patch (fs) {\n  // Everything that references the open() function needs to be in here\n  polyfills(fs)\n  fs.gracefulify = patch\n\n  fs.createReadStream = createReadStream\n  fs.createWriteStream = createWriteStream\n  var fs$readFile = fs.readFile\n  fs.readFile = readFile\n  function readFile (path, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$readFile(path, options, cb)\n\n    function go$readFile (path, options, cb) {\n      return fs$readFile(path, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$readFile, [path, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$writeFile = fs.writeFile\n  fs.writeFile = writeFile\n  function writeFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$writeFile(path, data, options, cb)\n\n    function go$writeFile (path, data, options, cb) {\n      return fs$writeFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$writeFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$appendFile = fs.appendFile\n  if (fs$appendFile)\n    fs.appendFile = appendFile\n  function appendFile (path, data, options, cb) {\n    if (typeof options === 'function')\n      cb = options, options = null\n\n    return go$appendFile(path, data, options, cb)\n\n    function go$appendFile (path, data, options, cb) {\n      return fs$appendFile(path, data, options, function (err) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$appendFile, [path, data, options, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  var fs$copyFile = fs.copyFile\n  if (fs$copyFile)\n    fs.copyFile = copyFile\n  function copyFile (src, dest, flags, cb) {\n    if (typeof flags === 'function') {\n      cb = flags\n      flags = 0\n    }\n    return fs$copyFile(src, dest, flags, function (err) {\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([fs$copyFile, [src, dest, flags, cb]])\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    })\n  }\n\n  var fs$readdir = fs.readdir\n  fs.readdir = readdir\n  function readdir (path, options, cb) {\n    var args = [path]\n    if (typeof options !== 'function') {\n      args.push(options)\n    } else {\n      cb = options\n    }\n    args.push(go$readdir$cb)\n\n    return go$readdir(args)\n\n    function go$readdir$cb (err, files) {\n      if (files && files.sort)\n        files.sort()\n\n      if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n        enqueue([go$readdir, [args]])\n\n      else {\n        if (typeof cb === 'function')\n          cb.apply(this, arguments)\n        retry()\n      }\n    }\n  }\n\n  function go$readdir (args) {\n    return fs$readdir.apply(fs, args)\n  }\n\n  if (process.version.substr(0, 4) === 'v0.8') {\n    var legStreams = legacy(fs)\n    ReadStream = legStreams.ReadStream\n    WriteStream = legStreams.WriteStream\n  }\n\n  var fs$ReadStream = fs.ReadStream\n  if (fs$ReadStream) {\n    ReadStream.prototype = Object.create(fs$ReadStream.prototype)\n    ReadStream.prototype.open = ReadStream$open\n  }\n\n  var fs$WriteStream = fs.WriteStream\n  if (fs$WriteStream) {\n    WriteStream.prototype = Object.create(fs$WriteStream.prototype)\n    WriteStream.prototype.open = WriteStream$open\n  }\n\n  Object.defineProperty(fs, 'ReadStream', {\n    get: function () {\n      return ReadStream\n    },\n    set: function (val) {\n      ReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  Object.defineProperty(fs, 'WriteStream', {\n    get: function () {\n      return WriteStream\n    },\n    set: function (val) {\n      WriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  // legacy names\n  var FileReadStream = ReadStream\n  Object.defineProperty(fs, 'FileReadStream', {\n    get: function () {\n      return FileReadStream\n    },\n    set: function (val) {\n      FileReadStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n  var FileWriteStream = WriteStream\n  Object.defineProperty(fs, 'FileWriteStream', {\n    get: function () {\n      return FileWriteStream\n    },\n    set: function (val) {\n      FileWriteStream = val\n    },\n    enumerable: true,\n    configurable: true\n  })\n\n  function ReadStream (path, options) {\n    if (this instanceof ReadStream)\n      return fs$ReadStream.apply(this, arguments), this\n    else\n      return ReadStream.apply(Object.create(ReadStream.prototype), arguments)\n  }\n\n  function ReadStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        if (that.autoClose)\n          that.destroy()\n\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n        that.read()\n      }\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (this instanceof WriteStream)\n      return fs$WriteStream.apply(this, arguments), this\n    else\n      return WriteStream.apply(Object.create(WriteStream.prototype), arguments)\n  }\n\n  function WriteStream$open () {\n    var that = this\n    open(that.path, that.flags, that.mode, function (err, fd) {\n      if (err) {\n        that.destroy()\n        that.emit('error', err)\n      } else {\n        that.fd = fd\n        that.emit('open', fd)\n      }\n    })\n  }\n\n  function createReadStream (path, options) {\n    return new fs.ReadStream(path, options)\n  }\n\n  function createWriteStream (path, options) {\n    return new fs.WriteStream(path, options)\n  }\n\n  var fs$open = fs.open\n  fs.open = open\n  function open (path, flags, mode, cb) {\n    if (typeof mode === 'function')\n      cb = mode, mode = null\n\n    return go$open(path, flags, mode, cb)\n\n    function go$open (path, flags, mode, cb) {\n      return fs$open(path, flags, mode, function (err, fd) {\n        if (err && (err.code === 'EMFILE' || err.code === 'ENFILE'))\n          enqueue([go$open, [path, flags, mode, cb]])\n        else {\n          if (typeof cb === 'function')\n            cb.apply(this, arguments)\n          retry()\n        }\n      })\n    }\n  }\n\n  return fs\n}\n\nfunction enqueue (elem) {\n  debug('ENQUEUE', elem[0].name, elem[1])\n  fs[gracefulQueue].push(elem)\n}\n\nfunction retry () {\n  var elem = fs[gracefulQueue].shift()\n  if (elem) {\n    debug('RETRY', elem[0].name, elem[1])\n    elem[0].apply(null, elem[1])\n  }\n}\n","var Stream = require('stream').Stream\n\nmodule.exports = legacy\n\nfunction legacy (fs) {\n  return {\n    ReadStream: ReadStream,\n    WriteStream: WriteStream\n  }\n\n  function ReadStream (path, options) {\n    if (!(this instanceof ReadStream)) return new ReadStream(path, options);\n\n    Stream.call(this);\n\n    var self = this;\n\n    this.path = path;\n    this.fd = null;\n    this.readable = true;\n    this.paused = false;\n\n    this.flags = 'r';\n    this.mode = 438; /*=0666*/\n    this.bufferSize = 64 * 1024;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.encoding) this.setEncoding(this.encoding);\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.end === undefined) {\n        this.end = Infinity;\n      } else if ('number' !== typeof this.end) {\n        throw TypeError('end must be a Number');\n      }\n\n      if (this.start > this.end) {\n        throw new Error('start must be <= end');\n      }\n\n      this.pos = this.start;\n    }\n\n    if (this.fd !== null) {\n      process.nextTick(function() {\n        self._read();\n      });\n      return;\n    }\n\n    fs.open(this.path, this.flags, this.mode, function (err, fd) {\n      if (err) {\n        self.emit('error', err);\n        self.readable = false;\n        return;\n      }\n\n      self.fd = fd;\n      self.emit('open', fd);\n      self._read();\n    })\n  }\n\n  function WriteStream (path, options) {\n    if (!(this instanceof WriteStream)) return new WriteStream(path, options);\n\n    Stream.call(this);\n\n    this.path = path;\n    this.fd = null;\n    this.writable = true;\n\n    this.flags = 'w';\n    this.encoding = 'binary';\n    this.mode = 438; /*=0666*/\n    this.bytesWritten = 0;\n\n    options = options || {};\n\n    // Mixin options into this\n    var keys = Object.keys(options);\n    for (var index = 0, length = keys.length; index < length; index++) {\n      var key = keys[index];\n      this[key] = options[key];\n    }\n\n    if (this.start !== undefined) {\n      if ('number' !== typeof this.start) {\n        throw TypeError('start must be a Number');\n      }\n      if (this.start < 0) {\n        throw new Error('start must be >= zero');\n      }\n\n      this.pos = this.start;\n    }\n\n    this.busy = false;\n    this._queue = [];\n\n    if (this.fd === null) {\n      this._open = fs.open;\n      this._queue.push([this._open, this.path, this.flags, this.mode, undefined]);\n      this.flush();\n    }\n  }\n}\n","var constants = require('constants')\n\nvar origCwd = process.cwd\nvar cwd = null\n\nvar platform = process.env.GRACEFUL_FS_PLATFORM || process.platform\n\nprocess.cwd = function() {\n  if (!cwd)\n    cwd = origCwd.call(process)\n  return cwd\n}\ntry {\n  process.cwd()\n} catch (er) {}\n\n// This check is needed until node.js 12 is required\nif (typeof process.chdir === 'function') {\n  var chdir = process.chdir\n  process.chdir = function (d) {\n    cwd = null\n    chdir.call(process, d)\n  }\n  if (Object.setPrototypeOf) Object.setPrototypeOf(process.chdir, chdir)\n}\n\nmodule.exports = patch\n\nfunction patch (fs) {\n  // (re-)implement some things that are known busted or missing.\n\n  // lchmod, broken prior to 0.6.2\n  // back-port the fix here.\n  if (constants.hasOwnProperty('O_SYMLINK') &&\n      process.version.match(/^v0\\.6\\.[0-2]|^v0\\.5\\./)) {\n    patchLchmod(fs)\n  }\n\n  // lutimes implementation, or no-op\n  if (!fs.lutimes) {\n    patchLutimes(fs)\n  }\n\n  // https://github.com/isaacs/node-graceful-fs/issues/4\n  // Chown should not fail on einval or eperm if non-root.\n  // It should not fail on enosys ever, as this just indicates\n  // that a fs doesn't support the intended operation.\n\n  fs.chown = chownFix(fs.chown)\n  fs.fchown = chownFix(fs.fchown)\n  fs.lchown = chownFix(fs.lchown)\n\n  fs.chmod = chmodFix(fs.chmod)\n  fs.fchmod = chmodFix(fs.fchmod)\n  fs.lchmod = chmodFix(fs.lchmod)\n\n  fs.chownSync = chownFixSync(fs.chownSync)\n  fs.fchownSync = chownFixSync(fs.fchownSync)\n  fs.lchownSync = chownFixSync(fs.lchownSync)\n\n  fs.chmodSync = chmodFixSync(fs.chmodSync)\n  fs.fchmodSync = chmodFixSync(fs.fchmodSync)\n  fs.lchmodSync = chmodFixSync(fs.lchmodSync)\n\n  fs.stat = statFix(fs.stat)\n  fs.fstat = statFix(fs.fstat)\n  fs.lstat = statFix(fs.lstat)\n\n  fs.statSync = statFixSync(fs.statSync)\n  fs.fstatSync = statFixSync(fs.fstatSync)\n  fs.lstatSync = statFixSync(fs.lstatSync)\n\n  // if lchmod/lchown do not exist, then make them no-ops\n  if (!fs.lchmod) {\n    fs.lchmod = function (path, mode, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchmodSync = function () {}\n  }\n  if (!fs.lchown) {\n    fs.lchown = function (path, uid, gid, cb) {\n      if (cb) process.nextTick(cb)\n    }\n    fs.lchownSync = function () {}\n  }\n\n  // on Windows, A/V software can lock the directory, causing this\n  // to fail with an EACCES or EPERM if the directory contains newly\n  // created files.  Try again on failure, for up to 60 seconds.\n\n  // Set the timeout this long because some Windows Anti-Virus, such as Parity\n  // bit9, may lock files for up to a minute, causing npm package install\n  // failures. Also, take care to yield the scheduler. Windows scheduling gives\n  // CPU to a busy looping process, which can cause the program causing the lock\n  // contention to be starved of CPU by node, so the contention doesn't resolve.\n  if (platform === \"win32\") {\n    fs.rename = (function (fs$rename) { return function (from, to, cb) {\n      var start = Date.now()\n      var backoff = 0;\n      fs$rename(from, to, function CB (er) {\n        if (er\n            && (er.code === \"EACCES\" || er.code === \"EPERM\")\n            && Date.now() - start < 60000) {\n          setTimeout(function() {\n            fs.stat(to, function (stater, st) {\n              if (stater && stater.code === \"ENOENT\")\n                fs$rename(from, to, CB);\n              else\n                cb(er)\n            })\n          }, backoff)\n          if (backoff < 100)\n            backoff += 10;\n          return;\n        }\n        if (cb) cb(er)\n      })\n    }})(fs.rename)\n  }\n\n  // if read() returns EAGAIN, then just try it again.\n  fs.read = (function (fs$read) {\n    function read (fd, buffer, offset, length, position, callback_) {\n      var callback\n      if (callback_ && typeof callback_ === 'function') {\n        var eagCounter = 0\n        callback = function (er, _, __) {\n          if (er && er.code === 'EAGAIN' && eagCounter < 10) {\n            eagCounter ++\n            return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n          }\n          callback_.apply(this, arguments)\n        }\n      }\n      return fs$read.call(fs, fd, buffer, offset, length, position, callback)\n    }\n\n    // This ensures `util.promisify` works as it does for native `fs.read`.\n    if (Object.setPrototypeOf) Object.setPrototypeOf(read, fs$read)\n    return read\n  })(fs.read)\n\n  fs.readSync = (function (fs$readSync) { return function (fd, buffer, offset, length, position) {\n    var eagCounter = 0\n    while (true) {\n      try {\n        return fs$readSync.call(fs, fd, buffer, offset, length, position)\n      } catch (er) {\n        if (er.code === 'EAGAIN' && eagCounter < 10) {\n          eagCounter ++\n          continue\n        }\n        throw er\n      }\n    }\n  }})(fs.readSync)\n\n  function patchLchmod (fs) {\n    fs.lchmod = function (path, mode, callback) {\n      fs.open( path\n             , constants.O_WRONLY | constants.O_SYMLINK\n             , mode\n             , function (err, fd) {\n        if (err) {\n          if (callback) callback(err)\n          return\n        }\n        // prefer to return the chmod error, if one occurs,\n        // but still try to close, and report closing errors if they occur.\n        fs.fchmod(fd, mode, function (err) {\n          fs.close(fd, function(err2) {\n            if (callback) callback(err || err2)\n          })\n        })\n      })\n    }\n\n    fs.lchmodSync = function (path, mode) {\n      var fd = fs.openSync(path, constants.O_WRONLY | constants.O_SYMLINK, mode)\n\n      // prefer to return the chmod error, if one occurs,\n      // but still try to close, and report closing errors if they occur.\n      var threw = true\n      var ret\n      try {\n        ret = fs.fchmodSync(fd, mode)\n        threw = false\n      } finally {\n        if (threw) {\n          try {\n            fs.closeSync(fd)\n          } catch (er) {}\n        } else {\n          fs.closeSync(fd)\n        }\n      }\n      return ret\n    }\n  }\n\n  function patchLutimes (fs) {\n    if (constants.hasOwnProperty(\"O_SYMLINK\")) {\n      fs.lutimes = function (path, at, mt, cb) {\n        fs.open(path, constants.O_SYMLINK, function (er, fd) {\n          if (er) {\n            if (cb) cb(er)\n            return\n          }\n          fs.futimes(fd, at, mt, function (er) {\n            fs.close(fd, function (er2) {\n              if (cb) cb(er || er2)\n            })\n          })\n        })\n      }\n\n      fs.lutimesSync = function (path, at, mt) {\n        var fd = fs.openSync(path, constants.O_SYMLINK)\n        var ret\n        var threw = true\n        try {\n          ret = fs.futimesSync(fd, at, mt)\n          threw = false\n        } finally {\n          if (threw) {\n            try {\n              fs.closeSync(fd)\n            } catch (er) {}\n          } else {\n            fs.closeSync(fd)\n          }\n        }\n        return ret\n      }\n\n    } else {\n      fs.lutimes = function (_a, _b, _c, cb) { if (cb) process.nextTick(cb) }\n      fs.lutimesSync = function () {}\n    }\n  }\n\n  function chmodFix (orig) {\n    if (!orig) return orig\n    return function (target, mode, cb) {\n      return orig.call(fs, target, mode, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chmodFixSync (orig) {\n    if (!orig) return orig\n    return function (target, mode) {\n      try {\n        return orig.call(fs, target, mode)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n\n  function chownFix (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid, cb) {\n      return orig.call(fs, target, uid, gid, function (er) {\n        if (chownErOk(er)) er = null\n        if (cb) cb.apply(this, arguments)\n      })\n    }\n  }\n\n  function chownFixSync (orig) {\n    if (!orig) return orig\n    return function (target, uid, gid) {\n      try {\n        return orig.call(fs, target, uid, gid)\n      } catch (er) {\n        if (!chownErOk(er)) throw er\n      }\n    }\n  }\n\n  function statFix (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options, cb) {\n      if (typeof options === 'function') {\n        cb = options\n        options = null\n      }\n      function callback (er, stats) {\n        if (stats) {\n          if (stats.uid < 0) stats.uid += 0x100000000\n          if (stats.gid < 0) stats.gid += 0x100000000\n        }\n        if (cb) cb.apply(this, arguments)\n      }\n      return options ? orig.call(fs, target, options, callback)\n        : orig.call(fs, target, callback)\n    }\n  }\n\n  function statFixSync (orig) {\n    if (!orig) return orig\n    // Older versions of Node erroneously returned signed integers for\n    // uid + gid.\n    return function (target, options) {\n      var stats = options ? orig.call(fs, target, options)\n        : orig.call(fs, target)\n      if (stats.uid < 0) stats.uid += 0x100000000\n      if (stats.gid < 0) stats.gid += 0x100000000\n      return stats;\n    }\n  }\n\n  // ENOSYS means that the fs doesn't support the op. Just ignore\n  // that, because it doesn't matter.\n  //\n  // if there's no getuid, or if getuid() is something other\n  // than 0, and the error is EINVAL or EPERM, then just ignore\n  // it.\n  //\n  // This specific case is a silent failure in cp, install, tar,\n  // and most other unix tools that manage permissions.\n  //\n  // When running as root, or if other types of errors are\n  // encountered, then it's strict.\n  function chownErOk (er) {\n    if (!er)\n      return true\n\n    if (er.code === \"ENOSYS\")\n      return true\n\n    var nonroot = !process.getuid || process.getuid() !== 0\n    if (nonroot) {\n      if (er.code === \"EINVAL\" || er.code === \"EPERM\")\n        return true\n    }\n\n    return false\n  }\n}\n","\nvar Promise = require('any-promise')\nvar fs\ntry {\n  fs = require('graceful-fs')\n} catch(err) {\n  fs = require('fs')\n}\n\nvar api = [\n  'appendFile',\n  'chmod',\n  'chown',\n  'close',\n  'fchmod',\n  'fchown',\n  'fdatasync',\n  'fstat',\n  'fsync',\n  'ftruncate',\n  'futimes',\n  'lchown',\n  'link',\n  'lstat',\n  'mkdir',\n  'open',\n  'read',\n  'readFile',\n  'readdir',\n  'readlink',\n  'realpath',\n  'rename',\n  'rmdir',\n  'stat',\n  'symlink',\n  'truncate',\n  'unlink',\n  'utimes',\n  'write',\n  'writeFile'\n]\n\ntypeof fs.access === 'function' && api.push('access')\ntypeof fs.copyFile === 'function' && api.push('copyFile')\ntypeof fs.mkdtemp === 'function' && api.push('mkdtemp')\n\nrequire('thenify-all').withCallback(fs, exports, api)\n\nexports.exists = function (filename, callback) {\n  // callback\n  if (typeof callback === 'function') {\n    return fs.stat(filename, function (err) {\n      callback(null, !err);\n    })\n  }\n  // or promise\n  return new Promise(function (resolve) {\n    fs.stat(filename, function (err) {\n      resolve(!err)\n    })\n  })\n}\n",";(function (sax) { // wrapper for non-node envs\n  sax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\n  sax.SAXParser = SAXParser\n  sax.SAXStream = SAXStream\n  sax.createStream = createStream\n\n  // When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n  // When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n  // since that's the earliest that a buffer overrun could occur.  This way, checks are\n  // as rare as required, but as often as necessary to ensure never crossing this bound.\n  // Furthermore, buffers are only tested at most once per write(), so passing a very\n  // large string into write() might have undesirable effects, but this is manageable by\n  // the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n  // edge case, result in creating at most one complete copy of the string passed in.\n  // Set to Infinity to have unlimited buffers.\n  sax.MAX_BUFFER_LENGTH = 64 * 1024\n\n  var buffers = [\n    'comment', 'sgmlDecl', 'textNode', 'tagName', 'doctype',\n    'procInstName', 'procInstBody', 'entity', 'attribName',\n    'attribValue', 'cdata', 'script'\n  ]\n\n  sax.EVENTS = [\n    'text',\n    'processinginstruction',\n    'sgmldeclaration',\n    'doctype',\n    'comment',\n    'opentagstart',\n    'attribute',\n    'opentag',\n    'closetag',\n    'opencdata',\n    'cdata',\n    'closecdata',\n    'error',\n    'end',\n    'ready',\n    'script',\n    'opennamespace',\n    'closenamespace'\n  ]\n\n  function SAXParser (strict, opt) {\n    if (!(this instanceof SAXParser)) {\n      return new SAXParser(strict, opt)\n    }\n\n    var parser = this\n    clearBuffers(parser)\n    parser.q = parser.c = ''\n    parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n    parser.opt = opt || {}\n    parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n    parser.looseCase = parser.opt.lowercase ? 'toLowerCase' : 'toUpperCase'\n    parser.tags = []\n    parser.closed = parser.closedRoot = parser.sawRoot = false\n    parser.tag = parser.error = null\n    parser.strict = !!strict\n    parser.noscript = !!(strict || parser.opt.noscript)\n    parser.state = S.BEGIN\n    parser.strictEntities = parser.opt.strictEntities\n    parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES)\n    parser.attribList = []\n\n    // namespaces form a prototype chain.\n    // it always points at the current tag,\n    // which protos to its parent tag.\n    if (parser.opt.xmlns) {\n      parser.ns = Object.create(rootNS)\n    }\n\n    // mostly just for error reporting\n    parser.trackPosition = parser.opt.position !== false\n    if (parser.trackPosition) {\n      parser.position = parser.line = parser.column = 0\n    }\n    emit(parser, 'onready')\n  }\n\n  if (!Object.create) {\n    Object.create = function (o) {\n      function F () {}\n      F.prototype = o\n      var newf = new F()\n      return newf\n    }\n  }\n\n  if (!Object.keys) {\n    Object.keys = function (o) {\n      var a = []\n      for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n      return a\n    }\n  }\n\n  function checkBufferLength (parser) {\n    var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    var maxActual = 0\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      var len = parser[buffers[i]].length\n      if (len > maxAllowed) {\n        // Text/cdata nodes can get big, and since they're buffered,\n        // we can get here under normal conditions.\n        // Avoid issues by emitting the text node now,\n        // so at least it won't get any bigger.\n        switch (buffers[i]) {\n          case 'textNode':\n            closeText(parser)\n            break\n\n          case 'cdata':\n            emitNode(parser, 'oncdata', parser.cdata)\n            parser.cdata = ''\n            break\n\n          case 'script':\n            emitNode(parser, 'onscript', parser.script)\n            parser.script = ''\n            break\n\n          default:\n            error(parser, 'Max buffer length exceeded: ' + buffers[i])\n        }\n      }\n      maxActual = Math.max(maxActual, len)\n    }\n    // schedule the next check for the earliest possible buffer overrun.\n    var m = sax.MAX_BUFFER_LENGTH - maxActual\n    parser.bufferCheckPosition = m + parser.position\n  }\n\n  function clearBuffers (parser) {\n    for (var i = 0, l = buffers.length; i < l; i++) {\n      parser[buffers[i]] = ''\n    }\n  }\n\n  function flushBuffers (parser) {\n    closeText(parser)\n    if (parser.cdata !== '') {\n      emitNode(parser, 'oncdata', parser.cdata)\n      parser.cdata = ''\n    }\n    if (parser.script !== '') {\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n  }\n\n  SAXParser.prototype = {\n    end: function () { end(this) },\n    write: write,\n    resume: function () { this.error = null; return this },\n    close: function () { return this.write(null) },\n    flush: function () { flushBuffers(this) }\n  }\n\n  var Stream\n  try {\n    Stream = require('stream').Stream\n  } catch (ex) {\n    Stream = function () {}\n  }\n\n  var streamWraps = sax.EVENTS.filter(function (ev) {\n    return ev !== 'error' && ev !== 'end'\n  })\n\n  function createStream (strict, opt) {\n    return new SAXStream(strict, opt)\n  }\n\n  function SAXStream (strict, opt) {\n    if (!(this instanceof SAXStream)) {\n      return new SAXStream(strict, opt)\n    }\n\n    Stream.apply(this)\n\n    this._parser = new SAXParser(strict, opt)\n    this.writable = true\n    this.readable = true\n\n    var me = this\n\n    this._parser.onend = function () {\n      me.emit('end')\n    }\n\n    this._parser.onerror = function (er) {\n      me.emit('error', er)\n\n      // if didn't throw, then means error was handled.\n      // go ahead and clear error, so we can write again.\n      me._parser.error = null\n    }\n\n    this._decoder = null\n\n    streamWraps.forEach(function (ev) {\n      Object.defineProperty(me, 'on' + ev, {\n        get: function () {\n          return me._parser['on' + ev]\n        },\n        set: function (h) {\n          if (!h) {\n            me.removeAllListeners(ev)\n            me._parser['on' + ev] = h\n            return h\n          }\n          me.on(ev, h)\n        },\n        enumerable: true,\n        configurable: false\n      })\n    })\n  }\n\n  SAXStream.prototype = Object.create(Stream.prototype, {\n    constructor: {\n      value: SAXStream\n    }\n  })\n\n  SAXStream.prototype.write = function (data) {\n    if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n      if (!this._decoder) {\n        var SD = require('string_decoder').StringDecoder\n        this._decoder = new SD('utf8')\n      }\n      data = this._decoder.write(data)\n    }\n\n    this._parser.write(data.toString())\n    this.emit('data', data)\n    return true\n  }\n\n  SAXStream.prototype.end = function (chunk) {\n    if (chunk && chunk.length) {\n      this.write(chunk)\n    }\n    this._parser.end()\n    return true\n  }\n\n  SAXStream.prototype.on = function (ev, handler) {\n    var me = this\n    if (!me._parser['on' + ev] && streamWraps.indexOf(ev) !== -1) {\n      me._parser['on' + ev] = function () {\n        var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments)\n        args.splice(0, 0, ev)\n        me.emit.apply(me, args)\n      }\n    }\n\n    return Stream.prototype.on.call(me, ev, handler)\n  }\n\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  var CDATA = '[CDATA['\n  var DOCTYPE = 'DOCTYPE'\n  var XML_NAMESPACE = 'http://www.w3.org/XML/1998/namespace'\n  var XMLNS_NAMESPACE = 'http://www.w3.org/2000/xmlns/'\n  var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n  // http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n  // This implementation works on strings, a single character at a time\n  // as such, it cannot ever support astral-plane characters (10000-EFFFF)\n  // without a significant breaking change to either this  parser, or the\n  // JavaScript language.  Implementation of an emoji-capable xml parser\n  // is left as an exercise for the reader.\n  var nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\n  var nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  var entityStart = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n  var entityBody = /[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/\n\n  function isWhitespace (c) {\n    return c === ' ' || c === '\\n' || c === '\\r' || c === '\\t'\n  }\n\n  function isQuote (c) {\n    return c === '\"' || c === '\\''\n  }\n\n  function isAttribEnd (c) {\n    return c === '>' || isWhitespace(c)\n  }\n\n  function isMatch (regex, c) {\n    return regex.test(c)\n  }\n\n  function notMatch (regex, c) {\n    return !isMatch(regex, c)\n  }\n\n  var S = 0\n  sax.STATE = {\n    BEGIN: S++, // leading byte order mark or whitespace\n    BEGIN_WHITESPACE: S++, // leading whitespace\n    TEXT: S++, // general stuff\n    TEXT_ENTITY: S++, // &amp and such.\n    OPEN_WAKA: S++, // <\n    SGML_DECL: S++, // <!BLARG\n    SGML_DECL_QUOTED: S++, // <!BLARG foo \"bar\n    DOCTYPE: S++, // <!DOCTYPE\n    DOCTYPE_QUOTED: S++, // <!DOCTYPE \"//blah\n    DOCTYPE_DTD: S++, // <!DOCTYPE \"//blah\" [ ...\n    DOCTYPE_DTD_QUOTED: S++, // <!DOCTYPE \"//blah\" [ \"foo\n    COMMENT_STARTING: S++, // <!-\n    COMMENT: S++, // <!--\n    COMMENT_ENDING: S++, // <!-- blah -\n    COMMENT_ENDED: S++, // <!-- blah --\n    CDATA: S++, // <![CDATA[ something\n    CDATA_ENDING: S++, // ]\n    CDATA_ENDING_2: S++, // ]]\n    PROC_INST: S++, // <?hi\n    PROC_INST_BODY: S++, // <?hi there\n    PROC_INST_ENDING: S++, // <?hi \"there\" ?\n    OPEN_TAG: S++, // <strong\n    OPEN_TAG_SLASH: S++, // <strong /\n    ATTRIB: S++, // <a\n    ATTRIB_NAME: S++, // <a foo\n    ATTRIB_NAME_SAW_WHITE: S++, // <a foo _\n    ATTRIB_VALUE: S++, // <a foo=\n    ATTRIB_VALUE_QUOTED: S++, // <a foo=\"bar\n    ATTRIB_VALUE_CLOSED: S++, // <a foo=\"bar\"\n    ATTRIB_VALUE_UNQUOTED: S++, // <a foo=bar\n    ATTRIB_VALUE_ENTITY_Q: S++, // <foo bar=\"&quot;\"\n    ATTRIB_VALUE_ENTITY_U: S++, // <foo bar=&quot\n    CLOSE_TAG: S++, // </a\n    CLOSE_TAG_SAW_WHITE: S++, // </a   >\n    SCRIPT: S++, // <script> ...\n    SCRIPT_ENDING: S++ // <script> ... <\n  }\n\n  sax.XML_ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\"\n  }\n\n  sax.ENTITIES = {\n    'amp': '&',\n    'gt': '>',\n    'lt': '<',\n    'quot': '\"',\n    'apos': \"'\",\n    'AElig': 198,\n    'Aacute': 193,\n    'Acirc': 194,\n    'Agrave': 192,\n    'Aring': 197,\n    'Atilde': 195,\n    'Auml': 196,\n    'Ccedil': 199,\n    'ETH': 208,\n    'Eacute': 201,\n    'Ecirc': 202,\n    'Egrave': 200,\n    'Euml': 203,\n    'Iacute': 205,\n    'Icirc': 206,\n    'Igrave': 204,\n    'Iuml': 207,\n    'Ntilde': 209,\n    'Oacute': 211,\n    'Ocirc': 212,\n    'Ograve': 210,\n    'Oslash': 216,\n    'Otilde': 213,\n    'Ouml': 214,\n    'THORN': 222,\n    'Uacute': 218,\n    'Ucirc': 219,\n    'Ugrave': 217,\n    'Uuml': 220,\n    'Yacute': 221,\n    'aacute': 225,\n    'acirc': 226,\n    'aelig': 230,\n    'agrave': 224,\n    'aring': 229,\n    'atilde': 227,\n    'auml': 228,\n    'ccedil': 231,\n    'eacute': 233,\n    'ecirc': 234,\n    'egrave': 232,\n    'eth': 240,\n    'euml': 235,\n    'iacute': 237,\n    'icirc': 238,\n    'igrave': 236,\n    'iuml': 239,\n    'ntilde': 241,\n    'oacute': 243,\n    'ocirc': 244,\n    'ograve': 242,\n    'oslash': 248,\n    'otilde': 245,\n    'ouml': 246,\n    'szlig': 223,\n    'thorn': 254,\n    'uacute': 250,\n    'ucirc': 251,\n    'ugrave': 249,\n    'uuml': 252,\n    'yacute': 253,\n    'yuml': 255,\n    'copy': 169,\n    'reg': 174,\n    'nbsp': 160,\n    'iexcl': 161,\n    'cent': 162,\n    'pound': 163,\n    'curren': 164,\n    'yen': 165,\n    'brvbar': 166,\n    'sect': 167,\n    'uml': 168,\n    'ordf': 170,\n    'laquo': 171,\n    'not': 172,\n    'shy': 173,\n    'macr': 175,\n    'deg': 176,\n    'plusmn': 177,\n    'sup1': 185,\n    'sup2': 178,\n    'sup3': 179,\n    'acute': 180,\n    'micro': 181,\n    'para': 182,\n    'middot': 183,\n    'cedil': 184,\n    'ordm': 186,\n    'raquo': 187,\n    'frac14': 188,\n    'frac12': 189,\n    'frac34': 190,\n    'iquest': 191,\n    'times': 215,\n    'divide': 247,\n    'OElig': 338,\n    'oelig': 339,\n    'Scaron': 352,\n    'scaron': 353,\n    'Yuml': 376,\n    'fnof': 402,\n    'circ': 710,\n    'tilde': 732,\n    'Alpha': 913,\n    'Beta': 914,\n    'Gamma': 915,\n    'Delta': 916,\n    'Epsilon': 917,\n    'Zeta': 918,\n    'Eta': 919,\n    'Theta': 920,\n    'Iota': 921,\n    'Kappa': 922,\n    'Lambda': 923,\n    'Mu': 924,\n    'Nu': 925,\n    'Xi': 926,\n    'Omicron': 927,\n    'Pi': 928,\n    'Rho': 929,\n    'Sigma': 931,\n    'Tau': 932,\n    'Upsilon': 933,\n    'Phi': 934,\n    'Chi': 935,\n    'Psi': 936,\n    'Omega': 937,\n    'alpha': 945,\n    'beta': 946,\n    'gamma': 947,\n    'delta': 948,\n    'epsilon': 949,\n    'zeta': 950,\n    'eta': 951,\n    'theta': 952,\n    'iota': 953,\n    'kappa': 954,\n    'lambda': 955,\n    'mu': 956,\n    'nu': 957,\n    'xi': 958,\n    'omicron': 959,\n    'pi': 960,\n    'rho': 961,\n    'sigmaf': 962,\n    'sigma': 963,\n    'tau': 964,\n    'upsilon': 965,\n    'phi': 966,\n    'chi': 967,\n    'psi': 968,\n    'omega': 969,\n    'thetasym': 977,\n    'upsih': 978,\n    'piv': 982,\n    'ensp': 8194,\n    'emsp': 8195,\n    'thinsp': 8201,\n    'zwnj': 8204,\n    'zwj': 8205,\n    'lrm': 8206,\n    'rlm': 8207,\n    'ndash': 8211,\n    'mdash': 8212,\n    'lsquo': 8216,\n    'rsquo': 8217,\n    'sbquo': 8218,\n    'ldquo': 8220,\n    'rdquo': 8221,\n    'bdquo': 8222,\n    'dagger': 8224,\n    'Dagger': 8225,\n    'bull': 8226,\n    'hellip': 8230,\n    'permil': 8240,\n    'prime': 8242,\n    'Prime': 8243,\n    'lsaquo': 8249,\n    'rsaquo': 8250,\n    'oline': 8254,\n    'frasl': 8260,\n    'euro': 8364,\n    'image': 8465,\n    'weierp': 8472,\n    'real': 8476,\n    'trade': 8482,\n    'alefsym': 8501,\n    'larr': 8592,\n    'uarr': 8593,\n    'rarr': 8594,\n    'darr': 8595,\n    'harr': 8596,\n    'crarr': 8629,\n    'lArr': 8656,\n    'uArr': 8657,\n    'rArr': 8658,\n    'dArr': 8659,\n    'hArr': 8660,\n    'forall': 8704,\n    'part': 8706,\n    'exist': 8707,\n    'empty': 8709,\n    'nabla': 8711,\n    'isin': 8712,\n    'notin': 8713,\n    'ni': 8715,\n    'prod': 8719,\n    'sum': 8721,\n    'minus': 8722,\n    'lowast': 8727,\n    'radic': 8730,\n    'prop': 8733,\n    'infin': 8734,\n    'ang': 8736,\n    'and': 8743,\n    'or': 8744,\n    'cap': 8745,\n    'cup': 8746,\n    'int': 8747,\n    'there4': 8756,\n    'sim': 8764,\n    'cong': 8773,\n    'asymp': 8776,\n    'ne': 8800,\n    'equiv': 8801,\n    'le': 8804,\n    'ge': 8805,\n    'sub': 8834,\n    'sup': 8835,\n    'nsub': 8836,\n    'sube': 8838,\n    'supe': 8839,\n    'oplus': 8853,\n    'otimes': 8855,\n    'perp': 8869,\n    'sdot': 8901,\n    'lceil': 8968,\n    'rceil': 8969,\n    'lfloor': 8970,\n    'rfloor': 8971,\n    'lang': 9001,\n    'rang': 9002,\n    'loz': 9674,\n    'spades': 9824,\n    'clubs': 9827,\n    'hearts': 9829,\n    'diams': 9830\n  }\n\n  Object.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n  })\n\n  for (var s in sax.STATE) {\n    sax.STATE[sax.STATE[s]] = s\n  }\n\n  // shorthand\n  S = sax.STATE\n\n  function emit (parser, event, data) {\n    parser[event] && parser[event](data)\n  }\n\n  function emitNode (parser, nodeType, data) {\n    if (parser.textNode) closeText(parser)\n    emit(parser, nodeType, data)\n  }\n\n  function closeText (parser) {\n    parser.textNode = textopts(parser.opt, parser.textNode)\n    if (parser.textNode) emit(parser, 'ontext', parser.textNode)\n    parser.textNode = ''\n  }\n\n  function textopts (opt, text) {\n    if (opt.trim) text = text.trim()\n    if (opt.normalize) text = text.replace(/\\s+/g, ' ')\n    return text\n  }\n\n  function error (parser, er) {\n    closeText(parser)\n    if (parser.trackPosition) {\n      er += '\\nLine: ' + parser.line +\n        '\\nColumn: ' + parser.column +\n        '\\nChar: ' + parser.c\n    }\n    er = new Error(er)\n    parser.error = er\n    emit(parser, 'onerror', er)\n    return parser\n  }\n\n  function end (parser) {\n    if (parser.sawRoot && !parser.closedRoot) strictFail(parser, 'Unclosed root tag')\n    if ((parser.state !== S.BEGIN) &&\n      (parser.state !== S.BEGIN_WHITESPACE) &&\n      (parser.state !== S.TEXT)) {\n      error(parser, 'Unexpected end')\n    }\n    closeText(parser)\n    parser.c = ''\n    parser.closed = true\n    emit(parser, 'onend')\n    SAXParser.call(parser, parser.strict, parser.opt)\n    return parser\n  }\n\n  function strictFail (parser, message) {\n    if (typeof parser !== 'object' || !(parser instanceof SAXParser)) {\n      throw new Error('bad call to strictFail')\n    }\n    if (parser.strict) {\n      error(parser, message)\n    }\n  }\n\n  function newTag (parser) {\n    if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    var tag = parser.tag = { name: parser.tagName, attributes: {} }\n\n    // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n    if (parser.opt.xmlns) {\n      tag.ns = parent.ns\n    }\n    parser.attribList.length = 0\n    emitNode(parser, 'onopentagstart', tag)\n  }\n\n  function qname (name, attribute) {\n    var i = name.indexOf(':')\n    var qualName = i < 0 ? [ '', name ] : name.split(':')\n    var prefix = qualName[0]\n    var local = qualName[1]\n\n    // <x \"xmlns\"=\"http://foo\">\n    if (attribute && name === 'xmlns') {\n      prefix = 'xmlns'\n      local = ''\n    }\n\n    return { prefix: prefix, local: local }\n  }\n\n  function attrib (parser) {\n    if (!parser.strict) {\n      parser.attribName = parser.attribName[parser.looseCase]()\n    }\n\n    if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n      parser.attribName = parser.attribValue = ''\n      return\n    }\n\n    if (parser.opt.xmlns) {\n      var qn = qname(parser.attribName, true)\n      var prefix = qn.prefix\n      var local = qn.local\n\n      if (prefix === 'xmlns') {\n        // namespace binding attribute. push the binding into scope\n        if (local === 'xml' && parser.attribValue !== XML_NAMESPACE) {\n          strictFail(parser,\n            'xml: prefix must be bound to ' + XML_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else if (local === 'xmlns' && parser.attribValue !== XMLNS_NAMESPACE) {\n          strictFail(parser,\n            'xmlns: prefix must be bound to ' + XMLNS_NAMESPACE + '\\n' +\n            'Actual: ' + parser.attribValue)\n        } else {\n          var tag = parser.tag\n          var parent = parser.tags[parser.tags.length - 1] || parser\n          if (tag.ns === parent.ns) {\n            tag.ns = Object.create(parent.ns)\n          }\n          tag.ns[local] = parser.attribValue\n        }\n      }\n\n      // defer onattribute events until all attributes have been seen\n      // so any new bindings can take effect. preserve attribute order\n      // so deferred events can be emitted in document order\n      parser.attribList.push([parser.attribName, parser.attribValue])\n    } else {\n      // in non-xmlns mode, we can emit the event right away\n      parser.tag.attributes[parser.attribName] = parser.attribValue\n      emitNode(parser, 'onattribute', {\n        name: parser.attribName,\n        value: parser.attribValue\n      })\n    }\n\n    parser.attribName = parser.attribValue = ''\n  }\n\n  function openTag (parser, selfClosing) {\n    if (parser.opt.xmlns) {\n      // emit namespace binding events\n      var tag = parser.tag\n\n      // add namespace info to tag\n      var qn = qname(parser.tagName)\n      tag.prefix = qn.prefix\n      tag.local = qn.local\n      tag.uri = tag.ns[qn.prefix] || ''\n\n      if (tag.prefix && !tag.uri) {\n        strictFail(parser, 'Unbound namespace prefix: ' +\n          JSON.stringify(parser.tagName))\n        tag.uri = qn.prefix\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (tag.ns && parent.ns !== tag.ns) {\n        Object.keys(tag.ns).forEach(function (p) {\n          emitNode(parser, 'onopennamespace', {\n            prefix: p,\n            uri: tag.ns[p]\n          })\n        })\n      }\n\n      // handle deferred onattribute events\n      // Note: do not apply default ns to attributes:\n      //   http://www.w3.org/TR/REC-xml-names/#defaulting\n      for (var i = 0, l = parser.attribList.length; i < l; i++) {\n        var nv = parser.attribList[i]\n        var name = nv[0]\n        var value = nv[1]\n        var qualName = qname(name, true)\n        var prefix = qualName.prefix\n        var local = qualName.local\n        var uri = prefix === '' ? '' : (tag.ns[prefix] || '')\n        var a = {\n          name: name,\n          value: value,\n          prefix: prefix,\n          local: local,\n          uri: uri\n        }\n\n        // if there's any attributes with an undefined namespace,\n        // then fail on them now.\n        if (prefix && prefix !== 'xmlns' && !uri) {\n          strictFail(parser, 'Unbound namespace prefix: ' +\n            JSON.stringify(prefix))\n          a.uri = prefix\n        }\n        parser.tag.attributes[name] = a\n        emitNode(parser, 'onattribute', a)\n      }\n      parser.attribList.length = 0\n    }\n\n    parser.tag.isSelfClosing = !!selfClosing\n\n    // process the tag\n    parser.sawRoot = true\n    parser.tags.push(parser.tag)\n    emitNode(parser, 'onopentag', parser.tag)\n    if (!selfClosing) {\n      // special case for <script> in non-strict mode.\n      if (!parser.noscript && parser.tagName.toLowerCase() === 'script') {\n        parser.state = S.SCRIPT\n      } else {\n        parser.state = S.TEXT\n      }\n      parser.tag = null\n      parser.tagName = ''\n    }\n    parser.attribName = parser.attribValue = ''\n    parser.attribList.length = 0\n  }\n\n  function closeTag (parser) {\n    if (!parser.tagName) {\n      strictFail(parser, 'Weird empty close tag.')\n      parser.textNode += '</>'\n      parser.state = S.TEXT\n      return\n    }\n\n    if (parser.script) {\n      if (parser.tagName !== 'script') {\n        parser.script += '</' + parser.tagName + '>'\n        parser.tagName = ''\n        parser.state = S.SCRIPT\n        return\n      }\n      emitNode(parser, 'onscript', parser.script)\n      parser.script = ''\n    }\n\n    // first make sure that the closing tag actually exists.\n    // <a><b></c></b></a> will close everything, otherwise.\n    var t = parser.tags.length\n    var tagName = parser.tagName\n    if (!parser.strict) {\n      tagName = tagName[parser.looseCase]()\n    }\n    var closeTo = tagName\n    while (t--) {\n      var close = parser.tags[t]\n      if (close.name !== closeTo) {\n        // fail the first time in strict mode\n        strictFail(parser, 'Unexpected close tag')\n      } else {\n        break\n      }\n    }\n\n    // didn't find it.  we already failed for strict, so just abort.\n    if (t < 0) {\n      strictFail(parser, 'Unmatched closing tag: ' + parser.tagName)\n      parser.textNode += '</' + parser.tagName + '>'\n      parser.state = S.TEXT\n      return\n    }\n    parser.tagName = tagName\n    var s = parser.tags.length\n    while (s-- > t) {\n      var tag = parser.tag = parser.tags.pop()\n      parser.tagName = parser.tag.name\n      emitNode(parser, 'onclosetag', parser.tagName)\n\n      var x = {}\n      for (var i in tag.ns) {\n        x[i] = tag.ns[i]\n      }\n\n      var parent = parser.tags[parser.tags.length - 1] || parser\n      if (parser.opt.xmlns && tag.ns !== parent.ns) {\n        // remove namespace bindings introduced by tag\n        Object.keys(tag.ns).forEach(function (p) {\n          var n = tag.ns[p]\n          emitNode(parser, 'onclosenamespace', { prefix: p, uri: n })\n        })\n      }\n    }\n    if (t === 0) parser.closedRoot = true\n    parser.tagName = parser.attribValue = parser.attribName = ''\n    parser.attribList.length = 0\n    parser.state = S.TEXT\n  }\n\n  function parseEntity (parser) {\n    var entity = parser.entity\n    var entityLC = entity.toLowerCase()\n    var num\n    var numStr = ''\n\n    if (parser.ENTITIES[entity]) {\n      return parser.ENTITIES[entity]\n    }\n    if (parser.ENTITIES[entityLC]) {\n      return parser.ENTITIES[entityLC]\n    }\n    entity = entityLC\n    if (entity.charAt(0) === '#') {\n      if (entity.charAt(1) === 'x') {\n        entity = entity.slice(2)\n        num = parseInt(entity, 16)\n        numStr = num.toString(16)\n      } else {\n        entity = entity.slice(1)\n        num = parseInt(entity, 10)\n        numStr = num.toString(10)\n      }\n    }\n    entity = entity.replace(/^0+/, '')\n    if (isNaN(num) || numStr.toLowerCase() !== entity) {\n      strictFail(parser, 'Invalid character entity')\n      return '&' + parser.entity + ';'\n    }\n\n    return String.fromCodePoint(num)\n  }\n\n  function beginWhiteSpace (parser, c) {\n    if (c === '<') {\n      parser.state = S.OPEN_WAKA\n      parser.startTagPosition = parser.position\n    } else if (!isWhitespace(c)) {\n      // have to process this as a text node.\n      // weird, but happens.\n      strictFail(parser, 'Non-whitespace before first tag.')\n      parser.textNode = c\n      parser.state = S.TEXT\n    }\n  }\n\n  function charAt (chunk, i) {\n    var result = ''\n    if (i < chunk.length) {\n      result = chunk.charAt(i)\n    }\n    return result\n  }\n\n  function write (chunk) {\n    var parser = this\n    if (this.error) {\n      throw this.error\n    }\n    if (parser.closed) {\n      return error(parser,\n        'Cannot write after close. Assign an onready handler.')\n    }\n    if (chunk === null) {\n      return end(parser)\n    }\n    if (typeof chunk === 'object') {\n      chunk = chunk.toString()\n    }\n    var i = 0\n    var c = ''\n    while (true) {\n      c = charAt(chunk, i++)\n      parser.c = c\n\n      if (!c) {\n        break\n      }\n\n      if (parser.trackPosition) {\n        parser.position++\n        if (c === '\\n') {\n          parser.line++\n          parser.column = 0\n        } else {\n          parser.column++\n        }\n      }\n\n      switch (parser.state) {\n        case S.BEGIN:\n          parser.state = S.BEGIN_WHITESPACE\n          if (c === '\\uFEFF') {\n            continue\n          }\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.BEGIN_WHITESPACE:\n          beginWhiteSpace(parser, c)\n          continue\n\n        case S.TEXT:\n          if (parser.sawRoot && !parser.closedRoot) {\n            var starti = i - 1\n            while (c && c !== '<' && c !== '&') {\n              c = charAt(chunk, i++)\n              if (c && parser.trackPosition) {\n                parser.position++\n                if (c === '\\n') {\n                  parser.line++\n                  parser.column = 0\n                } else {\n                  parser.column++\n                }\n              }\n            }\n            parser.textNode += chunk.substring(starti, i - 1)\n          }\n          if (c === '<' && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {\n            parser.state = S.OPEN_WAKA\n            parser.startTagPosition = parser.position\n          } else {\n            if (!isWhitespace(c) && (!parser.sawRoot || parser.closedRoot)) {\n              strictFail(parser, 'Text data outside of root node.')\n            }\n            if (c === '&') {\n              parser.state = S.TEXT_ENTITY\n            } else {\n              parser.textNode += c\n            }\n          }\n          continue\n\n        case S.SCRIPT:\n          // only non-strict\n          if (c === '<') {\n            parser.state = S.SCRIPT_ENDING\n          } else {\n            parser.script += c\n          }\n          continue\n\n        case S.SCRIPT_ENDING:\n          if (c === '/') {\n            parser.state = S.CLOSE_TAG\n          } else {\n            parser.script += '<' + c\n            parser.state = S.SCRIPT\n          }\n          continue\n\n        case S.OPEN_WAKA:\n          // either a /, ?, !, or text is coming next.\n          if (c === '!') {\n            parser.state = S.SGML_DECL\n            parser.sgmlDecl = ''\n          } else if (isWhitespace(c)) {\n            // wait for it...\n          } else if (isMatch(nameStart, c)) {\n            parser.state = S.OPEN_TAG\n            parser.tagName = c\n          } else if (c === '/') {\n            parser.state = S.CLOSE_TAG\n            parser.tagName = ''\n          } else if (c === '?') {\n            parser.state = S.PROC_INST\n            parser.procInstName = parser.procInstBody = ''\n          } else {\n            strictFail(parser, 'Unencoded <')\n            // if there was some whitespace, then add that in.\n            if (parser.startTagPosition + 1 < parser.position) {\n              var pad = parser.position - parser.startTagPosition\n              c = new Array(pad).join(' ') + c\n            }\n            parser.textNode += '<' + c\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.SGML_DECL:\n          if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {\n            emitNode(parser, 'onopencdata')\n            parser.state = S.CDATA\n            parser.sgmlDecl = ''\n            parser.cdata = ''\n          } else if (parser.sgmlDecl + c === '--') {\n            parser.state = S.COMMENT\n            parser.comment = ''\n            parser.sgmlDecl = ''\n          } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {\n            parser.state = S.DOCTYPE\n            if (parser.doctype || parser.sawRoot) {\n              strictFail(parser,\n                'Inappropriately located doctype declaration')\n            }\n            parser.doctype = ''\n            parser.sgmlDecl = ''\n          } else if (c === '>') {\n            emitNode(parser, 'onsgmldeclaration', parser.sgmlDecl)\n            parser.sgmlDecl = ''\n            parser.state = S.TEXT\n          } else if (isQuote(c)) {\n            parser.state = S.SGML_DECL_QUOTED\n            parser.sgmlDecl += c\n          } else {\n            parser.sgmlDecl += c\n          }\n          continue\n\n        case S.SGML_DECL_QUOTED:\n          if (c === parser.q) {\n            parser.state = S.SGML_DECL\n            parser.q = ''\n          }\n          parser.sgmlDecl += c\n          continue\n\n        case S.DOCTYPE:\n          if (c === '>') {\n            parser.state = S.TEXT\n            emitNode(parser, 'ondoctype', parser.doctype)\n            parser.doctype = true // just remember that we saw it.\n          } else {\n            parser.doctype += c\n            if (c === '[') {\n              parser.state = S.DOCTYPE_DTD\n            } else if (isQuote(c)) {\n              parser.state = S.DOCTYPE_QUOTED\n              parser.q = c\n            }\n          }\n          continue\n\n        case S.DOCTYPE_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.q = ''\n            parser.state = S.DOCTYPE\n          }\n          continue\n\n        case S.DOCTYPE_DTD:\n          parser.doctype += c\n          if (c === ']') {\n            parser.state = S.DOCTYPE\n          } else if (isQuote(c)) {\n            parser.state = S.DOCTYPE_DTD_QUOTED\n            parser.q = c\n          }\n          continue\n\n        case S.DOCTYPE_DTD_QUOTED:\n          parser.doctype += c\n          if (c === parser.q) {\n            parser.state = S.DOCTYPE_DTD\n            parser.q = ''\n          }\n          continue\n\n        case S.COMMENT:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDING\n          } else {\n            parser.comment += c\n          }\n          continue\n\n        case S.COMMENT_ENDING:\n          if (c === '-') {\n            parser.state = S.COMMENT_ENDED\n            parser.comment = textopts(parser.opt, parser.comment)\n            if (parser.comment) {\n              emitNode(parser, 'oncomment', parser.comment)\n            }\n            parser.comment = ''\n          } else {\n            parser.comment += '-' + c\n            parser.state = S.COMMENT\n          }\n          continue\n\n        case S.COMMENT_ENDED:\n          if (c !== '>') {\n            strictFail(parser, 'Malformed comment')\n            // allow <!-- blah -- bloo --> in non-strict mode,\n            // which is a comment of \" blah -- bloo \"\n            parser.comment += '--' + c\n            parser.state = S.COMMENT\n          } else {\n            parser.state = S.TEXT\n          }\n          continue\n\n        case S.CDATA:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING\n          } else {\n            parser.cdata += c\n          }\n          continue\n\n        case S.CDATA_ENDING:\n          if (c === ']') {\n            parser.state = S.CDATA_ENDING_2\n          } else {\n            parser.cdata += ']' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.CDATA_ENDING_2:\n          if (c === '>') {\n            if (parser.cdata) {\n              emitNode(parser, 'oncdata', parser.cdata)\n            }\n            emitNode(parser, 'onclosecdata')\n            parser.cdata = ''\n            parser.state = S.TEXT\n          } else if (c === ']') {\n            parser.cdata += ']'\n          } else {\n            parser.cdata += ']]' + c\n            parser.state = S.CDATA\n          }\n          continue\n\n        case S.PROC_INST:\n          if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else if (isWhitespace(c)) {\n            parser.state = S.PROC_INST_BODY\n          } else {\n            parser.procInstName += c\n          }\n          continue\n\n        case S.PROC_INST_BODY:\n          if (!parser.procInstBody && isWhitespace(c)) {\n            continue\n          } else if (c === '?') {\n            parser.state = S.PROC_INST_ENDING\n          } else {\n            parser.procInstBody += c\n          }\n          continue\n\n        case S.PROC_INST_ENDING:\n          if (c === '>') {\n            emitNode(parser, 'onprocessinginstruction', {\n              name: parser.procInstName,\n              body: parser.procInstBody\n            })\n            parser.procInstName = parser.procInstBody = ''\n            parser.state = S.TEXT\n          } else {\n            parser.procInstBody += '?' + c\n            parser.state = S.PROC_INST_BODY\n          }\n          continue\n\n        case S.OPEN_TAG:\n          if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else {\n            newTag(parser)\n            if (c === '>') {\n              openTag(parser)\n            } else if (c === '/') {\n              parser.state = S.OPEN_TAG_SLASH\n            } else {\n              if (!isWhitespace(c)) {\n                strictFail(parser, 'Invalid character in tag name')\n              }\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.OPEN_TAG_SLASH:\n          if (c === '>') {\n            openTag(parser, true)\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Forward-slash in opening tag not followed by >')\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.ATTRIB:\n          // haven't read the attribute name yet.\n          if (isWhitespace(c)) {\n            continue\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (c === '>') {\n            strictFail(parser, 'Attribute without value')\n            parser.attribValue = parser.attribName\n            attrib(parser)\n            openTag(parser)\n          } else if (isWhitespace(c)) {\n            parser.state = S.ATTRIB_NAME_SAW_WHITE\n          } else if (isMatch(nameBody, c)) {\n            parser.attribName += c\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_NAME_SAW_WHITE:\n          if (c === '=') {\n            parser.state = S.ATTRIB_VALUE\n          } else if (isWhitespace(c)) {\n            continue\n          } else {\n            strictFail(parser, 'Attribute without value')\n            parser.tag.attributes[parser.attribName] = ''\n            parser.attribValue = ''\n            emitNode(parser, 'onattribute', {\n              name: parser.attribName,\n              value: ''\n            })\n            parser.attribName = ''\n            if (c === '>') {\n              openTag(parser)\n            } else if (isMatch(nameStart, c)) {\n              parser.attribName = c\n              parser.state = S.ATTRIB_NAME\n            } else {\n              strictFail(parser, 'Invalid attribute name')\n              parser.state = S.ATTRIB\n            }\n          }\n          continue\n\n        case S.ATTRIB_VALUE:\n          if (isWhitespace(c)) {\n            continue\n          } else if (isQuote(c)) {\n            parser.q = c\n            parser.state = S.ATTRIB_VALUE_QUOTED\n          } else {\n            strictFail(parser, 'Unquoted attribute value')\n            parser.state = S.ATTRIB_VALUE_UNQUOTED\n            parser.attribValue = c\n          }\n          continue\n\n        case S.ATTRIB_VALUE_QUOTED:\n          if (c !== parser.q) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_Q\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          parser.q = ''\n          parser.state = S.ATTRIB_VALUE_CLOSED\n          continue\n\n        case S.ATTRIB_VALUE_CLOSED:\n          if (isWhitespace(c)) {\n            parser.state = S.ATTRIB\n          } else if (c === '>') {\n            openTag(parser)\n          } else if (c === '/') {\n            parser.state = S.OPEN_TAG_SLASH\n          } else if (isMatch(nameStart, c)) {\n            strictFail(parser, 'No whitespace between attributes')\n            parser.attribName = c\n            parser.attribValue = ''\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, 'Invalid attribute name')\n          }\n          continue\n\n        case S.ATTRIB_VALUE_UNQUOTED:\n          if (!isAttribEnd(c)) {\n            if (c === '&') {\n              parser.state = S.ATTRIB_VALUE_ENTITY_U\n            } else {\n              parser.attribValue += c\n            }\n            continue\n          }\n          attrib(parser)\n          if (c === '>') {\n            openTag(parser)\n          } else {\n            parser.state = S.ATTRIB\n          }\n          continue\n\n        case S.CLOSE_TAG:\n          if (!parser.tagName) {\n            if (isWhitespace(c)) {\n              continue\n            } else if (notMatch(nameStart, c)) {\n              if (parser.script) {\n                parser.script += '</' + c\n                parser.state = S.SCRIPT\n              } else {\n                strictFail(parser, 'Invalid tagname in closing tag.')\n              }\n            } else {\n              parser.tagName = c\n            }\n          } else if (c === '>') {\n            closeTag(parser)\n          } else if (isMatch(nameBody, c)) {\n            parser.tagName += c\n          } else if (parser.script) {\n            parser.script += '</' + parser.tagName\n            parser.tagName = ''\n            parser.state = S.SCRIPT\n          } else {\n            if (!isWhitespace(c)) {\n              strictFail(parser, 'Invalid tagname in closing tag')\n            }\n            parser.state = S.CLOSE_TAG_SAW_WHITE\n          }\n          continue\n\n        case S.CLOSE_TAG_SAW_WHITE:\n          if (isWhitespace(c)) {\n            continue\n          }\n          if (c === '>') {\n            closeTag(parser)\n          } else {\n            strictFail(parser, 'Invalid characters in closing tag')\n          }\n          continue\n\n        case S.TEXT_ENTITY:\n        case S.ATTRIB_VALUE_ENTITY_Q:\n        case S.ATTRIB_VALUE_ENTITY_U:\n          var returnState\n          var buffer\n          switch (parser.state) {\n            case S.TEXT_ENTITY:\n              returnState = S.TEXT\n              buffer = 'textNode'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_Q:\n              returnState = S.ATTRIB_VALUE_QUOTED\n              buffer = 'attribValue'\n              break\n\n            case S.ATTRIB_VALUE_ENTITY_U:\n              returnState = S.ATTRIB_VALUE_UNQUOTED\n              buffer = 'attribValue'\n              break\n          }\n\n          if (c === ';') {\n            parser[buffer] += parseEntity(parser)\n            parser.entity = ''\n            parser.state = returnState\n          } else if (isMatch(parser.entity.length ? entityBody : entityStart, c)) {\n            parser.entity += c\n          } else {\n            strictFail(parser, 'Invalid character in entity name')\n            parser[buffer] += '&' + parser.entity + c\n            parser.entity = ''\n            parser.state = returnState\n          }\n\n          continue\n\n        default:\n          throw new Error(parser, 'Unknown state: ' + parser.state)\n      }\n    } // while\n\n    if (parser.position >= parser.bufferCheckPosition) {\n      checkBufferLength(parser)\n    }\n    return parser\n  }\n\n  /*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\n  /* istanbul ignore next */\n  if (!String.fromCodePoint) {\n    (function () {\n      var stringFromCharCode = String.fromCharCode\n      var floor = Math.floor\n      var fromCodePoint = function () {\n        var MAX_SIZE = 0x4000\n        var codeUnits = []\n        var highSurrogate\n        var lowSurrogate\n        var index = -1\n        var length = arguments.length\n        if (!length) {\n          return ''\n        }\n        var result = ''\n        while (++index < length) {\n          var codePoint = Number(arguments[index])\n          if (\n            !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n            codePoint < 0 || // not a valid Unicode code point\n            codePoint > 0x10FFFF || // not a valid Unicode code point\n            floor(codePoint) !== codePoint // not an integer\n          ) {\n            throw RangeError('Invalid code point: ' + codePoint)\n          }\n          if (codePoint <= 0xFFFF) { // BMP code point\n            codeUnits.push(codePoint)\n          } else { // Astral code point; split in surrogate halves\n            // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n            codePoint -= 0x10000\n            highSurrogate = (codePoint >> 10) + 0xD800\n            lowSurrogate = (codePoint % 0x400) + 0xDC00\n            codeUnits.push(highSurrogate, lowSurrogate)\n          }\n          if (index + 1 === length || codeUnits.length > MAX_SIZE) {\n            result += stringFromCharCode.apply(null, codeUnits)\n            codeUnits.length = 0\n          }\n        }\n        return result\n      }\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(String, 'fromCodePoint', {\n          value: fromCodePoint,\n          configurable: true,\n          writable: true\n        })\n      } else {\n        String.fromCodePoint = fromCodePoint\n      }\n    }())\n  }\n})(typeof exports === 'undefined' ? this.sax = {} : exports)\n","\nvar thenify = require('thenify')\n\nmodule.exports = thenifyAll\nthenifyAll.withCallback = withCallback\nthenifyAll.thenify = thenify\n\n/**\n * Promisifies all the selected functions in an object.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction thenifyAll(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify)\n}\n\n/**\n * Promisifies all the selected functions in an object and backward compatible with callback.\n *\n * @param {Object} source the source object for the async functions\n * @param {Object} [destination] the destination to set all the promisified methods\n * @param {Array} [methods] an array of method names of `source`\n * @return {Object}\n * @api public\n */\n\nfunction withCallback(source, destination, methods) {\n  return promisifyAll(source, destination, methods, thenify.withCallback)\n}\n\nfunction promisifyAll(source, destination, methods, promisify) {\n  if (!destination) {\n    destination = {};\n    methods = Object.keys(source)\n  }\n\n  if (Array.isArray(destination)) {\n    methods = destination\n    destination = {}\n  }\n\n  if (!methods) {\n    methods = Object.keys(source)\n  }\n\n  if (typeof source === 'function') destination = promisify(source)\n\n  methods.forEach(function (name) {\n    // promisify only if it's a function\n    if (typeof source[name] === 'function') destination[name] = promisify(source[name])\n  })\n\n  // proxy the rest\n  Object.keys(source).forEach(function (name) {\n    if (deprecated(source, name)) return\n    if (destination[name]) return\n    destination[name] = source[name]\n  })\n\n  return destination\n}\n\nfunction deprecated(source, name) {\n  var desc = Object.getOwnPropertyDescriptor(source, name)\n  if (!desc || !desc.get) return false\n  if (desc.get.name === 'deprecated') return true\n  return false\n}\n","\nvar Promise = require('any-promise')\nvar assert = require('assert')\n\nmodule.exports = thenify\n\n/**\n * Turn async functions into promises\n *\n * @param {Function} fn\n * @return {Function}\n * @api public\n */\n\nfunction thenify(fn, options) {\n  assert(typeof fn === 'function')\n  return createWrapper(fn, options)\n}\n\n/**\n * Turn async functions into promises and backward compatible with callback\n *\n * @param {Function} fn\n * @return {Function}\n * @api public\n */\n\nthenify.withCallback = function (fn, options) {\n  assert(typeof fn === 'function')\n  options = options || {}\n  options.withCallback = true\n  return createWrapper(fn, options)\n}\n\nfunction createCallback(resolve, reject, multiArgs) {\n  // default to true\n  if (multiArgs === undefined) multiArgs = true\n  return function(err, value) {\n    if (err) return reject(err)\n    var length = arguments.length\n\n    if (length <= 2 || !multiArgs) return resolve(value)\n\n    if (Array.isArray(multiArgs)) {\n      var values = {}\n      for (var i = 1; i < length; i++) values[multiArgs[i - 1]] = arguments[i]\n      return resolve(values)\n    }\n\n    var values = new Array(length - 1)\n    for (var i = 1; i < length; ++i) values[i - 1] = arguments[i]\n    resolve(values)\n  }\n}\n\nfunction createWrapper(fn, options) {\n  options = options || {}\n  var name = fn.name;\n  name = (name || '').replace(/\\s|bound(?!$)/g, '')\n  var newFn = function () {\n    var self = this\n    var len = arguments.length\n    if (options.withCallback) {\n      var lastType = typeof arguments[len - 1]\n      if (lastType === 'function') return fn.apply(self, arguments)\n    }\n    var args = new Array(len + 1)\n    for (var i = 0; i < len; ++i) args[i] = arguments[i]\n    var lastIndex = i\n    return new Promise(function (resolve, reject) {\n      args[lastIndex] = createCallback(resolve, reject, options.multiArgs)\n      fn.apply(self, args)\n    })\n  }\n  Object.defineProperty(newFn, 'name', { value: name })\n  return newFn\n}\n","import * as vscode from \"vscode\";\n\nexport class BaseCommand {\n\n    public rootPath: vscode.Uri;\n    public context: vscode.ExtensionContext;\n\n    constructor(context : vscode.ExtensionContext) {\n        if(vscode.workspace.workspaceFolders && vscode.workspace.workspaceFolders[0].uri){\n            this.rootPath = vscode.workspace.workspaceFolders[0].uri;\n            this.context = context;\n        } else {\n        //    todo add warning\n\n        }\n    }\n\n}","import * as fs from \"mz/fs\";\nimport * as vscode from \"vscode\";\nimport {XMLParser} from \"../libs/XMLParser\";\nimport Flow = require(\"../models/Flow\");\nimport {BaseCommand} from \"./BaseCommand\";\nconst path = require('path');\n\nexport class CreateTestDataCommand extends BaseCommand{\n\n    constructor(context : vscode.ExtensionContext\n    ) {\n        super(context)\n    }\n\n    public async execute() {\n        let selectedFlowFile;\n        do {\n            selectedFlowFile = await vscode.window.showOpenDialog({\n                canSelectFiles: true,\n                canSelectFolders: false,\n                canSelectMany: false,\n                defaultUri: this.rootPath,\n                filters: {\n                    'Flow': ['flow-meta.xml']\n                }\n            });\n        } while (!selectedFlowFile);\n        this.parseFlow(selectedFlowFile[0]);\n    }\n\n    private async parseFlow(selectedUri: vscode.Uri) {\n        const parsedContent: { Flow: Flow } = await new XMLParser().execute(await fs.readFile(path.normalize(selectedUri.fsPath)));\n        let saveResult;\n        do {\n            saveResult = await vscode.window.showSaveDialog({\n                filters: {\n                    'JSON': ['json']\n                }\n            });\n        } while (!saveResult);\n        await fs.writeFile(saveResult.fsPath, JSON.stringify(parsedContent));\n    }\n}\n","import * as vscode from \"vscode\";\nimport {SelectAFlow} from \"../libs/SelectAFlow\";\nimport {BaseCommand} from \"./BaseCommand\";\nimport {BuildNewFlow} from \"../libs/BuildNewFlow\";\nimport {SaveFlow} from \"../libs/SaveFlow\";\nimport {UnconnectedElements} from \"../rules/UnconnectedElements\";\nimport {UnusedVariables} from \"../rules/UnusedVariables\";\nimport Flow = require(\"../models/Flow\");\nimport {FixReport} from \"../panels/FixReport\";\nimport {FindFlowMetadata} from \"../libs/FindFlowMetadata\";\n\nexport class FixFlowCommand extends BaseCommand {\n\n    constructor(context: vscode.ExtensionContext\n    ) {\n        super(context)\n    }\n\n    public async execute() {\n        const selectedFlow: Flow = await new SelectAFlow(this.rootPath, 'Select a Flow to clean:').execute(this.rootPath);\n        selectedFlow.flowMetadata = new FindFlowMetadata().execute(selectedFlow);\n        selectedFlow.unusedVariables = new UnusedVariables().execute(selectedFlow);\n        selectedFlow.unconnectedElements = new UnconnectedElements().execute(selectedFlow);\n        selectedFlow.processedData = new BuildNewFlow().execute(selectedFlow);\n        const result = await new SaveFlow().execute(selectedFlow, selectedFlow.uri);\n        if (result) {\n            FixReport.createOrShow(this.context.extensionUri, selectedFlow);\n        }\n    }\n\n}","import { BaseCommand } from \"./BaseCommand\";\nimport * as vscode from \"vscode\";\nimport Flow = require(\"../models/Flow\");\nimport { SelectFlows } from \"../libs/SelectFlows\";\nimport {ParseFlows} from \"../libs/ParseFlows\";\nimport { ScanFlows } from \"../libs/ScanFlows\";\nimport { LintFlowsReport } from \"../panels/LintFlowsReport\";\nimport { SelectRules } from \"../panels/SelectRules\";\n\nexport class LintFlowsCommand extends BaseCommand{\n\n    constructor(context : vscode.ExtensionContext\n    ) {\n        super(context)\n    }\n\n    public async execute() {\n\n        SelectRules.createOrShow(this.rootPath, this.context.extensionUri);\n    }\n\n}","import Flow = require(\"../models/Flow\");\nimport FlowMetadata = require(\"../models/FlowMetadata\");\nimport FlowVariable = require(\"../models/FlowVariable\");\nimport FlowElement = require(\"../models/FlowElement\");\n\nexport class BuildNewFlow {\n\n    constructor() {\n\n    }\n\n    public execute(flow: Flow) {\n        return this.buildFlow([\n            ...flow.nodes.filter(node => node instanceof FlowMetadata),\n            ...flow.nodes.filter(node => {\n                if(flow.unusedVariables && flow.unusedVariables.length > 0){\n                    if(node instanceof FlowVariable && !flow.unusedVariables.includes(node)){\n                        return node;\n                    }\n                } else {\n                    if(node instanceof FlowVariable){\n                        return node;\n                    }\n                }\n            }),\n            ...flow.nodes.filter(node => {\n                if(flow.unconnectedElements && flow.unconnectedElements.length > 0){\n                    if(node instanceof FlowElement && !flow.unconnectedElements.includes(node)){\n                        return node;\n                    }\n                } else {\n                    if(node instanceof FlowElement){\n                        return node;\n                    }\n                }\n            })]);\n    }\n\n    private buildFlow(nodesToMerge) {\n        let res = {};\n        for (const nodeToMerge of nodesToMerge) {\n            let subtype = nodeToMerge.subtype;\n            const nodesOfType = nodesToMerge.filter(node => subtype === node.subtype);\n            res = this.convertFlowNodes(res, nodesOfType, subtype);\n        }\n        return {'Flow': res};\n    }\n\n    private convertFlowNodes(obj, nodes, key) {\n        obj[key] = nodes.map(node => node.element);\n        return obj;\n    };\n\n}\n","import Flow = require(\"../models/Flow\");\nimport FlowMetadata = require(\"../models/FlowMetadata\");\n\nexport class FindFlowMetadata {\n\n    public execute(flow: Flow) {\n        return flow.nodes.filter(node => node instanceof FlowMetadata);\n    }\n\n}","import * as vscode from \"vscode\";\nimport {XMLParser} from \"./XMLParser\";\nimport * as fs from \"mz/fs\";\nimport {URI} from \"vscode-uri\";\nimport Flow = require(\"../models/Flow\");\nimport path = require(\"path\");\n\n\nexport class ParseFlows {\n\n    public async execute(selectedFlowUris: vscode.Uri[]) {\n        const flows: Flow[] = await this.parseFlows(selectedFlowUris);\n        return flows;\n    }\n\n    private async parseFlows(selectedUris: vscode.Uri[]) {\n\n        let parsedFlows = [];\n        for (let uri of selectedUris) {\n            try{\n                const parsedContent: { Flow: Flow } = await new XMLParser().execute(await fs.readFile(path.normalize(uri.fsPath)));\n                parsedFlows.push(new Flow(\n                    {\n                        interviewLabel: parsedContent.Flow.interviewLabel,\n                        label: parsedContent.Flow.label,\n                        processMetadataValues: parsedContent.Flow.processMetadataValues,\n                        processType: parsedContent.Flow.processType,\n                        start: parsedContent.Flow.start,\n                        status: parsedContent.Flow.status,\n                        uri: uri,\n                        xmldata: parsedContent\n                    }));\n            } catch (e) {\n                vscode.window.showInformationMessage(e.name + ' ' + uri);\n            }\n        }\n        return parsedFlows;\n    }\n}\n","import * as fs from \"mz/fs\";\nimport Flow = require(\"../models/Flow\");\nconst xml2js = require(\"xml2js\");\nimport {URI} from 'vscode-uri';\n\n\nexport class SaveFlow {\n    public async execute(flow: Flow, defaultUri: URI) {\n        await this.writeFlow(flow, defaultUri);\n        return defaultUri;\n    }\n\n    private async writeFlow(flow: Flow, pathToWrite: URI) {\n        const xml = new xml2js.Builder().buildObject(flow.processedData);\n        await fs.writeFile(pathToWrite.fsPath, xml);\n        return true;\n    }\n}\n","import Flow = require(\"../models/Flow\");\nimport {UnconnectedElements} from \"../rules/UnconnectedElements\";\nimport {UnusedVariables} from \"../rules/UnusedVariables\";\nimport {HardcodedIds} from \"../rules/HardcodedIds\";\nimport {DMLStatementInLoop} from \"../rules/DMLStatementInLoop\";\nimport {MissingFaultPath} from \"../rules/MissingFaultPath\";\n\nexport class ScanFlows{\n\n    public execute(flows : Flow[], options) {\n\n        for (const flow of flows){\n            if(options.dmlStatementInLoop){\n                flow.dmlStatementInLoop = new DMLStatementInLoop().execute(flow);\n            }\n            if(options.hardcodedIds){\n                flow.nodesWithHardcodedIds = new HardcodedIds().execute(flow);\n            }\n            if(options.missingFaultPaths){\n                flow.missingFaultPaths = new MissingFaultPath().execute(flow);\n            }\n            if(options.unconnectedElements){\n                flow.unconnectedElements = new UnconnectedElements().execute(flow);\n            }\n            if(options.unusedVariables){\n                flow.unusedVariables = new UnusedVariables().execute(flow);\n            }\n        }\n    }\n}","import * as fs from \"mz/fs\";\nimport * as vscode from \"vscode\";\nimport {XMLParser} from \"./XMLParser\";\nimport Flow = require(\"../models/Flow\");\nconst path = require('path');\n\nexport class SelectAFlow {\n\n    private message: string;\n\n    constructor(rootPath: vscode.Uri, message: string) {\n        this.message = message;\n    }\n\n    public async execute(flowUri : vscode.Uri) {\n        vscode.window.showInformationMessage(this.message);\n\n        let selectedFlowFile;\n        do {\n            selectedFlowFile = await vscode.window.showOpenDialog({\n                canSelectFiles: true,\n                canSelectFolders: false,\n                canSelectMany: false,\n                defaultUri: flowUri,\n                filters: {\n                    'Flow': ['flow-meta.xml']\n                }\n            });\n        } while (!selectedFlowFile);\n        return this.parseFlow(selectedFlowFile[0]);\n    }\n\n    private async parseFlow(selectedUri: vscode.Uri) {\n        const parsedContent: { Flow: Flow } = await new XMLParser().execute(await fs.readFile(path.normalize(selectedUri.fsPath)));\n        return new Flow(\n            {\n                uri: selectedUri,\n                xmldata: parsedContent\n            }\n        );\n    }\n}\n","import * as fs from \"mz/fs\";\nimport * as vscode from \"vscode\";\nimport {XMLParser} from \"./XMLParser\";\nimport Flow = require(\"../models/Flow\");\nconst path = require('path');\n\nexport class SelectFlows {\n\n    private message: string;\n\n    constructor(rootPath: vscode.Uri, message: string) {\n        this.message = message;\n    }\n\n    public async execute(initialPath : vscode.Uri) {\n        vscode.window.showInformationMessage(this.message);\n\n        let selectedFlows;\n        do {\n            selectedFlows = await vscode.window.showOpenDialog({\n                canSelectFiles: true,\n                canSelectFolders: false,\n                canSelectMany: true,\n                defaultUri: initialPath,\n                filters: {\n                    'Flow': ['flow-meta.xml']\n                }\n            });\n        } while (!selectedFlows);\n        return selectedFlows;\n    }\n\n}\n","import {Parser} from 'xml2js';\nimport Flow = require('../models/Flow');\n\nexport class XMLParser{\n\n    private parser : Parser;\n\n    constructor(){\n        this.parser = new Parser();\n    }\n\n    public execute(xml): Promise<{ Flow : Flow }>{\n        return new Promise<{ Flow : Flow }>((resolve, reject) => {\n            this.parser.parseString(xml, (err, result) => {\n                if (err) {\n                    reject(err);\n                } else {\n                    resolve(result);\n                }\n            });\n        });\n    }\n}","export function getNonce() {\n    let text = \"\";\n    const possible =\n        \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let i = 0; i < 32; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n    }\n    return text;\n}","import FlowMetadata = require(\"./FlowMetadata\");\nimport FlowVariable = require(\"./FlowVariable\");\nimport FlowElement = require(\"./FlowElement\");\nimport {Uri} from \"vscode\";\n\nexport = class Flow {\n\n    public interviewLabel: string;\n    public label: string;\n    public processType;\n    public processMetadataValues;\n    public start;\n    public status;\n    public uri: Uri;\n    public xmldata;\n\n    public path?: string;\n    public flowMetadata?;\n    public unconnectedElements;\n    public unusedVariables;\n    public nodesWithHardcodedIds;\n    public dmlStatementInLoop;\n    public missingFaultPaths;\n\n    public processedData?;\n    public nodes?;\n\n    constructor(args) {\n        this.interviewLabel = args.interviewLabel;\n        this.label = args.label;\n        this.processMetadataValues = args.processMetadataValues;\n        this.processType = args.processType;\n        this.start = args.start;\n        this.status = args.status;\n        this.uri = args.uri;\n        if(args.uri){\n            this.path = args.uri.fsPath;\n        }\n        if(args.path){\n            this.path = args.path;\n        }\n        this.xmldata = args.xmldata;\n        this.nodes = this.preProcessNodes(args.xmldata);\n    }\n\n    private preProcessNodes(xml) {\n        const mergeableVariables = [\"variables\", \"constants\", \"formulas\", \"stages\", \"textTemplates\"];\n        const flowMetadata = [\"description\",\n            \"apiVersion\",\n            \"processMetadataValues\",\n            \"processType\",\n            \"interviewLabel\",\n            \"label\",\n            \"status\"\n        ];\n        const allNodes = [];\n        const flowXML = xml.Flow;\n        for (let nodeType in flowXML) {\n            let nodes = flowXML[nodeType];\n            // skip xmlns url\n            if (nodeType == '$'){\n                continue;\n            }\n            if (flowMetadata.includes(nodeType)) {\n                for (let node of nodes) {\n                    allNodes.push(new FlowMetadata(\n                        nodeType,\n                        node\n                    ));\n                }\n            } else if (mergeableVariables.includes(nodeType)) {\n                for (let node of nodes) {\n                    allNodes.push(\n                        new FlowVariable(node.name, nodeType, node)\n                    );\n                }\n            } else {\n                for (let node of nodes) {\n                    allNodes.push(\n                        new FlowElement(node.name, nodeType, node)\n                    );\n                }\n            }\n        }\n\n        this.label= xml.Flow.label;\n        this.interviewLabel= xml.Flow.interviewLabel;\n        this.processType = xml.Flow.processType;\n        this.processMetadataValues = xml.Flow.processMetadataValues;\n        this.start= xml.Flow.start;\n        this.status= xml.Flow.status;\n        return allNodes;\n    }\n\n};","import Node = require(\"./Node\");\nimport FlowElementConnector = require(\"./FlowElementConnector\");\n\nexport = class FlowElement extends Node {\n\n    public connectors = [];\n    public name: string;\n    public index: number;\n\n    constructor(name: string, subtype: string, element: object) {\n\n        super(subtype, element);\n        this.name = (subtype === 'start' ? 'flowstart' : name[0]);\n        let connectors = this.getConnectors(subtype, element);\n        if (connectors.length > 0 && connectors[0] !== undefined) {\n            this.connectors = connectors;\n        }\n    }\n\n    private getConnectors(subtype, element) {\n\n        if (subtype === \"start\") {\n            return [new FlowElementConnector(\"connector\", element.connector, {})];\n        } else if (subtype === \"decisions\") {\n            let connectors = [];\n            connectors.push(\n                new FlowElementConnector(\"defaultConnector\", element.defaultConnector, {})\n            );\n            for (const rule of element.rules) {\n                if (rule.connector) {\n                    connectors.push(\n                        new FlowElementConnector(\"connector\", rule.connector, {\n                            'childName': rule.name[0],\n                            'childOf': \"rules\"\n                        })\n                    );\n                }\n            }\n            return connectors;\n        } else if (subtype === \"assignments\") {\n            return [new FlowElementConnector(\"connector\", element.connector, {})];\n        } else if (subtype === \"loops\") {\n            return [\n                new FlowElementConnector(\n                    \"nextValueConnector\",\n                    element.nextValueConnector,\n                    {}\n                ),\n                new FlowElementConnector(\n                    \"noMoreValuesConnector\",\n                    element.noMoreValuesConnector,\n                    {}\n                ),\n            ];\n        } else if (subtype === \"actionCalls\") {\n            let connectors = [];\n            if(element.connector){\n                connectors.push(new FlowElementConnector(\"connector\", element.connector, {}));\n            }\n            if(element.faultConnector){\n                connectors.push(new FlowElementConnector(\"faultConnector\", element.faultConnector, {}));\n            }\n            return connectors;\n        } else if (subtype === \"waits\") {\n            let connectors = [];\n            if(element.defaultConnector){\n                connectors.push(\n                    new FlowElementConnector(\"defaultConnector\", element.defaultConnector, {})\n                );\n            }\n            if(element.faultConnector){\n                connectors.push(\n                    new FlowElementConnector(\"faultConnector\", element.faultConnector, {})\n                );\n            }\n            for (const waitEvent of element.waitEvents) {\n                if (waitEvent.connector) {\n                    connectors.push(\n                        new FlowElementConnector(\"connector\", waitEvent.connector, {\n                            'childName': waitEvent.name[0],\n                            'childOf': \"rules\"\n                        })\n                    );\n                }\n            }\n            return connectors;\n        } else if (subtype === \"recordCreates\") {\n            let connectors = [];\n            if(element.connector){\n                connectors.push(new FlowElementConnector(\"connector\", element.connector, {}));\n            }\n            if(element.faultConnector){\n                connectors.push(new FlowElementConnector(\"faultConnector\", element.faultConnector, {}));\n            }\n            return connectors;\n        } else if (subtype === \"recordDeletes\") {\n            let connectors = [];\n            if(element.connector){\n                connectors.push(new FlowElementConnector(\"connector\", element.connector, {}));\n            }\n            if(element.faultConnector){\n                connectors.push(new FlowElementConnector(\"faultConnector\", element.faultConnector, {}));\n            }\n            return connectors;\n        } else if (subtype === \"recordLookups\") {\n            let connectors = [];\n            if(element.connector){\n                connectors.push(new FlowElementConnector(\"connector\", element.connector, {}));\n            }\n            if(element.faultConnector){\n                connectors.push(new FlowElementConnector(\"faultConnector\", element.faultConnector, {}));\n            }\n            return connectors;\n        } else if (subtype === \"recordUpdates\") {\n            let connectors = [];\n            if(element.connector){\n                connectors.push(new FlowElementConnector(\"connector\", element.connector, {}));\n            }\n            if(element.faultConnector){\n                connectors.push(new FlowElementConnector(\"faultConnector\", element.faultConnector, {}));\n            }\n            return connectors;\n        } else if (subtype === \"subflows\") {\n            return [new FlowElementConnector(\"connector\", element.connector, {})];\n        }\n        return [];\n    }\n\n};","export = class FlowElementConnector{\n\n    public type:string;\n    public element:object = {};\n    public processed = false;\n    public alias:string;\n    public reference:string;\n    public childName:string;\n    public childOf:string;\n\n    constructor(type:string, element:object, args){\n        this.type = type;\n        this.element = element;\n        this.childName = args.childName ? args.childName : undefined;\n        this.childOf = args.childOf ? args.childOf : undefined;\n\n        if(element && element[0] && element[0].targetReference && element[0].targetReference[0]){\n            this.reference = element[0].targetReference[0];\n        }\n    }\n};","import Node = require(\"./Node\");\n\nexport = class FlowMetadata extends Node{\n\n    constructor(subtype:string, element:object){\n        super(subtype, element);\n    }\n\n};","import Node = require(\"./Node\");\n\nexport = class FlowVariable extends Node{\n\n        public name:string;\n\n        constructor(name:string, subtype:string, element:object){\n    \n            super(subtype, element);\n            this.name = name[0];\n        }\n\n};","export = class Node{\n\n    public subtype:string;\n    public element:object = {};\n\n    constructor(subtype:string, element:object){\n\n        this.element = element;\n        this.subtype = subtype;\n    }\n\n};","import * as vscode from \"vscode\";\nimport {getNonce} from \"../libs/getNonce\";\nimport {URI, Utils} from 'vscode-uri';\nimport Flow = require(\"../models/Flow\");\n\nexport class FixReport {\n    /**\n     * Track the currently panel. Only allow a single panel to exist at a time.\n     */\n    public static currentPanel: FixReport | undefined;\n\n    public static readonly viewType = \"report\";\n\n    private readonly _panel: vscode.WebviewPanel;\n    private readonly _extensionUri: vscode.Uri;\n    private _disposables: vscode.Disposable[] = [];\n\n    public static createOrShow(extensionUri: vscode.Uri , flow : any) {\n        const column = vscode.window.activeTextEditor\n            ? vscode.window.activeTextEditor.viewColumn\n            : undefined;\n\n        // If we already have a panel, show it.\n        if (FixReport.currentPanel) {\n            FixReport.currentPanel._panel.reveal(column);\n            FixReport.currentPanel._update(flow);\n            return;\n        }\n\n        // Otherwise, create a new panel.\n        const panel = vscode.window.createWebviewPanel(\n            FixReport.viewType,\n            \"Fix:${flow.label}\",\n            column || vscode.ViewColumn.One,\n            {\n                // Enable javascript in the webview\n                enableScripts: true,\n\n                // And restrict the webview to only loading content from our extension's `media` directory.\n                localResourceRoots: [\n                    Utils.joinPath(extensionUri, \"media\"),\n                    Utils.joinPath(extensionUri, \"out/compiled\")\n                ]\n            }\n        );\n        FixReport.currentPanel = new FixReport(panel, extensionUri, flow);\n    }\n\n    public static kill() {\n        FixReport.currentPanel?.dispose();\n        FixReport.currentPanel = undefined;\n    }\n\n    // public static revive(panel: vscode.WebviewPanel, extensionUri: vscode.Uri) {\n    //     FixReport.currentPanel = new FixReport(panel, extensionUri);\n    // }\n\n    private constructor(panel: vscode.WebviewPanel, extensionUri: vscode.Uri, flow : any) {\n        this._panel = panel;\n        this._extensionUri = extensionUri;\n\n        // Set the webview's initial html content\n        this._update(flow);\n\n        // Listen for when the panel is disposed\n        // This happens when the user closes the panel or when the panel is closed programatically\n        this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\n\n        // // Handle messages from the webview\n        // this._panel.webview.onDidReceiveMessage(\n        //   (message) => {\n        //     switch (message.command) {\n        //       case \"alert\":\n        //         vscode.window.showErrorMessage(message.text);\n        //         return;\n        //     }\n        //   },\n        //   null,\n        //   this._disposables\n        // );\n    }\n\n    public dispose() {\n        FixReport.currentPanel = undefined;\n\n        // Clean up our resources\n        this._panel.dispose();\n\n        while (this._disposables.length) {\n            const x = this._disposables.pop();\n            if (x) {\n                x.dispose();\n            }\n        }\n    }\n\n    private async _update(flow : Flow) {\n        const webview = this._panel.webview;\n        this._panel.webview.html = this._getHtmlForWebview(webview);\n        webview.onDidReceiveMessage(async (data) => {\n            switch (data.type) {\n\n\n\n                case 'init-view': {\n                //added this route\n                    webview.postMessage({\n                        type: 'init',\n                        flow: flow\n                    });\n                    return;\n                }\n                    \n                // case \"tokens\": {\n                //     await Util.globalState.update(accessTokenKey, data.accessToken);\n                //     await Util.globalState.update(refreshTokenKey, data.refreshToken);\n                //     break;\n                // }\n            }\n        });\n    }\n\n    private _getHtmlForWebview(webview: vscode.Webview) {\n        // // And the uri we use to load this script in the webview\n        const scriptUri = webview.asWebviewUri(\n            Utils.joinPath(this._extensionUri, \"out/compiled\", \"FixReport.js\")\n        );\n\n        // vscode css reset\n        const stylesResetUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"reset.css\"\n        ));\n        // vscode recommended css\n        const stylesMainUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"vscode.css\"\n        ));\n\n        const cssUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"FixReport.css\"\n        ));\n\n        // Use a nonce to only allow specific scripts to be run\n        const nonce = getNonce();\n        return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        -->\n        <meta http-equiv=\"Content-Security-Policy\" content=\"img-src https: data:; style-src 'unsafe-inline' ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link href=\"${stylesResetUri}\" rel=\"stylesheet\">\n        <link href=\"${stylesMainUri}\" rel=\"stylesheet\">\n        <link href=\"${cssUri}\" rel=\"stylesheet\">\n        <script nonce=\"${nonce}\">\n        const tsvscode = acquireVsCodeApi();\n        </script>\n\t\t\t</head>\n      <body>\n            <script src=\"${scriptUri}\" nonce=\"${nonce}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n    }\n\n}","import * as vscode from \"vscode\";\nimport {getNonce} from \"../libs/getNonce\";\nimport {URI, Utils} from 'vscode-uri';\nimport Flow = require(\"../models/Flow\");\nimport {BuildNewFlow} from \"../libs/BuildNewFlow\";\nimport {SaveFlow} from \"../libs/SaveFlow\";\nimport {FixReport} from \"./FixReport\";\n\nexport class FlowReport {\n    /**\n     * Track the currently panel. Only allow a single panel to exist at a time.\n     */\n    public static currentPanel: FlowReport | undefined;\n\n    public static readonly viewType = \"report\";\n\n    private readonly _panel: vscode.WebviewPanel;\n    private readonly _extensionUri: vscode.Uri;\n    private _disposables: vscode.Disposable[] = [];\n\n    public static create(extensionUri: vscode.Uri , flow : any) {\n        const column = vscode.window.activeTextEditor\n            ? vscode.window.activeTextEditor.viewColumn\n            : undefined;\n\n        // Otherwise, create a new panel.\n        const panel = vscode.window.createWebviewPanel(\n            FlowReport.viewType,\n            `Lint:${flow.label}`,\n            column || vscode.ViewColumn.One,\n            {\n                // Enable javascript in the webview\n                enableScripts: true,\n\n                // And restrict the webview to only loading content from our extension's `media` directory.\n                localResourceRoots: [\n                    Utils.joinPath(extensionUri, \"media\"),\n                    Utils.joinPath(extensionUri, \"out/compiled\")\n                ]\n            }\n        );\n        FlowReport.currentPanel = new FlowReport(panel, extensionUri, flow);\n    }\n\n    public static kill() {\n        FlowReport.currentPanel?.dispose();\n        FlowReport.currentPanel = undefined;\n    }\n\n    // public static revive(panel: vscode.WebviewPanel, extensionUri: vscode.Uri) {\n    //     FlowReport.currentPanel = new FlowReport(panel, extensionUri);\n    // }\n\n    private constructor(panel: vscode.WebviewPanel, extensionUri: vscode.Uri, flow : any) {\n        this._panel = panel;\n        this._extensionUri = extensionUri;\n\n        // Set the webview's initial html content\n        this._update(flow);\n\n        // Listen for when the panel is disposed\n        // This happens when the user closes the panel or when the panel is closed programatically\n        this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\n\n        // // Handle messages from the webview\n        // this._panel.webview.onDidReceiveMessage(\n        //   (message) => {\n        //     switch (message.command) {\n        //       case \"alert\":\n        //         vscode.window.showErrorMessage(message.text);\n        //         return;\n        //     }\n        //   },\n        //   null,\n        //   this._disposables\n        // );\n    }\n\n    public dispose() {\n        FlowReport.currentPanel = undefined;\n\n        // Clean up our resources\n        this._panel.dispose();\n\n        while (this._disposables.length) {\n            const x = this._disposables.pop();\n            if (x) {\n                x.dispose();\n            }\n        }\n    }\n\n    private async _update(flow : Flow) {\n        const webview = this._panel.webview;\n        this._panel.webview.html = this._getHtmlForWebview(webview);\n        webview.onDidReceiveMessage(async (data) => {\n            switch (data.type) {\n                case \"autofix\": {\n                    if (!data.flow) {\n                        return;\n                    }\n                    flow.processedData = new BuildNewFlow().execute(flow);\n                    const result = await new SaveFlow().execute(flow, flow.uri);\n                    if (result) {\n                        FixReport.createOrShow(this._extensionUri, flow);\n                    }\n                    break;\n                }\n                case 'init-view': {\n                    webview.postMessage({\n                        type: 'init',\n                        flow: flow\n                    });\n                    return;\n                }\n                // case \"tokens\": {\n                //     await Util.globalState.update(accessTokenKey, data.accessToken);\n                //     await Util.globalState.update(refreshTokenKey, data.refreshToken);\n                //     break;\n                // }\n            }\n        });\n    }\n\n    private _getHtmlForWebview(webview: vscode.Webview) {\n        // // And the uri we use to load this script in the webview\n        const scriptUri = webview.asWebviewUri(\n            Utils.joinPath(this._extensionUri, \"out/compiled\", \"FlowReport.js\")\n        );\n\n        // vscode css reset\n        const stylesResetUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"reset.css\"\n        ));\n        // vscode recommended css\n        const stylesMainUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"vscode.css\"\n        ));\n\n        const cssUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"FlowReport.css\"\n        ));\n\n        // Use a nonce to only allow specific scripts to be run\n        const nonce = getNonce();\n        return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        -->\n        <meta http-equiv=\"Content-Security-Policy\" content=\"img-src https: data:; style-src 'unsafe-inline' ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link href=\"${stylesResetUri}\" rel=\"stylesheet\">\n        <link href=\"${stylesMainUri}\" rel=\"stylesheet\">\n        <link href=\"${cssUri}\" rel=\"stylesheet\">\n        <script nonce=\"${nonce}\">\n        const tsvscode = acquireVsCodeApi();\n        </script>\n\t\t\t</head>\n      <body>\n            <script src=\"${scriptUri}\" nonce=\"${nonce}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n    }\n\n}","import * as vscode from \"vscode\";\nimport {getNonce} from \"../libs/getNonce\";\nimport {URI, Utils} from 'vscode-uri';\nimport Flow = require(\"../models/Flow\");\nimport {FlowReport} from \"./FlowReport\";\n\nexport class LintFlowsReport {\n    /**\n     * Track the currently panel. Only allow a single panel to exist at a time.\n     */\n    public static currentPanel: LintFlowsReport | undefined;\n\n    public static readonly viewType = \"report\";\n\n    private readonly _panel: vscode.WebviewPanel;\n    private readonly _extensionUri: vscode.Uri;\n    private _disposables: vscode.Disposable[] = [];\n\n    public static createOrShow(extensionUri: vscode.Uri, flows: Flow[]) {\n        const column = vscode.window.activeTextEditor\n            ? vscode.window.activeTextEditor.viewColumn\n            : undefined;\n\n        // If we already have a panel, show it.\n        if (LintFlowsReport.currentPanel) {\n            LintFlowsReport.currentPanel._panel.reveal(column);\n            LintFlowsReport.currentPanel._update(flows);\n            return;\n        }\n\n        // Otherwise, create a new panel.\n        const panel = vscode.window.createWebviewPanel(\n            LintFlowsReport.viewType,\n            \"Lint Flows Report\",\n            column || vscode.ViewColumn.One,\n            {\n                // Enable javascript in the webview\n                enableScripts: true,\n\n                // And restrict the webview to only loading content from our extension's `media` directory.\n                localResourceRoots: [\n                    Utils.joinPath(extensionUri, \"media\"),\n                    Utils.joinPath(extensionUri, \"out/compiled\")\n                ]\n            }\n        );\n        LintFlowsReport.currentPanel = new LintFlowsReport(panel, extensionUri, flows);\n    }\n\n    public static kill() {\n        LintFlowsReport.currentPanel?.dispose();\n        LintFlowsReport.currentPanel = undefined;\n    }\n\n    // public static revive(panel: vscode.WebviewPanel, extensionUri: vscode.Uri) {\n    //     LintFlowsReport.currentPanel = new LintFlowsReport(panel, extensionUri);\n    // }\n\n    private constructor(panel: vscode.WebviewPanel, extensionUri: vscode.Uri, flows: Flow[]) {\n        this._panel = panel;\n        this._extensionUri = extensionUri;\n\n        // Set the webview's initial html content\n        this._update(flows);\n\n        // Listen for when the panel is disposed\n        // This happens when the user closes the panel or when the panel is closed programatically\n        this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\n\n        // // Handle messages from the webview\n        // this._panel.webview.onDidReceiveMessage(\n        //   (message) => {\n        //     switch (message.command) {\n        //       case \"alert\":\n        //         vscode.window.showErrorMessage(message.text);\n        //         return;\n        //     }\n        //   },\n        //   null,\n        //   this._disposables\n        // );\n    }\n\n    public dispose() {\n        LintFlowsReport.currentPanel = undefined;\n\n        // Clean up our resources\n        this._panel.dispose();\n\n        while (this._disposables.length) {\n            const x = this._disposables.pop();\n            if (x) {\n                x.dispose();\n            }\n        }\n    }\n\n    private async _update(flows: Flow[]) {\n        const webview = this._panel.webview;\n        this._panel.webview.html = this._getHtmlForWebview(webview);\n        webview.onDidReceiveMessage(async (data) => {\n            switch (data.type) {\n                case \"goToFile\": {\n                    if (!data.flow) {\n                        return;\n                    }\n                    vscode.workspace.openTextDocument(data.flow.path).then(doc => {\n                        vscode.window.showTextDocument(doc);\n                    });\n                    break;\n                }\n                case \"goToDetails\": {\n                    if (!data.flow) {\n                        return;\n                    }\n\n                    FlowReport.create(this._extensionUri, data.flow);\n                    break;\n                }\n                case \"onError\": {\n                    if (!data.value) {\n                        return;\n                    }\n                    vscode.window.showErrorMessage(data.value);\n                    break;\n                }\n                case 'init-view': {\n                    webview.postMessage({\n                        type: 'init',\n                        flows: flows\n                    });\n                    return;\n                }\n            }\n        });\n    }\n\n    private _getHtmlForWebview(webview: vscode.Webview) {\n        const scriptUri = webview.asWebviewUri(\n            Utils.joinPath(this._extensionUri, \"out/compiled\", \"LintFlowsReport.js\")\n        );\n        // vscode css reset\n        const stylesResetUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"reset.css\"\n        ));\n        // vscode recommended css\n        const stylesMainUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"vscode.css\"\n        ));\n        const cssUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"LintFlowsReport.css\"\n        ));\n        // Use a nonce to only allow specific scripts to be run\n        const nonce = getNonce();\n        return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n        <meta http-equiv=\"Content-Security-Policy\" content=\"img-src https: data:; style-src 'unsafe-inline' ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link href=\"${stylesResetUri}\" rel=\"stylesheet\">\n        <link href=\"${stylesMainUri}\" rel=\"stylesheet\">\n        <link href=\"${cssUri}\" rel=\"stylesheet\">\n        <script nonce=\"${nonce}\">\n        const tsvscode = acquireVsCodeApi();\n        </script>\n\t\t\t</head>\n      <body>\n            <script src=\"${scriptUri}\" nonce=\"${nonce}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n    }\n\n}","import * as vscode from \"vscode\";\nimport {getNonce} from \"../libs/getNonce\";\nimport {URI, Utils} from 'vscode-uri';\nimport Flow = require(\"../models/Flow\");\nimport {FlowReport} from \"./FlowReport\";\nimport {SelectFlows} from \"../libs/SelectFlows\";\nimport {ParseFlows} from \"../libs/ParseFlows\";\nimport {ScanFlows} from \"../libs/ScanFlows\";\nimport {LintFlowsReport} from \"./LintFlowsReport\";\n\nexport class SelectRules {\n    /**\n     * Track the currently panel. Only allow a single panel to exist at a time.\n     */\n    public static currentPanel: SelectRules | undefined;\n\n    public static readonly viewType = \"report\";\n\n    private readonly _panel: vscode.WebviewPanel;\n    private readonly _extensionUri: vscode.Uri;\n    private readonly _rootPath: vscode.Uri;\n    private _disposables: vscode.Disposable[] = [];\n\n    public static createOrShow(rootPath: vscode.Uri, extensionUri: vscode.Uri) {\n        const column = vscode.window.activeTextEditor\n            ? vscode.window.activeTextEditor.viewColumn\n            : undefined;\n\n        // If we already have a panel, show it.\n        if (SelectRules.currentPanel) {\n            SelectRules.currentPanel._panel.reveal(column);\n            SelectRules.currentPanel._update();\n            return;\n        }\n\n        // Otherwise, create a new panel.\n        const panel = vscode.window.createWebviewPanel(\n            SelectRules.viewType,\n            \"Select Lint Rules\",\n            column || vscode.ViewColumn.One,\n            {\n                // Enable javascript in the webview\n                enableScripts: true,\n\n                // And restrict the webview to only loading content from our extension's `media` directory.\n                localResourceRoots: [\n                    Utils.joinPath(extensionUri, \"media\"),\n                    Utils.joinPath(extensionUri, \"out/compiled\")\n                ]\n            }\n        );\n        SelectRules.currentPanel = new SelectRules(panel, extensionUri, rootPath);\n    }\n\n    public static kill() {\n        SelectRules.currentPanel?.dispose();\n        SelectRules.currentPanel = undefined;\n    }\n\n    // public static revive(panel: vscode.WebviewPanel, extensionUri: vscode.Uri) {\n    //     SelectRules.currentPanel = new SelectRules(panel, extensionUri);\n    // }\n\n    private constructor(panel: vscode.WebviewPanel, extensionUri: vscode.Uri, rootPath : vscode.Uri) {\n        this._panel = panel;\n        this._extensionUri = extensionUri;\n        this._rootPath = rootPath;\n\n        // Set the webview's initial html content\n        this._update();\n\n        // Listen for when the panel is disposed\n        // This happens when the user closes the panel or when the panel is closed programatically\n        this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\n\n        // // Handle messages from the webview\n        // this._panel.webview.onDidReceiveMessage(\n        //   (message) => {\n        //     switch (message.command) {\n        //       case \"alert\":\n        //         vscode.window.showErrorMessage(message.text);\n        //         return;\n        //     }\n        //   },\n        //   null,\n        //   this._disposables\n        // );\n    }\n\n    public dispose() {\n        SelectRules.currentPanel = undefined;\n        // Clean up our resources\n        this._panel.dispose();\n\n        while (this._disposables.length) {\n            const x = this._disposables.pop();\n            if (x) {\n                x.dispose();\n            }\n        }\n    }\n\n    private async _update() {\n        const webview = this._panel.webview;\n        this._panel.webview.html = this._getHtmlForWebview(webview);\n        webview.onDidReceiveMessage(async (data) => {\n            switch (data.type) {\n\n                case 'init-view': {\n                    //added this route\n                    webview.postMessage({\n                        type: 'init'\n                    });\n                    return;\n                }\n                case \"selectedRules\": {\n                    const selectedUris: vscode.Uri[] = await new SelectFlows(this._rootPath,  'Select Flows to scan:').execute(this._rootPath);\n                    const flows: Flow[] = await new ParseFlows().execute(selectedUris);\n                    let options = {\n                        \"dmlStatementInLoop\":data.dmlStatementInLoop,\n                        \"hardcodedIds\": data.hardcodedIds,\n                        \"unconnectedElements\": data.unconnectedElements,\n                        \"unusedVariables\": data.unusedVariables,\n                        \"missingFaultPaths\": data.missingFaultPaths\n                    };\n                    new ScanFlows().execute(flows, options);\n                    LintFlowsReport.createOrShow(this._extensionUri, flows);\n                    this.dispose();\n                    break;\n                }\n                // case \"tokens\": {\n                //     await Util.globalState.update(accessTokenKey, data.accessToken);\n                //     await Util.globalState.update(refreshTokenKey, data.refreshToken);\n                //     break;\n                // }\n            }\n        });\n    }\n\n    private _getHtmlForWebview(webview: vscode.Webview) {\n        // // And the uri we use to load this script in the webview\n        const scriptUri = webview.asWebviewUri(\n            Utils.joinPath(this._extensionUri, \"out/compiled\", \"SelectRules.js\")\n        );\n\n        // vscode css reset\n        const stylesResetUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"reset.css\"\n        ));\n        // vscode recommended css\n        const stylesMainUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"vscode.css\"\n        ));\n\n        const cssUri = webview.asWebviewUri(Utils.joinPath(\n            this._extensionUri,\n            \"media\",\n            \"SelectRules.css\"\n        ));\n\n        // Use a nonce to only allow specific scripts to be run\n        const nonce = getNonce();\n        return `<!DOCTYPE html>\n\t\t\t<html lang=\"en\">\n\t\t\t<head>\n\t\t\t\t<meta charset=\"UTF-8\">\n\t\t\t\t<!--\n\t\t\t\t\tUse a content security policy to only allow loading images from https or from our extension directory,\n\t\t\t\t\tand only allow scripts that have a specific nonce.\n        -->\n        <meta http-equiv=\"Content-Security-Policy\" content=\"img-src https: data:; style-src 'unsafe-inline' ${webview.cspSource}; script-src 'nonce-${nonce}';\">\n\t\t\t\t<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link href=\"${stylesResetUri}\" rel=\"stylesheet\">\n        <link href=\"${stylesMainUri}\" rel=\"stylesheet\">\n        <link href=\"${cssUri}\" rel=\"stylesheet\">\n        <script nonce=\"${nonce}\">\n        const tsvscode = acquireVsCodeApi();\n        </script>\n\t\t\t</head>\n      <body>\n            <script src=\"${scriptUri}\" nonce=\"${nonce}\"></script>\n\t\t\t</body>\n\t\t\t</html>`;\n    }\n\n}","import Flow = require(\"../models/Flow\");\nimport FlowElement = require(\"../models/FlowElement\");\n\nexport class DMLStatementInLoop{\n\n    public execute(flow: Flow) {\n\n        const dmlStatementTypes = ['recordLookups', 'recordDeletes', 'recordUpdates', 'recordCreates'];\n        const flowElements: FlowElement[] = flow.nodes.filter(node => node instanceof FlowElement);\n        const loopElements: FlowElement[] = flow.nodes.filter(node => node.subtype === 'loops');\n        const dmlInLoopIndexes: number[] = [];\n\n        for (const loopElement of loopElements) {\n            let startOfLoop = flowElements.findIndex(element => element.name === this.findStartOfLoopReference(loopElement));\n            let reachedEndOfLoop = false;\n            let indexesToProcess: number [] = [startOfLoop];\n            const processedLoopElementIndexes: number[] = [];\n            do {\n                indexesToProcess = indexesToProcess.filter(index => !processedLoopElementIndexes.includes(index));\n                if (indexesToProcess.length > 0) {\n                    for (const [index, element] of flowElements.entries()) {\n                        if (indexesToProcess.includes(index)) {\n                            let connectors = [];\n                            for (let connector of element.connectors) {\n                                if (connector.reference) {\n                                    connectors.push(connector);\n                                }\n                            }\n                            if(dmlStatementTypes.includes(element.subtype)) {\n                                dmlInLoopIndexes.push(index);\n                            }\n                            if (connectors.length > 0) {\n                                let elementsByReferences = flowElements.filter(element => connectors.map(c => c.reference).includes(element.name));\n                                for (let nextElement of elementsByReferences) {\n                                    let nextIndex = flowElements.findIndex(element => nextElement.name === element.name);\n                                    if (\"loops\" === nextElement.subtype) {\n                                        reachedEndOfLoop = true;\n                                    }\n                                    else if (!processedLoopElementIndexes.includes(nextIndex)) {\n                                        indexesToProcess.push(nextIndex);\n                                    }\n                                }\n                            }\n                            processedLoopElementIndexes.push(index);\n                        }\n                    }\n                }\n            } while (reachedEndOfLoop === false);\n        }\n\n        const dmlStatementsInLoops = [];\n        for (const [index, element] of flowElements.entries()) {\n            if (dmlInLoopIndexes.includes(index)) {\n                dmlStatementsInLoops.push(element);\n            }\n        }\n        return dmlStatementsInLoops;\n    }\n\n    private findStartOfLoopReference(loopElement: FlowElement) {\n        return loopElement.connectors.find(el => el.type === 'nextValueConnector').reference;\n    }\n}","import Flow = require(\"../models/Flow\");\nimport * as IdPrefixes from '../data/IdPrefixes.json'\n\nexport class HardcodedIds{\n\n    public execute(flow : Flow) {\n        const prefixes = IdPrefixes.ids.map(prefix => {\n            return prefix['Key Prefix'];\n        });\n        const nodesWithHardcodedIds = [];\n\n        for(const prefix of prefixes){\n            const match18charIds: RegExp = new RegExp('\\\\b'+ prefix + '\\\\w{15}\\\\b');\n            const match15charIds: RegExp = new RegExp('\\\\b'+ prefix + '\\\\w{12}\\\\b');\n\n            for(const node of flow.nodes){\n                let nodeString = JSON.stringify(node);\n                let hardcodedIdsL18 = nodeString.match(match18charIds);\n                let hardcodedIdsL15 = nodeString.match(match15charIds);\n\n                if(hardcodedIdsL15 || hardcodedIdsL18){\n                    nodesWithHardcodedIds.push(node);\n                }\n            }\n        }\n        return nodesWithHardcodedIds;\n    }\n}","import Flow = require(\"../models/Flow\");\nimport FlowElement = require(\"../models/FlowElement\");\n\nexport class MissingFaultPath{\n\n    public execute(flow: Flow) {\n\n        const typesWithFaultPath = ['recordLookups', 'recordDeletes', 'recordUpdates', 'recordCreates', 'waits', 'actionCalls'];\n        const flowElementsWhereFaultPathIsApplicable: FlowElement[] = flow.nodes.filter(node => node instanceof FlowElement && typesWithFaultPath.includes(node.subtype));\n        const elementsWithoutFaultPath = [];\n        for(let element of flowElementsWhereFaultPathIsApplicable){\n            if(!element.connectors.find(connector => 'faultConnector' === connector.type)){\n                elementsWithoutFaultPath.push(element);\n            }\n        }\n\n        return elementsWithoutFaultPath;\n    }\n}","import Flow = require(\"../models/Flow\");\nimport FlowElement = require(\"../models/FlowElement\");\nimport Node = require(\"../models/Node\");\n\nexport class UnconnectedElements {\n\n    public execute(flow: Flow) {\n        const flowElements: FlowElement[] = flow.nodes.filter(node => node instanceof FlowElement);\n        let indexesToProcess = [this.findStart(flowElements)];\n        const processedElementIndexes: number[] = [];\n        const unconnectedElementIndexes: number[] = [];\n        do {\n            indexesToProcess = indexesToProcess.filter(index => !processedElementIndexes.includes(index));\n            if (indexesToProcess.length > 0) {\n                for (const [index, element] of flowElements.entries()) {\n                    if (indexesToProcess.includes(index)) {\n                        let references: string[] = [];\n                        if (element.connectors && element.connectors.length > 0) {\n                            for (let connector of element.connectors) {\n                                if (connector.reference) {\n                                    references.push(connector.reference);\n                                }\n                            }\n                        }\n                        if (references.length > 0) {\n                            let elementsByReferences = flowElements.filter(element => references.includes(element.name));\n                            for (let nextElement of elementsByReferences) {\n                                let nextIndex = flowElements.findIndex(element => nextElement.name === element.name);\n                                if (!processedElementIndexes.includes(nextIndex)) {\n                                    indexesToProcess.push(nextIndex);\n                                }\n                            }\n                        }\n                        processedElementIndexes.push(index);\n                    }\n                }\n            } else {\n                for (const index of flowElements.keys()) {\n                    if (!processedElementIndexes.includes(index)) {\n                        unconnectedElementIndexes.push(index);\n                        unconnectedElementIndexes.push(index);\n                    }\n                }\n            }\n        } while ((processedElementIndexes.length + unconnectedElementIndexes.length) < flowElements.length);\n\n        const processedElements = [];\n        const unconnectedElements = [];\n        for (const [index, element] of flowElements.entries()) {\n            if (processedElementIndexes.includes(index)) {\n                processedElements.push(element);\n            } else if (unconnectedElementIndexes.includes(index)) {\n                unconnectedElements.push(element);\n            }\n        }\n        return unconnectedElements;\n    }\n\n    private findStart(nodes: Node[]) {\n        return nodes.findIndex((n) => {\n            return n.subtype === \"start\";\n        });\n    }\n\n\n}","import Flow = require(\"../models/Flow\");\nimport FlowVariable = require(\"../models/FlowVariable\");\nimport FlowElement = require(\"../models/FlowElement\");\n\nexport class UnusedVariables{\n\n    public execute(flow: Flow) {\n        let unusedVariables = [];\n        for (const variable of flow.nodes.filter(node => node instanceof FlowVariable)) {\n            // first check if any inside of flow elements\n            let variableName = variable.name;\n            if ([...JSON.stringify(flow.nodes.filter(node => node instanceof FlowElement)).matchAll(new RegExp(variableName, 'gi'))].map(a => a.index).length === 0) {\n                // if none found check in other flow variables\n                let insideCounter = [...JSON.stringify(variable).matchAll(new RegExp(variable.name, 'gi'))].map(a => a.index);\n                let variableUsage = [...JSON.stringify(flow.nodes.filter(node => node instanceof FlowVariable)).matchAll(new RegExp(variableName, 'gi'))].map(a => a.index);\n                if(variableUsage.length === insideCounter.length){\n                    unusedVariables.push(variable);\n                }\n            }\n        }\n        return  unusedVariables;\n    }\n\n}","var LIB;LIB=(()=>{\"use strict\";var t={470:t=>{function e(t){if(\"string\"!=typeof t)throw new TypeError(\"Path must be a string. Received \"+JSON.stringify(t))}function r(t,e){for(var r,n=\"\",o=0,i=-1,a=0,h=0;h<=t.length;++h){if(h<t.length)r=t.charCodeAt(h);else{if(47===r)break;r=47}if(47===r){if(i===h-1||1===a);else if(i!==h-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var s=n.lastIndexOf(\"/\");if(s!==n.length-1){-1===s?(n=\"\",o=0):o=(n=n.slice(0,s)).length-1-n.lastIndexOf(\"/\"),i=h,a=0;continue}}else if(2===n.length||1===n.length){n=\"\",o=0,i=h,a=0;continue}e&&(n.length>0?n+=\"/..\":n=\"..\",o=2)}else n.length>0?n+=\"/\"+t.slice(i+1,h):n=t.slice(i+1,h),o=h-i-1;i=h,a=0}else 46===r&&-1!==a?++a:a=-1}return n}var n={resolve:function(){for(var t,n=\"\",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a;i>=0?a=arguments[i]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(n=a+\"/\"+n,o=47===a.charCodeAt(0))}return n=r(n,!o),o?n.length>0?\"/\"+n:\"/\":n.length>0?n:\".\"},normalize:function(t){if(e(t),0===t.length)return\".\";var n=47===t.charCodeAt(0),o=47===t.charCodeAt(t.length-1);return 0!==(t=r(t,!n)).length||n||(t=\".\"),t.length>0&&o&&(t+=\"/\"),n?\"/\"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return\".\";for(var t,r=0;r<arguments.length;++r){var o=arguments[r];e(o),o.length>0&&(void 0===t?t=o:t+=\"/\"+o)}return void 0===t?\".\":n.normalize(t)},relative:function(t,r){if(e(t),e(r),t===r)return\"\";if((t=n.resolve(t))===(r=n.resolve(r)))return\"\";for(var o=1;o<t.length&&47===t.charCodeAt(o);++o);for(var i=t.length,a=i-o,h=1;h<r.length&&47===r.charCodeAt(h);++h);for(var s=r.length-h,f=a<s?a:s,u=-1,c=0;c<=f;++c){if(c===f){if(s>f){if(47===r.charCodeAt(h+c))return r.slice(h+c+1);if(0===c)return r.slice(h+c)}else a>f&&(47===t.charCodeAt(o+c)?u=c:0===c&&(u=0));break}var l=t.charCodeAt(o+c);if(l!==r.charCodeAt(h+c))break;47===l&&(u=c)}var p=\"\";for(c=o+u+1;c<=i;++c)c!==i&&47!==t.charCodeAt(c)||(0===p.length?p+=\"..\":p+=\"/..\");return p.length>0?p+r.slice(h+u):(h+=u,47===r.charCodeAt(h)&&++h,r.slice(h))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return\".\";for(var r=t.charCodeAt(0),n=47===r,o=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(r=t.charCodeAt(a))){if(!i){o=a;break}}else i=!1;return-1===o?n?\"/\":\".\":n&&1===o?\"//\":t.slice(0,o)},basename:function(t,r){if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"ext\" argument must be a string');e(t);var n,o=0,i=-1,a=!0;if(void 0!==r&&r.length>0&&r.length<=t.length){if(r.length===t.length&&r===t)return\"\";var h=r.length-1,s=-1;for(n=t.length-1;n>=0;--n){var f=t.charCodeAt(n);if(47===f){if(!a){o=n+1;break}}else-1===s&&(a=!1,s=n+1),h>=0&&(f===r.charCodeAt(h)?-1==--h&&(i=n):(h=-1,i=s))}return o===i?i=s:-1===i&&(i=t.length),t.slice(o,i)}for(n=t.length-1;n>=0;--n)if(47===t.charCodeAt(n)){if(!a){o=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?\"\":t.slice(o,i)},extname:function(t){e(t);for(var r=-1,n=0,o=-1,i=!0,a=0,h=t.length-1;h>=0;--h){var s=t.charCodeAt(h);if(47!==s)-1===o&&(i=!1,o=h+1),46===s?-1===r?r=h:1!==a&&(a=1):-1!==r&&(a=-1);else if(!i){n=h+1;break}}return-1===r||-1===o||0===a||1===a&&r===o-1&&r===n+1?\"\":t.slice(r,o)},format:function(t){if(null===t||\"object\"!=typeof t)throw new TypeError('The \"pathObject\" argument must be of type Object. Received type '+typeof t);return function(t,e){var r=e.dir||e.root,n=e.base||(e.name||\"\")+(e.ext||\"\");return r?r===e.root?r+n:r+\"/\"+n:n}(0,t)},parse:function(t){e(t);var r={root:\"\",dir:\"\",base:\"\",ext:\"\",name:\"\"};if(0===t.length)return r;var n,o=t.charCodeAt(0),i=47===o;i?(r.root=\"/\",n=1):n=0;for(var a=-1,h=0,s=-1,f=!0,u=t.length-1,c=0;u>=n;--u)if(47!==(o=t.charCodeAt(u)))-1===s&&(f=!1,s=u+1),46===o?-1===a?a=u:1!==c&&(c=1):-1!==a&&(c=-1);else if(!f){h=u+1;break}return-1===a||-1===s||0===c||1===c&&a===s-1&&a===h+1?-1!==s&&(r.base=r.name=0===h&&i?t.slice(1,s):t.slice(h,s)):(0===h&&i?(r.name=t.slice(1,a),r.base=t.slice(1,s)):(r.name=t.slice(h,a),r.base=t.slice(h,s)),r.ext=t.slice(a,s)),h>0?r.dir=t.slice(0,h-1):i&&(r.dir=\"/\"),r},sep:\"/\",delimiter:\":\",win32:null,posix:null};n.posix=n,t.exports=n},447:(t,e,r)=>{var n;if(r.r(e),r.d(e,{URI:()=>g,Utils:()=>O}),\"object\"==typeof process)n=\"win32\"===process.platform;else if(\"object\"==typeof navigator){var o=navigator.userAgent;n=o.indexOf(\"Windows\")>=0}var i,a,h=(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),s=/^\\w[\\w\\d+.-]*$/,f=/^\\//,u=/^\\/\\//,c=\"\",l=\"/\",p=/^(([^:/?#]+?):)?(\\/\\/([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?/,g=function(){function t(t,e,r,n,o,i){void 0===i&&(i=!1),\"object\"==typeof t?(this.scheme=t.scheme||c,this.authority=t.authority||c,this.path=t.path||c,this.query=t.query||c,this.fragment=t.fragment||c):(this.scheme=function(t,e){return t||e?t:\"file\"}(t,i),this.authority=e||c,this.path=function(t,e){switch(t){case\"https\":case\"http\":case\"file\":e?e[0]!==l&&(e=l+e):e=l}return e}(this.scheme,r||c),this.query=n||c,this.fragment=o||c,function(t,e){if(!t.scheme&&e)throw new Error('[UriError]: Scheme is missing: {scheme: \"\", authority: \"'+t.authority+'\", path: \"'+t.path+'\", query: \"'+t.query+'\", fragment: \"'+t.fragment+'\"}');if(t.scheme&&!s.test(t.scheme))throw new Error(\"[UriError]: Scheme contains illegal characters.\");if(t.path)if(t.authority){if(!f.test(t.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash (\"/\") character')}else if(u.test(t.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters (\"//\")')}(this,i))}return t.isUri=function(e){return e instanceof t||!!e&&\"string\"==typeof e.authority&&\"string\"==typeof e.fragment&&\"string\"==typeof e.path&&\"string\"==typeof e.query&&\"string\"==typeof e.scheme&&\"function\"==typeof e.fsPath&&\"function\"==typeof e.with&&\"function\"==typeof e.toString},Object.defineProperty(t.prototype,\"fsPath\",{get:function(){return C(this,!1)},enumerable:!1,configurable:!0}),t.prototype.with=function(t){if(!t)return this;var e=t.scheme,r=t.authority,n=t.path,o=t.query,i=t.fragment;return void 0===e?e=this.scheme:null===e&&(e=c),void 0===r?r=this.authority:null===r&&(r=c),void 0===n?n=this.path:null===n&&(n=c),void 0===o?o=this.query:null===o&&(o=c),void 0===i?i=this.fragment:null===i&&(i=c),e===this.scheme&&r===this.authority&&n===this.path&&o===this.query&&i===this.fragment?this:new v(e,r,n,o,i)},t.parse=function(t,e){void 0===e&&(e=!1);var r=p.exec(t);return r?new v(r[2]||c,x(r[4]||c),x(r[5]||c),x(r[7]||c),x(r[9]||c),e):new v(c,c,c,c,c)},t.file=function(t){var e=c;if(n&&(t=t.replace(/\\\\/g,l)),t[0]===l&&t[1]===l){var r=t.indexOf(l,2);-1===r?(e=t.substring(2),t=l):(e=t.substring(2,r),t=t.substring(r)||l)}return new v(\"file\",e,t,c,c)},t.from=function(t){return new v(t.scheme,t.authority,t.path,t.query,t.fragment)},t.prototype.toString=function(t){return void 0===t&&(t=!1),A(this,t)},t.prototype.toJSON=function(){return this},t.revive=function(e){if(e){if(e instanceof t)return e;var r=new v(e);return r._formatted=e.external,r._fsPath=e._sep===d?e.fsPath:null,r}return e},t}(),d=n?1:void 0,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._formatted=null,e._fsPath=null,e}return h(e,t),Object.defineProperty(e.prototype,\"fsPath\",{get:function(){return this._fsPath||(this._fsPath=C(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(t){return void 0===t&&(t=!1),t?A(this,!0):(this._formatted||(this._formatted=A(this,!1)),this._formatted)},e.prototype.toJSON=function(){var t={$mid:1};return this._fsPath&&(t.fsPath=this._fsPath,t._sep=d),this._formatted&&(t.external=this._formatted),this.path&&(t.path=this.path),this.scheme&&(t.scheme=this.scheme),this.authority&&(t.authority=this.authority),this.query&&(t.query=this.query),this.fragment&&(t.fragment=this.fragment),t},e}(g),m=((a={})[58]=\"%3A\",a[47]=\"%2F\",a[63]=\"%3F\",a[35]=\"%23\",a[91]=\"%5B\",a[93]=\"%5D\",a[64]=\"%40\",a[33]=\"%21\",a[36]=\"%24\",a[38]=\"%26\",a[39]=\"%27\",a[40]=\"%28\",a[41]=\"%29\",a[42]=\"%2A\",a[43]=\"%2B\",a[44]=\"%2C\",a[59]=\"%3B\",a[61]=\"%3D\",a[32]=\"%20\",a);function y(t,e){for(var r=void 0,n=-1,o=0;o<t.length;o++){var i=t.charCodeAt(o);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||e&&47===i)-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),void 0!==r&&(r+=t.charAt(o));else{void 0===r&&(r=t.substr(0,o));var a=m[i];void 0!==a?(-1!==n&&(r+=encodeURIComponent(t.substring(n,o)),n=-1),r+=a):-1===n&&(n=o)}}return-1!==n&&(r+=encodeURIComponent(t.substring(n))),void 0!==r?r:t}function b(t){for(var e=void 0,r=0;r<t.length;r++){var n=t.charCodeAt(r);35===n||63===n?(void 0===e&&(e=t.substr(0,r)),e+=m[n]):void 0!==e&&(e+=t[r])}return void 0!==e?e:t}function C(t,e){var r;return r=t.authority&&t.path.length>1&&\"file\"===t.scheme?\"//\"+t.authority+t.path:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?e?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,n&&(r=r.replace(/\\//g,\"\\\\\")),r}function A(t,e){var r=e?b:y,n=\"\",o=t.scheme,i=t.authority,a=t.path,h=t.query,s=t.fragment;if(o&&(n+=o,n+=\":\"),(i||\"file\"===o)&&(n+=l,n+=l),i){var f=i.indexOf(\"@\");if(-1!==f){var u=i.substr(0,f);i=i.substr(f+1),-1===(f=u.indexOf(\":\"))?n+=r(u,!1):(n+=r(u.substr(0,f),!1),n+=\":\",n+=r(u.substr(f+1),!1)),n+=\"@\"}-1===(f=(i=i.toLowerCase()).indexOf(\":\"))?n+=r(i,!1):(n+=r(i.substr(0,f),!1),n+=i.substr(f))}if(a){if(a.length>=3&&47===a.charCodeAt(0)&&58===a.charCodeAt(2))(c=a.charCodeAt(1))>=65&&c<=90&&(a=\"/\"+String.fromCharCode(c+32)+\":\"+a.substr(3));else if(a.length>=2&&58===a.charCodeAt(1)){var c;(c=a.charCodeAt(0))>=65&&c<=90&&(a=String.fromCharCode(c+32)+\":\"+a.substr(2))}n+=r(a,!0)}return h&&(n+=\"?\",n+=r(h,!1)),s&&(n+=\"#\",n+=e?s:y(s,!1)),n}function w(t){try{return decodeURIComponent(t)}catch(e){return t.length>3?t.substr(0,3)+w(t.substr(3)):t}}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function x(t){return t.match(_)?t.replace(_,(function(t){return w(t)})):t}var O,P=r(470),j=function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var i=arguments[e],a=0,h=i.length;a<h;a++,o++)n[o]=i[a];return n},U=P.posix||P;!function(t){t.joinPath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return t.with({path:U.join.apply(U,j([t.path],e))})},t.resolvePath=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=t.path||\"/\";return t.with({path:U.resolve.apply(U,j([n],e))})},t.dirname=function(t){var e=U.dirname(t.path);return 1===e.length&&46===e.charCodeAt(0)?t:t.with({path:e})},t.basename=function(t){return U.basename(t.path)},t.extname=function(t){return U.extname(t.path)}}(O||(O={}))}},e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={exports:{}};return t[n](o,o.exports,r),o.exports}return r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},r(447)})();export const{URI,Utils}=LIB;\n//# sourceMappingURL=index.js.map","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA,\n    hasProp = {}.hasOwnProperty;\n\n  builder = require('xmlbuilder');\n\n  defaults = require('./defaults').defaults;\n\n  requiresCDATA = function(entry) {\n    return typeof entry === \"string\" && (entry.indexOf('&') >= 0 || entry.indexOf('>') >= 0 || entry.indexOf('<') >= 0);\n  };\n\n  wrapCDATA = function(entry) {\n    return \"<![CDATA[\" + (escapeCDATA(entry)) + \"]]>\";\n  };\n\n  escapeCDATA = function(entry) {\n    return entry.replace(']]>', ']]]]><![CDATA[>');\n  };\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, ref, value;\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = (function(_this) {\n        return function(element, obj) {\n          var attr, child, entry, index, key, value;\n          if (typeof obj !== 'object') {\n            if (_this.options.cdata && requiresCDATA(obj)) {\n              element.raw(wrapCDATA(obj));\n            } else {\n              element.txt(obj);\n            }\n          } else if (Array.isArray(obj)) {\n            for (index in obj) {\n              if (!hasProp.call(obj, index)) continue;\n              child = obj[index];\n              for (key in child) {\n                entry = child[key];\n                element = render(element.ele(key), entry).up();\n              }\n            }\n          } else {\n            for (key in obj) {\n              if (!hasProp.call(obj, key)) continue;\n              child = obj[key];\n              if (key === attrkey) {\n                if (typeof child === \"object\") {\n                  for (attr in child) {\n                    value = child[attr];\n                    element = element.att(attr, value);\n                  }\n                }\n              } else if (key === charkey) {\n                if (_this.options.cdata && requiresCDATA(child)) {\n                  element = element.raw(wrapCDATA(child));\n                } else {\n                  element = element.txt(child);\n                }\n              } else if (Array.isArray(child)) {\n                for (index in child) {\n                  if (!hasProp.call(child, index)) continue;\n                  entry = child[index];\n                  if (typeof entry === 'string') {\n                    if (_this.options.cdata && requiresCDATA(entry)) {\n                      element = element.ele(key).raw(wrapCDATA(entry)).up();\n                    } else {\n                      element = element.ele(key, entry).up();\n                    }\n                  } else {\n                    element = render(element.ele(key), entry).up();\n                  }\n                }\n              } else if (typeof child === \"object\") {\n                element = render(element.ele(key), child).up();\n              } else {\n                if (typeof child === 'string' && _this.options.cdata && requiresCDATA(child)) {\n                  element = element.ele(key).raw(wrapCDATA(child)).up();\n                } else {\n                  if (child == null) {\n                    child = '';\n                  }\n                  element = element.ele(key, child.toString()).up();\n                }\n              }\n            }\n          }\n          return element;\n        };\n      })(this);\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless,\n        allowSurrogateChars: this.options.allowSurrogateChars\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      emptyTag: ''\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      preserveChildrenOrder: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      includeWhiteChars: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      attrValueProcessors: null,\n      tagNameProcessors: null,\n      valueProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false,\n      chunkSize: 10000,\n      emptyTag: '',\n      cdata: false\n    }\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  sax = require('sax');\n\n  events = require('events');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  setImmediate = require('timers').setImmediate;\n\n  defaults = require('./defaults').defaults;\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processItem = function(processors, item, key) {\n    var i, len, process;\n    for (i = 0, len = processors.length; i < len; i++) {\n      process = processors[i];\n      item = process(item, key);\n    }\n    return item;\n  };\n\n  exports.Parser = (function(superClass) {\n    extend(Parser, superClass);\n\n    function Parser(opts) {\n      this.parseStringPromise = bind(this.parseStringPromise, this);\n      this.parseString = bind(this.parseString, this);\n      this.reset = bind(this.reset, this);\n      this.assignOrPush = bind(this.assignOrPush, this);\n      this.processAsync = bind(this.processAsync, this);\n      var key, ref, value;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      ref = defaults[\"0.2\"];\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.processAsync = function() {\n      var chunk, err;\n      try {\n        if (this.remaining.length <= this.options.chunkSize) {\n          chunk = this.remaining;\n          this.remaining = '';\n          this.saxParser = this.saxParser.write(chunk);\n          return this.saxParser.close();\n        } else {\n          chunk = this.remaining.substr(0, this.options.chunkSize);\n          this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);\n          this.saxParser = this.saxParser.write(chunk);\n          return setImmediate(this.processAsync);\n        }\n      } catch (error1) {\n        err = error1;\n        if (!this.saxParser.errThrown) {\n          this.saxParser.errThrown = true;\n          return this.emit(err);\n        }\n      }\n    };\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.onend = (function(_this) {\n        return function() {\n          if (!_this.saxParser.ended) {\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            ref = node.attributes;\n            for (key in ref) {\n              if (!hasProp.call(ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {\n            delete obj[\"#name\"];\n          }\n          if (obj.cdata === true) {\n            cdata = obj.cdata;\n            delete obj.cdata;\n          }\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== '' ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var i, len, results;\n              results = [];\n              for (i = 0, len = stack.length; i < len; i++) {\n                node = stack[i];\n                results.push(node[\"#name\"]);\n              }\n              return results;\n            })()).concat(nodeName).join(\"/\");\n            (function() {\n              var err;\n              try {\n                return obj = _this.options.validator(xpath, s && s[nodeName], obj);\n              } catch (error1) {\n                err = error1;\n                return _this.emit(\"error\", err);\n              }\n            })();\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            if (!_this.options.preserveChildrenOrder) {\n              node = {};\n              if (_this.options.attrkey in obj) {\n                node[_this.options.attrkey] = obj[_this.options.attrkey];\n                delete obj[_this.options.attrkey];\n              }\n              if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n                node[_this.options.charkey] = obj[_this.options.charkey];\n                delete obj[_this.options.charkey];\n              }\n              if (Object.getOwnPropertyNames(obj).length > 0) {\n                node[_this.options.childkey] = obj;\n              }\n              obj = node;\n            } else if (s) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              objClone = {};\n              for (key in obj) {\n                if (!hasProp.call(obj, key)) continue;\n                objClone[key] = obj[key];\n              }\n              s[_this.options.childkey].push(objClone);\n              delete obj[\"#name\"];\n              if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n                obj = obj[charkey];\n              }\n            }\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var charChild, s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\\\n/g, '').trim() !== '')) {\n              s[_this.options.childkey] = s[_this.options.childkey] || [];\n              charChild = {\n                '#name': '__text__'\n              };\n              charChild[charkey] = text;\n              if (_this.options.normalize) {\n                charChild[charkey] = charChild[charkey].replace(/\\s{2,}/g, \" \").trim();\n              }\n              s[_this.options.childkey].push(charChild);\n            }\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          return cb(null, result);\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          return cb(err);\n        });\n      }\n      try {\n        str = str.toString();\n        if (str.trim() === '') {\n          this.emit(\"end\", null);\n          return true;\n        }\n        str = bom.stripBOM(str);\n        if (this.options.async) {\n          this.remaining = str;\n          setImmediate(this.processAsync);\n          return this.saxParser;\n        }\n        return this.saxParser.write(str).close();\n      } catch (error1) {\n        err = error1;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        } else if (this.saxParser.ended) {\n          throw err;\n        }\n      }\n    };\n\n    Parser.prototype.parseStringPromise = function(str) {\n      return new Promise((function(_this) {\n        return function(resolve, reject) {\n          return _this.parseString(str, function(err, value) {\n            if (err) {\n              return reject(err);\n            } else {\n              return resolve(value);\n            }\n          });\n        };\n      })(this));\n    };\n\n    return Parser;\n\n  })(events);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n  exports.parseStringPromise = function(str, a) {\n    var options, parser;\n    if (typeof a === 'object') {\n      options = a;\n    }\n    parser = new exports.Parser(options);\n    return parser.parseStringPromise(str);\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n  exports.parseNumbers = function(str) {\n    if (!isNaN(str)) {\n      str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);\n    }\n    return str;\n  };\n\n  exports.parseBooleans = function(str) {\n    if (/^(?:true|false)$/i.test(str)) {\n      str = str.toLowerCase() === 'true';\n    }\n    return str;\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  \"use strict\";\n  var builder, defaults, parser, processors,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  defaults = require('./defaults');\n\n  builder = require('./builder');\n\n  parser = require('./parser');\n\n  processors = require('./processors');\n\n  exports.defaults = defaults.defaults;\n\n  exports.processors = processors;\n\n  exports.ValidationError = (function(superClass) {\n    extend(ValidationError, superClass);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = builder.Builder;\n\n  exports.Parser = parser.Parser;\n\n  exports.parseString = parser.parseString;\n\n  exports.parseStringPromise = parser.parseStringPromise;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Disconnected: 1,\n    Preceding: 2,\n    Following: 4,\n    Contains: 8,\n    ContainedBy: 16,\n    ImplementationSpecific: 32\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    Element: 1,\n    Attribute: 2,\n    Text: 3,\n    CData: 4,\n    EntityReference: 5,\n    EntityDeclaration: 6,\n    ProcessingInstruction: 7,\n    Comment: 8,\n    Document: 9,\n    DocType: 10,\n    DocumentFragment: 11,\n    NotationDeclaration: 12,\n    Declaration: 201,\n    Raw: 202,\n    AttributeDeclaration: 203,\n    ElementDeclaration: 204,\n    Dummy: 205\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var assign, getValue, isArray, isEmpty, isFunction, isObject, isPlainObject,\n    slice = [].slice,\n    hasProp = {}.hasOwnProperty;\n\n  assign = function() {\n    var i, key, len, source, sources, target;\n    target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n    if (isFunction(Object.assign)) {\n      Object.assign.apply(null, arguments);\n    } else {\n      for (i = 0, len = sources.length; i < len; i++) {\n        source = sources[i];\n        if (source != null) {\n          for (key in source) {\n            if (!hasProp.call(source, key)) continue;\n            target[key] = source[key];\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  isFunction = function(val) {\n    return !!val && Object.prototype.toString.call(val) === '[object Function]';\n  };\n\n  isObject = function(val) {\n    var ref;\n    return !!val && ((ref = typeof val) === 'function' || ref === 'object');\n  };\n\n  isArray = function(val) {\n    if (isFunction(Array.isArray)) {\n      return Array.isArray(val);\n    } else {\n      return Object.prototype.toString.call(val) === '[object Array]';\n    }\n  };\n\n  isEmpty = function(val) {\n    var key;\n    if (isArray(val)) {\n      return !val.length;\n    } else {\n      for (key in val) {\n        if (!hasProp.call(val, key)) continue;\n        return false;\n      }\n      return true;\n    }\n  };\n\n  isPlainObject = function(val) {\n    var ctor, proto;\n    return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && (typeof ctor === 'function') && (ctor instanceof ctor) && (Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object));\n  };\n\n  getValue = function(obj) {\n    if (isFunction(obj.valueOf)) {\n      return obj.valueOf();\n    } else {\n      return obj;\n    }\n  };\n\n  module.exports.assign = assign;\n\n  module.exports.isFunction = isFunction;\n\n  module.exports.isObject = isObject;\n\n  module.exports.isArray = isArray;\n\n  module.exports.isEmpty = isEmpty;\n\n  module.exports.isPlainObject = isPlainObject;\n\n  module.exports.getValue = getValue;\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  module.exports = {\n    None: 0,\n    OpenTag: 1,\n    InsideTag: 2,\n    CloseTag: 3\n  };\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLNode;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.parent = parent;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.value = this.stringify.attValue(value);\n      this.type = NodeType.Attribute;\n      this.isId = false;\n      this.schemaTypeInfo = null;\n    }\n\n    Object.defineProperty(XMLAttribute.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'ownerElement', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLAttribute.prototype, 'specified', {\n      get: function() {\n        return true;\n      }\n    });\n\n    XMLAttribute.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLAttribute.prototype.toString = function(options) {\n      return this.options.writer.attribute(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLAttribute.prototype.debugInfo = function(name) {\n      name = name || this.name;\n      if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else {\n        return \"attribute: {\" + name + \"}, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLAttribute.prototype.isEqualNode = function(node) {\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.value !== this.value) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCData, XMLCharacterData,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLCData = (function(superClass) {\n    extend(XMLCData, superClass);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text. \" + this.debugInfo());\n      }\n      this.name = \"#cdata-section\";\n      this.type = NodeType.CData;\n      this.value = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCData.prototype.toString = function(options) {\n      return this.options.writer.cdata(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLCData;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLCharacterData, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCharacterData = (function(superClass) {\n    extend(XMLCharacterData, superClass);\n\n    function XMLCharacterData(parent) {\n      XMLCharacterData.__super__.constructor.call(this, parent);\n      this.value = '';\n    }\n\n    Object.defineProperty(XMLCharacterData.prototype, 'data', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'length', {\n      get: function() {\n        return this.value.length;\n      }\n    });\n\n    Object.defineProperty(XMLCharacterData.prototype, 'textContent', {\n      get: function() {\n        return this.value;\n      },\n      set: function(value) {\n        return this.value = value || '';\n      }\n    });\n\n    XMLCharacterData.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLCharacterData.prototype.substringData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.appendData = function(arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.insertData = function(offset, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.deleteData = function(offset, count) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.replaceData = function(offset, count, arg) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLCharacterData.prototype.isEqualNode = function(node) {\n      if (!XMLCharacterData.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.data !== this.data) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLCharacterData;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLComment,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLComment = (function(superClass) {\n    extend(XMLComment, superClass);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text. \" + this.debugInfo());\n      }\n      this.name = \"#comment\";\n      this.type = NodeType.Comment;\n      this.value = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLComment.prototype.toString = function(options) {\n      return this.options.writer.comment(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLComment;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMConfiguration, XMLDOMErrorHandler, XMLDOMStringList;\n\n  XMLDOMErrorHandler = require('./XMLDOMErrorHandler');\n\n  XMLDOMStringList = require('./XMLDOMStringList');\n\n  module.exports = XMLDOMConfiguration = (function() {\n    function XMLDOMConfiguration() {\n      var clonedSelf;\n      this.defaultParams = {\n        \"canonical-form\": false,\n        \"cdata-sections\": false,\n        \"comments\": false,\n        \"datatype-normalization\": false,\n        \"element-content-whitespace\": true,\n        \"entities\": true,\n        \"error-handler\": new XMLDOMErrorHandler(),\n        \"infoset\": true,\n        \"validate-if-schema\": false,\n        \"namespaces\": true,\n        \"namespace-declarations\": true,\n        \"normalize-characters\": false,\n        \"schema-location\": '',\n        \"schema-type\": '',\n        \"split-cdata-sections\": true,\n        \"validate\": false,\n        \"well-formed\": true\n      };\n      this.params = clonedSelf = Object.create(this.defaultParams);\n    }\n\n    Object.defineProperty(XMLDOMConfiguration.prototype, 'parameterNames', {\n      get: function() {\n        return new XMLDOMStringList(Object.keys(this.defaultParams));\n      }\n    });\n\n    XMLDOMConfiguration.prototype.getParameter = function(name) {\n      if (this.params.hasOwnProperty(name)) {\n        return this.params[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLDOMConfiguration.prototype.canSetParameter = function(name, value) {\n      return true;\n    };\n\n    XMLDOMConfiguration.prototype.setParameter = function(name, value) {\n      if (value != null) {\n        return this.params[name] = value;\n      } else {\n        return delete this.params[name];\n      }\n    };\n\n    return XMLDOMConfiguration;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMErrorHandler;\n\n  module.exports = XMLDOMErrorHandler = (function() {\n    function XMLDOMErrorHandler() {}\n\n    XMLDOMErrorHandler.prototype.handleError = function(error) {\n      throw new Error(error);\n    };\n\n    return XMLDOMErrorHandler;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMImplementation;\n\n  module.exports = XMLDOMImplementation = (function() {\n    function XMLDOMImplementation() {}\n\n    XMLDOMImplementation.prototype.hasFeature = function(feature, version) {\n      return true;\n    };\n\n    XMLDOMImplementation.prototype.createDocumentType = function(qualifiedName, publicId, systemId) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createDocument = function(namespaceURI, qualifiedName, doctype) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.createHTMLDocument = function(title) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLDOMImplementation.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLDOMImplementation;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLDOMStringList;\n\n  module.exports = XMLDOMStringList = (function() {\n    function XMLDOMStringList(arr) {\n      this.arr = arr || [];\n    }\n\n    Object.defineProperty(XMLDOMStringList.prototype, 'length', {\n      get: function() {\n        return this.arr.length;\n      }\n    });\n\n    XMLDOMStringList.prototype.item = function(index) {\n      return this.arr[index] || null;\n    };\n\n    XMLDOMStringList.prototype.contains = function(str) {\n      return this.arr.indexOf(str) !== -1;\n    };\n\n    return XMLDOMStringList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDAttList = (function(superClass) {\n    extend(XMLDTDAttList, superClass);\n\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      XMLDTDAttList.__super__.constructor.call(this, parent);\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name. \" + this.debugInfo(elementName));\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type. \" + this.debugInfo(elementName));\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default. \" + this.debugInfo(elementName));\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT. \" + this.debugInfo(elementName));\n      }\n      this.elementName = this.stringify.name(elementName);\n      this.type = NodeType.AttributeDeclaration;\n      this.attributeName = this.stringify.name(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      if (defaultValue) {\n        this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      }\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.toString = function(options) {\n      return this.options.writer.dtdAttList(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDAttList;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDElement, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDElement = (function(superClass) {\n    extend(XMLDTDElement, superClass);\n\n    function XMLDTDElement(parent, name, value) {\n      XMLDTDElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD element name. \" + this.debugInfo());\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (Array.isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.ElementDeclaration;\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.toString = function(options) {\n      return this.options.writer.dtdElement(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDEntity, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDEntity = (function(superClass) {\n    extend(XMLDTDEntity, superClass);\n\n    function XMLDTDEntity(parent, pe, name, value) {\n      XMLDTDEntity.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD entity name. \" + this.debugInfo(name));\n      }\n      if (value == null) {\n        throw new Error(\"Missing DTD entity value. \" + this.debugInfo(name));\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.name(name);\n      this.type = NodeType.EntityDeclaration;\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n        this.internal = true;\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity. \" + this.debugInfo(name));\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity. \" + this.debugInfo(name));\n        }\n        this.internal = false;\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity. \" + this.debugInfo(name));\n        }\n      }\n    }\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'notationName', {\n      get: function() {\n        return this.nData || null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDTDEntity.prototype, 'xmlVersion', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDTDEntity.prototype.toString = function(options) {\n      return this.options.writer.dtdEntity(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDEntity;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDNotation, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDTDNotation = (function(superClass) {\n    extend(XMLDTDNotation, superClass);\n\n    function XMLDTDNotation(parent, name, value) {\n      XMLDTDNotation.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing DTD notation name. \" + this.debugInfo(name));\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity. \" + this.debugInfo(name));\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.NotationDeclaration;\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDTDNotation.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    XMLDTDNotation.prototype.toString = function(options) {\n      return this.options.writer.dtdNotation(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDTDNotation;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDeclaration, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDeclaration = (function(superClass) {\n    extend(XMLDeclaration, superClass);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      this.type = NodeType.Declaration;\n      this.version = this.stringify.xmlVersion(version);\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.toString = function(options) {\n      return this.options.writer.declaration(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNamedNodeMap, XMLNode, isObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isObject = require('./Utility').isObject;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLDocType = (function(superClass) {\n    extend(XMLDocType, superClass);\n\n    function XMLDocType(parent, pubID, sysID) {\n      var child, i, len, ref, ref1, ref2;\n      XMLDocType.__super__.constructor.call(this, parent);\n      this.type = NodeType.DocType;\n      if (parent.children) {\n        ref = parent.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.Element) {\n            this.name = child.name;\n            break;\n          }\n        }\n      }\n      this.documentObject = parent;\n      if (isObject(pubID)) {\n        ref1 = pubID, pubID = ref1.pubID, sysID = ref1.sysID;\n      }\n      if (sysID == null) {\n        ref2 = [pubID, sysID], sysID = ref2[0], pubID = ref2[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    Object.defineProperty(XMLDocType.prototype, 'entities', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if ((child.type === NodeType.EntityDeclaration) && !child.pe) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'notations', {\n      get: function() {\n        var child, i, len, nodes, ref;\n        nodes = {};\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.NotationDeclaration) {\n            nodes[child.name] = child;\n          }\n        }\n        return new XMLNamedNodeMap(nodes);\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'publicId', {\n      get: function() {\n        return this.pubID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'systemId', {\n      get: function() {\n        return this.sysID;\n      }\n    });\n\n    Object.defineProperty(XMLDocType.prototype, 'internalSubset', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLDocType.prototype.element = function(name, value) {\n      var child;\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var child;\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var child;\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var child;\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.toString = function(options) {\n      return this.options.writer.docType(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root() || this.documentObject;\n    };\n\n    XMLDocType.prototype.isEqualNode = function(node) {\n      if (!XMLDocType.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.name !== this.name) {\n        return false;\n      }\n      if (node.publicId !== this.publicId) {\n        return false;\n      }\n      if (node.systemId !== this.systemId) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLDocType;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDOMConfiguration, XMLDOMImplementation, XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  isPlainObject = require('./Utility').isPlainObject;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDOMConfiguration = require('./XMLDOMConfiguration');\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  module.exports = XMLDocument = (function(superClass) {\n    extend(XMLDocument, superClass);\n\n    function XMLDocument(options) {\n      XMLDocument.__super__.constructor.call(this, null);\n      this.name = \"#document\";\n      this.type = NodeType.Document;\n      this.documentURI = null;\n      this.domConfig = new XMLDOMConfiguration();\n      options || (options = {});\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n    }\n\n    Object.defineProperty(XMLDocument.prototype, 'implementation', {\n      value: new XMLDOMImplementation()\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'doctype', {\n      get: function() {\n        var child, i, len, ref;\n        ref = this.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          if (child.type === NodeType.DocType) {\n            return child;\n          }\n        }\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'documentElement', {\n      get: function() {\n        return this.rootObject || null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'inputEncoding', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'strictErrorChecking', {\n      get: function() {\n        return false;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlEncoding', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].encoding;\n        } else {\n          return null;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlStandalone', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].standalone === 'yes';\n        } else {\n          return false;\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'xmlVersion', {\n      get: function() {\n        if (this.children.length !== 0 && this.children[0].type === NodeType.Declaration) {\n          return this.children[0].version;\n        } else {\n          return \"1.0\";\n        }\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'URL', {\n      get: function() {\n        return this.documentURI;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'origin', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'compatMode', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'characterSet', {\n      get: function() {\n        return null;\n      }\n    });\n\n    Object.defineProperty(XMLDocument.prototype, 'contentType', {\n      get: function() {\n        return null;\n      }\n    });\n\n    XMLDocument.prototype.end = function(writer) {\n      var writerOptions;\n      writerOptions = {};\n      if (!writer) {\n        writer = this.options.writer;\n      } else if (isPlainObject(writer)) {\n        writerOptions = writer;\n        writer = this.options.writer;\n      }\n      return writer.document(this, writer.filterOptions(writerOptions));\n    };\n\n    XMLDocument.prototype.toString = function(options) {\n      return this.options.writer.document(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLDocument.prototype.createElement = function(tagName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createDocumentFragment = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTextNode = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createComment = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createCDATASection = function(data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createProcessingInstruction = function(target, data) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttribute = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEntityReference = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.importNode = function(importedNode, deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createElementNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createAttributeNS = function(namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementById = function(elementId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.adoptNode = function(source) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.normalizeDocument = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.renameNode = function(node, namespaceURI, qualifiedName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createEvent = function(eventInterface) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createRange = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createNodeIterator = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLDocument.prototype.createTreeWalker = function(root, whatToShow, filter) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLDocument;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocument, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, getValue, isFunction, isObject, isPlainObject, ref,\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject, getValue = ref.getValue;\n\n  NodeType = require('./NodeType');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLElement = require('./XMLElement');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLDocumentCB = (function() {\n    function XMLDocumentCB(options, onData, onEnd) {\n      var writerOptions;\n      this.name = \"?xml\";\n      this.type = NodeType.Document;\n      options || (options = {});\n      writerOptions = {};\n      if (!options.writer) {\n        options.writer = new XMLStringWriter();\n      } else if (isPlainObject(options.writer)) {\n        writerOptions = options.writer;\n        options.writer = new XMLStringWriter();\n      }\n      this.options = options;\n      this.writer = options.writer;\n      this.writerOptions = this.writer.filterOptions(writerOptions);\n      this.stringify = new XMLStringifier(options);\n      this.onDataCallback = onData || function() {};\n      this.onEndCallback = onEnd || function() {};\n      this.currentNode = null;\n      this.currentLevel = -1;\n      this.openTags = {};\n      this.documentStarted = false;\n      this.documentCompleted = false;\n      this.root = null;\n    }\n\n    XMLDocumentCB.prototype.createChildNode = function(node) {\n      var att, attName, attributes, child, i, len, ref1, ref2;\n      switch (node.type) {\n        case NodeType.CData:\n          this.cdata(node.value);\n          break;\n        case NodeType.Comment:\n          this.comment(node.value);\n          break;\n        case NodeType.Element:\n          attributes = {};\n          ref1 = node.attribs;\n          for (attName in ref1) {\n            if (!hasProp.call(ref1, attName)) continue;\n            att = ref1[attName];\n            attributes[attName] = att.value;\n          }\n          this.node(node.name, attributes);\n          break;\n        case NodeType.Dummy:\n          this.dummy();\n          break;\n        case NodeType.Raw:\n          this.raw(node.value);\n          break;\n        case NodeType.Text:\n          this.text(node.value);\n          break;\n        case NodeType.ProcessingInstruction:\n          this.instruction(node.target, node.value);\n          break;\n        default:\n          throw new Error(\"This XML node type is not supported in a JS object: \" + node.constructor.name);\n      }\n      ref2 = node.children;\n      for (i = 0, len = ref2.length; i < len; i++) {\n        child = ref2[i];\n        this.createChildNode(child);\n        if (child.type === NodeType.Element) {\n          this.up();\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dummy = function() {\n      return this;\n    };\n\n    XMLDocumentCB.prototype.node = function(name, attributes, text) {\n      var ref1;\n      if (name == null) {\n        throw new Error(\"Missing node name.\");\n      }\n      if (this.root && this.currentLevel === -1) {\n        throw new Error(\"Document can only have one root node. \" + this.debugInfo(name));\n      }\n      this.openCurrent();\n      name = getValue(name);\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];\n      }\n      this.currentNode = new XMLElement(this, name, attributes);\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      if (text != null) {\n        this.text(text);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.element = function(name, attributes, text) {\n      var child, i, len, oldValidationFlag, ref1, root;\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        this.dtdElement.apply(this, arguments);\n      } else {\n        if (Array.isArray(name) || isObject(name) || isFunction(name)) {\n          oldValidationFlag = this.options.noValidation;\n          this.options.noValidation = true;\n          root = new XMLDocument(this.options).element('TEMP_ROOT');\n          root.element(name);\n          this.options.noValidation = oldValidationFlag;\n          ref1 = root.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            this.createChildNode(child);\n            if (child.type === NodeType.Element) {\n              this.up();\n            }\n          }\n        } else {\n          this.node(name, attributes, text);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (!this.currentNode || this.currentNode.children) {\n        throw new Error(\"att() can only be used immediately after an ele() call in callback mode. \" + this.debugInfo(name));\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.currentNode.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.text = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLText(this, value);\n      this.onData(this.writer.text(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.cdata = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLCData(this, value);\n      this.onData(this.writer.cdata(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.comment = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLComment(this, value);\n      this.onData(this.writer.comment(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.raw = function(value) {\n      var node;\n      this.openCurrent();\n      node = new XMLRaw(this, value);\n      this.onData(this.writer.raw(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.instruction = function(target, value) {\n      var i, insTarget, insValue, len, node;\n      this.openCurrent();\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (i = 0, len = target.length; i < len; i++) {\n          insTarget = target[i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        node = new XMLProcessingInstruction(this, target, value);\n        this.onData(this.writer.processingInstruction(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      }\n      return this;\n    };\n\n    XMLDocumentCB.prototype.declaration = function(version, encoding, standalone) {\n      var node;\n      this.openCurrent();\n      if (this.documentStarted) {\n        throw new Error(\"declaration() must be the first node.\");\n      }\n      node = new XMLDeclaration(this, version, encoding, standalone);\n      this.onData(this.writer.declaration(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.doctype = function(root, pubID, sysID) {\n      this.openCurrent();\n      if (root == null) {\n        throw new Error(\"Missing root node name.\");\n      }\n      if (this.root) {\n        throw new Error(\"dtd() must come before the root node.\");\n      }\n      this.currentNode = new XMLDocType(this, pubID, sysID);\n      this.currentNode.rootNodeName = root;\n      this.currentNode.children = false;\n      this.currentLevel++;\n      this.openTags[this.currentLevel] = this.currentNode;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.dtdElement = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDElement(this, name, value);\n      this.onData(this.writer.dtdElement(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.onData(this.writer.dtdAttList(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.entity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, false, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.pEntity = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDEntity(this, true, name, value);\n      this.onData(this.writer.dtdEntity(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.notation = function(name, value) {\n      var node;\n      this.openCurrent();\n      node = new XMLDTDNotation(this, name, value);\n      this.onData(this.writer.dtdNotation(node, this.writerOptions, this.currentLevel + 1), this.currentLevel + 1);\n      return this;\n    };\n\n    XMLDocumentCB.prototype.up = function() {\n      if (this.currentLevel < 0) {\n        throw new Error(\"The document node has no parent.\");\n      }\n      if (this.currentNode) {\n        if (this.currentNode.children) {\n          this.closeNode(this.currentNode);\n        } else {\n          this.openNode(this.currentNode);\n        }\n        this.currentNode = null;\n      } else {\n        this.closeNode(this.openTags[this.currentLevel]);\n      }\n      delete this.openTags[this.currentLevel];\n      this.currentLevel--;\n      return this;\n    };\n\n    XMLDocumentCB.prototype.end = function() {\n      while (this.currentLevel >= 0) {\n        this.up();\n      }\n      return this.onEnd();\n    };\n\n    XMLDocumentCB.prototype.openCurrent = function() {\n      if (this.currentNode) {\n        this.currentNode.children = true;\n        return this.openNode(this.currentNode);\n      }\n    };\n\n    XMLDocumentCB.prototype.openNode = function(node) {\n      var att, chunk, name, ref1;\n      if (!node.isOpen) {\n        if (!this.root && this.currentLevel === 0 && node.type === NodeType.Element) {\n          this.root = node;\n        }\n        chunk = '';\n        if (node.type === NodeType.Element) {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<' + node.name;\n          ref1 = node.attribs;\n          for (name in ref1) {\n            if (!hasProp.call(ref1, name)) continue;\n            att = ref1[name];\n            chunk += this.writer.attribute(att, this.writerOptions, this.currentLevel);\n          }\n          chunk += (node.children ? '>' : '/>') + this.writer.endline(node, this.writerOptions, this.currentLevel);\n          this.writerOptions.state = WriterState.InsideTag;\n        } else {\n          this.writerOptions.state = WriterState.OpenTag;\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '<!DOCTYPE ' + node.rootNodeName;\n          if (node.pubID && node.sysID) {\n            chunk += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n          } else if (node.sysID) {\n            chunk += ' SYSTEM \"' + node.sysID + '\"';\n          }\n          if (node.children) {\n            chunk += ' [';\n            this.writerOptions.state = WriterState.InsideTag;\n          } else {\n            this.writerOptions.state = WriterState.CloseTag;\n            chunk += '>';\n          }\n          chunk += this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.onData(chunk, this.currentLevel);\n        return node.isOpen = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.closeNode = function(node) {\n      var chunk;\n      if (!node.isClosed) {\n        chunk = '';\n        this.writerOptions.state = WriterState.CloseTag;\n        if (node.type === NodeType.Element) {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + '</' + node.name + '>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        } else {\n          chunk = this.writer.indent(node, this.writerOptions, this.currentLevel) + ']>' + this.writer.endline(node, this.writerOptions, this.currentLevel);\n        }\n        this.writerOptions.state = WriterState.None;\n        this.onData(chunk, this.currentLevel);\n        return node.isClosed = true;\n      }\n    };\n\n    XMLDocumentCB.prototype.onData = function(chunk, level) {\n      this.documentStarted = true;\n      return this.onDataCallback(chunk, level + 1);\n    };\n\n    XMLDocumentCB.prototype.onEnd = function() {\n      this.documentCompleted = true;\n      return this.onEndCallback();\n    };\n\n    XMLDocumentCB.prototype.debugInfo = function(name) {\n      if (name == null) {\n        return \"\";\n      } else {\n        return \"node: <\" + name + \">\";\n      }\n    };\n\n    XMLDocumentCB.prototype.ele = function() {\n      return this.element.apply(this, arguments);\n    };\n\n    XMLDocumentCB.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLDocumentCB.prototype.dtd = function(root, pubID, sysID) {\n      return this.doctype(root, pubID, sysID);\n    };\n\n    XMLDocumentCB.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLDocumentCB.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLDocumentCB.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocumentCB.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocumentCB.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLDocumentCB.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocumentCB.prototype.att = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.a = function() {\n      if (this.currentNode && this.currentNode.type === NodeType.DocType) {\n        return this.attList.apply(this, arguments);\n      } else {\n        return this.attribute.apply(this, arguments);\n      }\n    };\n\n    XMLDocumentCB.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocumentCB.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocumentCB.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    return XMLDocumentCB;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLDummy, XMLNode,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  module.exports = XMLDummy = (function(superClass) {\n    extend(XMLDummy, superClass);\n\n    function XMLDummy(parent) {\n      XMLDummy.__super__.constructor.call(this, parent);\n      this.type = NodeType.Dummy;\n    }\n\n    XMLDummy.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLDummy.prototype.toString = function(options) {\n      return '';\n    };\n\n    return XMLDummy;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLAttribute, XMLElement, XMLNamedNodeMap, XMLNode, getValue, isFunction, isObject, ref,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  ref = require('./Utility'), isObject = ref.isObject, isFunction = ref.isFunction, getValue = ref.getValue;\n\n  XMLNode = require('./XMLNode');\n\n  NodeType = require('./NodeType');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLNamedNodeMap = require('./XMLNamedNodeMap');\n\n  module.exports = XMLElement = (function(superClass) {\n    extend(XMLElement, superClass);\n\n    function XMLElement(parent, name, attributes) {\n      var child, j, len, ref1;\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name. \" + this.debugInfo());\n      }\n      this.name = this.stringify.name(name);\n      this.type = NodeType.Element;\n      this.attribs = {};\n      this.schemaTypeInfo = null;\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n      if (parent.type === NodeType.Document) {\n        this.isRoot = true;\n        this.documentObject = parent;\n        parent.rootObject = this;\n        if (parent.children) {\n          ref1 = parent.children;\n          for (j = 0, len = ref1.length; j < len; j++) {\n            child = ref1[j];\n            if (child.type === NodeType.DocType) {\n              child.name = this.name;\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    Object.defineProperty(XMLElement.prototype, 'tagName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'namespaceURI', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'prefix', {\n      get: function() {\n        return '';\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'localName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'id', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'className', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'classList', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLElement.prototype, 'attributes', {\n      get: function() {\n        if (!this.attributeMap || !this.attributeMap.nodes) {\n          this.attributeMap = new XMLNamedNodeMap(this.attribs);\n        }\n        return this.attributeMap;\n      }\n    });\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, ref1;\n      clonedSelf = Object.create(this);\n      if (clonedSelf.isRoot) {\n        clonedSelf.documentObject = null;\n      }\n      clonedSelf.attribs = {};\n      ref1 = this.attribs;\n      for (attName in ref1) {\n        if (!hasProp.call(ref1, attName)) continue;\n        att = ref1[attName];\n        clonedSelf.attribs[attName] = att.clone();\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (this.options.keepNullAttributes && (value == null)) {\n          this.attribs[name] = new XMLAttribute(this, name, \"\");\n        } else if (value != null) {\n          this.attribs[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, j, len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name. \" + this.debugInfo());\n      }\n      name = getValue(name);\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          attName = name[j];\n          delete this.attribs[attName];\n        }\n      } else {\n        delete this.attribs[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options) {\n      return this.options.writer.element(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.getAttribute = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].value;\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttribute = function(name, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNode = function(name) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name];\n      } else {\n        return null;\n      }\n    };\n\n    XMLElement.prototype.setAttributeNode = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNode = function(oldAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(name) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNS = function(namespaceURI, qualifiedName, value) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.removeAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getAttributeNodeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setAttributeNodeNS = function(newAttr) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.hasAttribute = function(name) {\n      return this.attribs.hasOwnProperty(name);\n    };\n\n    XMLElement.prototype.hasAttributeNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttribute = function(name, isId) {\n      if (this.attribs.hasOwnProperty(name)) {\n        return this.attribs[name].isId;\n      } else {\n        return isId;\n      }\n    };\n\n    XMLElement.prototype.setIdAttributeNS = function(namespaceURI, localName, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.setIdAttributeNode = function(idAttr, isId) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagName = function(tagname) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByTagNameNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.getElementsByClassName = function(classNames) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLElement.prototype.isEqualNode = function(node) {\n      var i, j, ref1;\n      if (!XMLElement.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.namespaceURI !== this.namespaceURI) {\n        return false;\n      }\n      if (node.prefix !== this.prefix) {\n        return false;\n      }\n      if (node.localName !== this.localName) {\n        return false;\n      }\n      if (node.attribs.length !== this.attribs.length) {\n        return false;\n      }\n      for (i = j = 0, ref1 = this.attribs.length - 1; 0 <= ref1 ? j <= ref1 : j >= ref1; i = 0 <= ref1 ? ++j : --j) {\n        if (!this.attribs[i].isEqualNode(node.attribs[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNamedNodeMap;\n\n  module.exports = XMLNamedNodeMap = (function() {\n    function XMLNamedNodeMap(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNamedNodeMap.prototype, 'length', {\n      get: function() {\n        return Object.keys(this.nodes).length || 0;\n      }\n    });\n\n    XMLNamedNodeMap.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItem = function(name) {\n      return this.nodes[name];\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItem = function(node) {\n      var oldNode;\n      oldNode = this.nodes[node.nodeName];\n      this.nodes[node.nodeName] = node;\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItem = function(name) {\n      var oldNode;\n      oldNode = this.nodes[name];\n      delete this.nodes[name];\n      return oldNode || null;\n    };\n\n    XMLNamedNodeMap.prototype.item = function(index) {\n      return this.nodes[Object.keys(this.nodes)[index]] || null;\n    };\n\n    XMLNamedNodeMap.prototype.getNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.setNamedItemNS = function(node) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    XMLNamedNodeMap.prototype.removeNamedItemNS = function(namespaceURI, localName) {\n      throw new Error(\"This DOM method is not implemented.\");\n    };\n\n    return XMLNamedNodeMap;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var DocumentPosition, NodeType, XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLNamedNodeMap, XMLNode, XMLNodeList, XMLProcessingInstruction, XMLRaw, XMLText, getValue, isEmpty, isFunction, isObject, ref1,\n    hasProp = {}.hasOwnProperty;\n\n  ref1 = require('./Utility'), isObject = ref1.isObject, isFunction = ref1.isFunction, isEmpty = ref1.isEmpty, getValue = ref1.getValue;\n\n  XMLElement = null;\n\n  XMLCData = null;\n\n  XMLComment = null;\n\n  XMLDeclaration = null;\n\n  XMLDocType = null;\n\n  XMLRaw = null;\n\n  XMLText = null;\n\n  XMLProcessingInstruction = null;\n\n  XMLDummy = null;\n\n  NodeType = null;\n\n  XMLNodeList = null;\n\n  XMLNamedNodeMap = null;\n\n  DocumentPosition = null;\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent1) {\n      this.parent = parent1;\n      if (this.parent) {\n        this.options = this.parent.options;\n        this.stringify = this.parent.stringify;\n      }\n      this.value = null;\n      this.children = [];\n      this.baseURI = null;\n      if (!XMLElement) {\n        XMLElement = require('./XMLElement');\n        XMLCData = require('./XMLCData');\n        XMLComment = require('./XMLComment');\n        XMLDeclaration = require('./XMLDeclaration');\n        XMLDocType = require('./XMLDocType');\n        XMLRaw = require('./XMLRaw');\n        XMLText = require('./XMLText');\n        XMLProcessingInstruction = require('./XMLProcessingInstruction');\n        XMLDummy = require('./XMLDummy');\n        NodeType = require('./NodeType');\n        XMLNodeList = require('./XMLNodeList');\n        XMLNamedNodeMap = require('./XMLNamedNodeMap');\n        DocumentPosition = require('./DocumentPosition');\n      }\n    }\n\n    Object.defineProperty(XMLNode.prototype, 'nodeName', {\n      get: function() {\n        return this.name;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeType', {\n      get: function() {\n        return this.type;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nodeValue', {\n      get: function() {\n        return this.value;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'parentNode', {\n      get: function() {\n        return this.parent;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'childNodes', {\n      get: function() {\n        if (!this.childNodeList || !this.childNodeList.nodes) {\n          this.childNodeList = new XMLNodeList(this.children);\n        }\n        return this.childNodeList;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'firstChild', {\n      get: function() {\n        return this.children[0] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'lastChild', {\n      get: function() {\n        return this.children[this.children.length - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'previousSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i - 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'nextSibling', {\n      get: function() {\n        var i;\n        i = this.parent.children.indexOf(this);\n        return this.parent.children[i + 1] || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'ownerDocument', {\n      get: function() {\n        return this.document() || null;\n      }\n    });\n\n    Object.defineProperty(XMLNode.prototype, 'textContent', {\n      get: function() {\n        var child, j, len, ref2, str;\n        if (this.nodeType === NodeType.Element || this.nodeType === NodeType.DocumentFragment) {\n          str = '';\n          ref2 = this.children;\n          for (j = 0, len = ref2.length; j < len; j++) {\n            child = ref2[j];\n            if (child.textContent) {\n              str += child.textContent;\n            }\n          }\n          return str;\n        } else {\n          return null;\n        }\n      },\n      set: function(value) {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    XMLNode.prototype.setParent = function(parent) {\n      var child, j, len, ref2, results;\n      this.parent = parent;\n      if (parent) {\n        this.options = parent.options;\n        this.stringify = parent.stringify;\n      }\n      ref2 = this.children;\n      results = [];\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        results.push(child.setParent(this));\n      }\n      return results;\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var childNode, item, j, k, key, lastChild, len, len1, ref2, ref3, val;\n      lastChild = null;\n      if (attributes === null && (text == null)) {\n        ref2 = [{}, null], attributes = ref2[0], text = ref2[1];\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref3 = [attributes, text], text = ref3[0], attributes = ref3[1];\n      }\n      if (name != null) {\n        name = getValue(name);\n      }\n      if (Array.isArray(name)) {\n        for (j = 0, len = name.length; j < len; j++) {\n          item = name[j];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.separateArrayItems && Array.isArray(val) && isEmpty(val)) {\n            lastChild = this.dummy();\n          } else if (isObject(val) && isEmpty(val)) {\n            lastChild = this.element(key);\n          } else if (!this.options.keepNullNodes && (val == null)) {\n            lastChild = this.dummy();\n          } else if (!this.options.separateArrayItems && Array.isArray(val)) {\n            for (k = 0, len1 = val.length; k < len1; k++) {\n              item = val[k];\n              childNode = {};\n              childNode[key] = item;\n              lastChild = this.element(childNode);\n            }\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && key.indexOf(this.stringify.convertTextKey) === 0) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else if (!this.options.keepNullNodes && text === null) {\n        lastChild = this.dummy();\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {\n          lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name + \". \" + this.debugInfo());\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, newChild, refChild, removed;\n      if (name != null ? name.type : void 0) {\n        newChild = name;\n        refChild = attributes;\n        newChild.setParent(this);\n        if (refChild) {\n          i = children.indexOf(refChild);\n          removed = children.splice(i);\n          children.push(newChild);\n          Array.prototype.push.apply(children, removed);\n        } else {\n          children.push(newChild);\n        }\n        return newChild;\n      } else {\n        if (this.isRoot) {\n          throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n        }\n        i = this.parent.children.indexOf(this);\n        removed = this.parent.children.splice(i);\n        child = this.parent.element(name, attributes, text);\n        Array.prototype.push.apply(this.parent.children, removed);\n        return child;\n      }\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level. \" + this.debugInfo(name));\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, ref2;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element. \" + this.debugInfo());\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref2 = [])), ref2;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var child, ref2;\n      if (name != null) {\n        name = getValue(name);\n      }\n      attributes || (attributes = {});\n      attributes = getValue(attributes);\n      if (!isObject(attributes)) {\n        ref2 = [attributes, text], text = ref2[0], attributes = ref2[1];\n      }\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var child;\n      if (isObject(value)) {\n        this.element(value);\n      }\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var child;\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var child;\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.commentBefore = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.commentAfter = function(value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.comment(value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var child;\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.dummy = function() {\n      var child;\n      child = new XMLDummy(this);\n      return child;\n    };\n\n    XMLNode.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, j, len;\n      if (target != null) {\n        target = getValue(target);\n      }\n      if (value != null) {\n        value = getValue(value);\n      }\n      if (Array.isArray(target)) {\n        for (j = 0, len = target.length; j < len; j++) {\n          insTarget = target[j];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.children.push(instruction);\n      }\n      return this;\n    };\n\n    XMLNode.prototype.instructionBefore = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.instructionAfter = function(target, value) {\n      var child, i, removed;\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.instruction(target, value);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var doc, xmldec;\n      doc = this.document();\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      if (doc.children.length === 0) {\n        doc.children.unshift(xmldec);\n      } else if (doc.children[0].type === NodeType.Declaration) {\n        doc.children[0] = xmldec;\n      } else {\n        doc.children.unshift(xmldec);\n      }\n      return doc.root() || doc;\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      var child, doc, doctype, i, j, k, len, len1, ref2, ref3;\n      doc = this.document();\n      doctype = new XMLDocType(doc, pubID, sysID);\n      ref2 = doc.children;\n      for (i = j = 0, len = ref2.length; j < len; i = ++j) {\n        child = ref2[i];\n        if (child.type === NodeType.DocType) {\n          doc.children[i] = doctype;\n          return doctype;\n        }\n      }\n      ref3 = doc.children;\n      for (i = k = 0, len1 = ref3.length; k < len1; i = ++k) {\n        child = ref3[i];\n        if (child.isRoot) {\n          doc.children.splice(i, 0, doctype);\n          return doctype;\n        }\n      }\n      doc.children.push(doctype);\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node.rootObject;\n        } else if (node.isRoot) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.document = function() {\n      var node;\n      node = this;\n      while (node) {\n        if (node.type === NodeType.Document) {\n          return node;\n        } else {\n          node = node.parent;\n        }\n      }\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().end(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node. \" + this.debugInfo());\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node. \" + this.debugInfo());\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importDocument = function(doc) {\n      var clonedRoot;\n      clonedRoot = doc.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.debugInfo = function(name) {\n      var ref2, ref3;\n      name = name || this.name;\n      if ((name == null) && !((ref2 = this.parent) != null ? ref2.name : void 0)) {\n        return \"\";\n      } else if (name == null) {\n        return \"parent: <\" + this.parent.name + \">\";\n      } else if (!((ref3 = this.parent) != null ? ref3.name : void 0)) {\n        return \"node: <\" + name + \">\";\n      } else {\n        return \"node: <\" + name + \">, parent: <\" + this.parent.name + \">\";\n      }\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(doc) {\n      return this.importDocument(doc);\n    };\n\n    XMLNode.prototype.replaceChild = function(newChild, oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.removeChild = function(oldChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.appendChild = function(newChild) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.hasChildNodes = function() {\n      return this.children.length !== 0;\n    };\n\n    XMLNode.prototype.cloneNode = function(deep) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.normalize = function() {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isSupported = function(feature, version) {\n      return true;\n    };\n\n    XMLNode.prototype.hasAttributes = function() {\n      return this.attribs.length !== 0;\n    };\n\n    XMLNode.prototype.compareDocumentPosition = function(other) {\n      var ref, res;\n      ref = this;\n      if (ref === other) {\n        return 0;\n      } else if (this.document() !== other.document()) {\n        res = DocumentPosition.Disconnected | DocumentPosition.ImplementationSpecific;\n        if (Math.random() < 0.5) {\n          res |= DocumentPosition.Preceding;\n        } else {\n          res |= DocumentPosition.Following;\n        }\n        return res;\n      } else if (ref.isAncestor(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Preceding;\n      } else if (ref.isDescendant(other)) {\n        return DocumentPosition.Contains | DocumentPosition.Following;\n      } else if (ref.isPreceding(other)) {\n        return DocumentPosition.Preceding;\n      } else {\n        return DocumentPosition.Following;\n      }\n    };\n\n    XMLNode.prototype.isSameNode = function(other) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupPrefix = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isDefaultNamespace = function(namespaceURI) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.lookupNamespaceURI = function(prefix) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.isEqualNode = function(node) {\n      var i, j, ref2;\n      if (node.nodeType !== this.nodeType) {\n        return false;\n      }\n      if (node.children.length !== this.children.length) {\n        return false;\n      }\n      for (i = j = 0, ref2 = this.children.length - 1; 0 <= ref2 ? j <= ref2 : j >= ref2; i = 0 <= ref2 ? ++j : --j) {\n        if (!this.children[i].isEqualNode(node.children[i])) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    XMLNode.prototype.getFeature = function(feature, version) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.setUserData = function(key, data, handler) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.getUserData = function(key) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLNode.prototype.contains = function(other) {\n      if (!other) {\n        return false;\n      }\n      return other === this || this.isDescendant(other);\n    };\n\n    XMLNode.prototype.isDescendant = function(node) {\n      var child, isDescendantChild, j, len, ref2;\n      ref2 = this.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (node === child) {\n          return true;\n        }\n        isDescendantChild = child.isDescendant(node);\n        if (isDescendantChild) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    XMLNode.prototype.isAncestor = function(node) {\n      return node.isDescendant(this);\n    };\n\n    XMLNode.prototype.isPreceding = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos < thisPos;\n      }\n    };\n\n    XMLNode.prototype.isFollowing = function(node) {\n      var nodePos, thisPos;\n      nodePos = this.treePosition(node);\n      thisPos = this.treePosition(this);\n      if (nodePos === -1 || thisPos === -1) {\n        return false;\n      } else {\n        return nodePos > thisPos;\n      }\n    };\n\n    XMLNode.prototype.treePosition = function(node) {\n      var found, pos;\n      pos = 0;\n      found = false;\n      this.foreachTreeNode(this.document(), function(childNode) {\n        pos++;\n        if (!found && childNode === node) {\n          return found = true;\n        }\n      });\n      if (found) {\n        return pos;\n      } else {\n        return -1;\n      }\n    };\n\n    XMLNode.prototype.foreachTreeNode = function(node, func) {\n      var child, j, len, ref2, res;\n      node || (node = this.document());\n      ref2 = node.children;\n      for (j = 0, len = ref2.length; j < len; j++) {\n        child = ref2[j];\n        if (res = func(child)) {\n          return res;\n        } else {\n          res = this.foreachTreeNode(child, func);\n          if (res) {\n            return res;\n          }\n        }\n      }\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLNodeList;\n\n  module.exports = XMLNodeList = (function() {\n    function XMLNodeList(nodes) {\n      this.nodes = nodes;\n    }\n\n    Object.defineProperty(XMLNodeList.prototype, 'length', {\n      get: function() {\n        return this.nodes.length || 0;\n      }\n    });\n\n    XMLNodeList.prototype.clone = function() {\n      return this.nodes = null;\n    };\n\n    XMLNodeList.prototype.item = function(index) {\n      return this.nodes[index] || null;\n    };\n\n    return XMLNodeList;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLProcessingInstruction,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLProcessingInstruction = (function(superClass) {\n    extend(XMLProcessingInstruction, superClass);\n\n    function XMLProcessingInstruction(parent, target, value) {\n      XMLProcessingInstruction.__super__.constructor.call(this, parent);\n      if (target == null) {\n        throw new Error(\"Missing instruction target. \" + this.debugInfo());\n      }\n      this.type = NodeType.ProcessingInstruction;\n      this.target = this.stringify.insTarget(target);\n      this.name = this.target;\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options) {\n      return this.options.writer.processingInstruction(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLProcessingInstruction.prototype.isEqualNode = function(node) {\n      if (!XMLProcessingInstruction.__super__.isEqualNode.apply(this, arguments).isEqualNode(node)) {\n        return false;\n      }\n      if (node.target !== this.target) {\n        return false;\n      }\n      return true;\n    };\n\n    return XMLProcessingInstruction;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLNode, XMLRaw,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(superClass) {\n    extend(XMLRaw, superClass);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text. \" + this.debugInfo());\n      }\n      this.type = NodeType.Raw;\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLRaw.prototype.toString = function(options) {\n      return this.options.writer.raw(this, this.options.writer.filterOptions(options));\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLStreamWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLStreamWriter = (function(superClass) {\n    extend(XMLStreamWriter, superClass);\n\n    function XMLStreamWriter(stream, options) {\n      this.stream = stream;\n      XMLStreamWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStreamWriter.prototype.endline = function(node, options, level) {\n      if (node.isLastRootNode && options.state === WriterState.CloseTag) {\n        return '';\n      } else {\n        return XMLStreamWriter.__super__.endline.call(this, node, options, level);\n      }\n    };\n\n    XMLStreamWriter.prototype.document = function(doc, options) {\n      var child, i, j, k, len, len1, ref, ref1, results;\n      ref = doc.children;\n      for (i = j = 0, len = ref.length; j < len; i = ++j) {\n        child = ref[i];\n        child.isLastRootNode = i === doc.children.length - 1;\n      }\n      options = this.filterOptions(options);\n      ref1 = doc.children;\n      results = [];\n      for (k = 0, len1 = ref1.length; k < len1; k++) {\n        child = ref1[k];\n        results.push(this.writeChildNode(child, options, 0));\n      }\n      return results;\n    };\n\n    XMLStreamWriter.prototype.attribute = function(att, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.attribute.call(this, att, options, level));\n    };\n\n    XMLStreamWriter.prototype.cdata = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.cdata.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.comment = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.comment.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.declaration = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.declaration.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.docType = function(node, options, level) {\n      var child, j, len, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level));\n      this.stream.write('<!DOCTYPE ' + node.root().name);\n      if (node.pubID && node.sysID) {\n        this.stream.write(' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"');\n      } else if (node.sysID) {\n        this.stream.write(' SYSTEM \"' + node.sysID + '\"');\n      }\n      if (node.children.length > 0) {\n        this.stream.write(' [');\n        this.stream.write(this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (j = 0, len = ref.length; j < len; j++) {\n          child = ref[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(']');\n      }\n      options.state = WriterState.CloseTag;\n      this.stream.write(options.spaceBeforeSlash + '>');\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, j, len, name, prettySuppressed, ref, ref1;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      this.stream.write(this.indent(node, options, level) + '<' + node.name);\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          this.stream.write('>');\n          options.state = WriterState.CloseTag;\n          this.stream.write('</' + node.name + '>');\n        } else {\n          options.state = WriterState.CloseTag;\n          this.stream.write(options.spaceBeforeSlash + '/>');\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        this.stream.write('>');\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        this.stream.write('</' + node.name + '>');\n      } else {\n        this.stream.write('>' + this.endline(node, options, level));\n        options.state = WriterState.InsideTag;\n        ref1 = node.children;\n        for (j = 0, len = ref1.length; j < len; j++) {\n          child = ref1[j];\n          this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        this.stream.write(this.indent(node, options, level) + '</' + node.name + '>');\n      }\n      this.stream.write(this.endline(node, options, level));\n      options.state = WriterState.None;\n      return this.closeNode(node, options, level);\n    };\n\n    XMLStreamWriter.prototype.processingInstruction = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.processingInstruction.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.raw = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.raw.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.text = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.text.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdAttList = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdAttList.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdElement = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdElement.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdEntity = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdEntity.call(this, node, options, level));\n    };\n\n    XMLStreamWriter.prototype.dtdNotation = function(node, options, level) {\n      return this.stream.write(XMLStreamWriter.__super__.dtdNotation.call(this, node, options, level));\n    };\n\n    return XMLStreamWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringWriter, XMLWriterBase,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  XMLWriterBase = require('./XMLWriterBase');\n\n  module.exports = XMLStringWriter = (function(superClass) {\n    extend(XMLStringWriter, superClass);\n\n    function XMLStringWriter(options) {\n      XMLStringWriter.__super__.constructor.call(this, options);\n    }\n\n    XMLStringWriter.prototype.document = function(doc, options) {\n      var child, i, len, r, ref;\n      options = this.filterOptions(options);\n      r = '';\n      ref = doc.children;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        r += this.writeChildNode(child, options, 0);\n      }\n      if (options.pretty && r.slice(-options.newline.length) === options.newline) {\n        r = r.slice(0, -options.newline.length);\n      }\n      return r;\n    };\n\n    return XMLStringWriter;\n\n  })(XMLWriterBase);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var XMLStringifier,\n    bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalName = bind(this.assertLegalName, this);\n      this.assertLegalChar = bind(this.assertLegalChar, this);\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      if (!this.options.version) {\n        this.options.version = '1.0';\n      }\n      ref = options.stringify || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.name = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalName('' + val || '');\n    };\n\n    XMLStringifier.prototype.text = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.textEscape('' + val || ''));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      val = val.replace(']]>', ']]]]><![CDATA[>');\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar(this.attEscape(val = '' + val || ''));\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      val = '' + val || '';\n      if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {\n        throw new Error(\"Invalid encoding: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      if (this.options.noValidation) {\n        return val;\n      }\n      return this.assertLegalChar('' + val || '');\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var regex, res;\n      if (this.options.noValidation) {\n        return str;\n      }\n      regex = '';\n      if (this.options.version === '1.0') {\n        regex = /[\\0-\\x08\\x0B\\f\\x0E-\\x1F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      } else if (this.options.version === '1.1') {\n        regex = /[\\0\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\n        if (res = str.match(regex)) {\n          throw new Error(\"Invalid character in string: \" + str + \" at index \" + res.index);\n        }\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.assertLegalName = function(str) {\n      var regex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      this.assertLegalChar(str);\n      regex = /^([:A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])([\\x2D\\.0-:A-Z_a-z\\xB7\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u037D\\u037F-\\u1FFF\\u200C\\u200D\\u203F\\u2040\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]|[\\uD800-\\uDB7F][\\uDC00-\\uDFFF])*$/;\n      if (!str.match(regex)) {\n        throw new Error(\"Invalid character in name\");\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.textEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      var ampregex;\n      if (this.options.noValidation) {\n        return str;\n      }\n      ampregex = this.options.noDoubleEncoding ? /(?!&\\S+;)&/g : /&/g;\n      return str.replace(ampregex, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, XMLCharacterData, XMLText,\n    extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    hasProp = {}.hasOwnProperty;\n\n  NodeType = require('./NodeType');\n\n  XMLCharacterData = require('./XMLCharacterData');\n\n  module.exports = XMLText = (function(superClass) {\n    extend(XMLText, superClass);\n\n    function XMLText(parent, text) {\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text. \" + this.debugInfo());\n      }\n      this.name = \"#text\";\n      this.type = NodeType.Text;\n      this.value = this.stringify.text(text);\n    }\n\n    Object.defineProperty(XMLText.prototype, 'isElementContentWhitespace', {\n      get: function() {\n        throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n      }\n    });\n\n    Object.defineProperty(XMLText.prototype, 'wholeText', {\n      get: function() {\n        var next, prev, str;\n        str = '';\n        prev = this.previousSibling;\n        while (prev) {\n          str = prev.data + str;\n          prev = prev.previousSibling;\n        }\n        str += this.data;\n        next = this.nextSibling;\n        while (next) {\n          str = str + next.data;\n          next = next.nextSibling;\n        }\n        return str;\n      }\n    });\n\n    XMLText.prototype.clone = function() {\n      return Object.create(this);\n    };\n\n    XMLText.prototype.toString = function(options) {\n      return this.options.writer.text(this, this.options.writer.filterOptions(options));\n    };\n\n    XMLText.prototype.splitText = function(offset) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    XMLText.prototype.replaceWholeText = function(content) {\n      throw new Error(\"This DOM method is not implemented.\" + this.debugInfo());\n    };\n\n    return XMLText;\n\n  })(XMLCharacterData);\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDummy, XMLElement, XMLProcessingInstruction, XMLRaw, XMLText, XMLWriterBase, assign,\n    hasProp = {}.hasOwnProperty;\n\n  assign = require('./Utility').assign;\n\n  NodeType = require('./NodeType');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLCData = require('./XMLCData');\n\n  XMLComment = require('./XMLComment');\n\n  XMLElement = require('./XMLElement');\n\n  XMLRaw = require('./XMLRaw');\n\n  XMLText = require('./XMLText');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  XMLDummy = require('./XMLDummy');\n\n  XMLDTDAttList = require('./XMLDTDAttList');\n\n  XMLDTDElement = require('./XMLDTDElement');\n\n  XMLDTDEntity = require('./XMLDTDEntity');\n\n  XMLDTDNotation = require('./XMLDTDNotation');\n\n  WriterState = require('./WriterState');\n\n  module.exports = XMLWriterBase = (function() {\n    function XMLWriterBase(options) {\n      var key, ref, value;\n      options || (options = {});\n      this.options = options;\n      ref = options.writer || {};\n      for (key in ref) {\n        if (!hasProp.call(ref, key)) continue;\n        value = ref[key];\n        this[\"_\" + key] = this[key];\n        this[key] = value;\n      }\n    }\n\n    XMLWriterBase.prototype.filterOptions = function(options) {\n      var filteredOptions, ref, ref1, ref2, ref3, ref4, ref5, ref6;\n      options || (options = {});\n      options = assign({}, this.options, options);\n      filteredOptions = {\n        writer: this\n      };\n      filteredOptions.pretty = options.pretty || false;\n      filteredOptions.allowEmpty = options.allowEmpty || false;\n      filteredOptions.indent = (ref = options.indent) != null ? ref : '  ';\n      filteredOptions.newline = (ref1 = options.newline) != null ? ref1 : '\\n';\n      filteredOptions.offset = (ref2 = options.offset) != null ? ref2 : 0;\n      filteredOptions.dontPrettyTextNodes = (ref3 = (ref4 = options.dontPrettyTextNodes) != null ? ref4 : options.dontprettytextnodes) != null ? ref3 : 0;\n      filteredOptions.spaceBeforeSlash = (ref5 = (ref6 = options.spaceBeforeSlash) != null ? ref6 : options.spacebeforeslash) != null ? ref5 : '';\n      if (filteredOptions.spaceBeforeSlash === true) {\n        filteredOptions.spaceBeforeSlash = ' ';\n      }\n      filteredOptions.suppressPrettyCount = 0;\n      filteredOptions.user = {};\n      filteredOptions.state = WriterState.None;\n      return filteredOptions;\n    };\n\n    XMLWriterBase.prototype.indent = function(node, options, level) {\n      var indentLevel;\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else if (options.pretty) {\n        indentLevel = (level || 0) + options.offset + 1;\n        if (indentLevel > 0) {\n          return new Array(indentLevel).join(options.indent);\n        }\n      }\n      return '';\n    };\n\n    XMLWriterBase.prototype.endline = function(node, options, level) {\n      if (!options.pretty || options.suppressPrettyCount) {\n        return '';\n      } else {\n        return options.newline;\n      }\n    };\n\n    XMLWriterBase.prototype.attribute = function(att, options, level) {\n      var r;\n      this.openAttribute(att, options, level);\n      r = ' ' + att.name + '=\"' + att.value + '\"';\n      this.closeAttribute(att, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.cdata = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<![CDATA[';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ']]>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.comment = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!-- ';\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += ' -->' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.declaration = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?xml';\n      options.state = WriterState.InsideTag;\n      r += ' version=\"' + node.version + '\"';\n      if (node.encoding != null) {\n        r += ' encoding=\"' + node.encoding + '\"';\n      }\n      if (node.standalone != null) {\n        r += ' standalone=\"' + node.standalone + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.docType = function(node, options, level) {\n      var child, i, len, r, ref;\n      level || (level = 0);\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      r += '<!DOCTYPE ' + node.root().name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      if (node.children.length > 0) {\n        r += ' [';\n        r += this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref = node.children;\n        for (i = 0, len = ref.length; i < len; i++) {\n          child = ref[i];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += ']';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.element = function(node, options, level) {\n      var att, child, childNodeCount, firstChildNode, i, j, len, len1, name, prettySuppressed, r, ref, ref1, ref2;\n      level || (level = 0);\n      prettySuppressed = false;\n      r = '';\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r += this.indent(node, options, level) + '<' + node.name;\n      ref = node.attribs;\n      for (name in ref) {\n        if (!hasProp.call(ref, name)) continue;\n        att = ref[name];\n        r += this.attribute(att, options, level);\n      }\n      childNodeCount = node.children.length;\n      firstChildNode = childNodeCount === 0 ? null : node.children[0];\n      if (childNodeCount === 0 || node.children.every(function(e) {\n        return (e.type === NodeType.Text || e.type === NodeType.Raw) && e.value === '';\n      })) {\n        if (options.allowEmpty) {\n          r += '>';\n          options.state = WriterState.CloseTag;\n          r += '</' + node.name + '>' + this.endline(node, options, level);\n        } else {\n          options.state = WriterState.CloseTag;\n          r += options.spaceBeforeSlash + '/>' + this.endline(node, options, level);\n        }\n      } else if (options.pretty && childNodeCount === 1 && (firstChildNode.type === NodeType.Text || firstChildNode.type === NodeType.Raw) && (firstChildNode.value != null)) {\n        r += '>';\n        options.state = WriterState.InsideTag;\n        options.suppressPrettyCount++;\n        prettySuppressed = true;\n        r += this.writeChildNode(firstChildNode, options, level + 1);\n        options.suppressPrettyCount--;\n        prettySuppressed = false;\n        options.state = WriterState.CloseTag;\n        r += '</' + node.name + '>' + this.endline(node, options, level);\n      } else {\n        if (options.dontPrettyTextNodes) {\n          ref1 = node.children;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            child = ref1[i];\n            if ((child.type === NodeType.Text || child.type === NodeType.Raw) && (child.value != null)) {\n              options.suppressPrettyCount++;\n              prettySuppressed = true;\n              break;\n            }\n          }\n        }\n        r += '>' + this.endline(node, options, level);\n        options.state = WriterState.InsideTag;\n        ref2 = node.children;\n        for (j = 0, len1 = ref2.length; j < len1; j++) {\n          child = ref2[j];\n          r += this.writeChildNode(child, options, level + 1);\n        }\n        options.state = WriterState.CloseTag;\n        r += this.indent(node, options, level) + '</' + node.name + '>';\n        if (prettySuppressed) {\n          options.suppressPrettyCount--;\n        }\n        r += this.endline(node, options, level);\n        options.state = WriterState.None;\n      }\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.writeChildNode = function(node, options, level) {\n      switch (node.type) {\n        case NodeType.CData:\n          return this.cdata(node, options, level);\n        case NodeType.Comment:\n          return this.comment(node, options, level);\n        case NodeType.Element:\n          return this.element(node, options, level);\n        case NodeType.Raw:\n          return this.raw(node, options, level);\n        case NodeType.Text:\n          return this.text(node, options, level);\n        case NodeType.ProcessingInstruction:\n          return this.processingInstruction(node, options, level);\n        case NodeType.Dummy:\n          return '';\n        case NodeType.Declaration:\n          return this.declaration(node, options, level);\n        case NodeType.DocType:\n          return this.docType(node, options, level);\n        case NodeType.AttributeDeclaration:\n          return this.dtdAttList(node, options, level);\n        case NodeType.ElementDeclaration:\n          return this.dtdElement(node, options, level);\n        case NodeType.EntityDeclaration:\n          return this.dtdEntity(node, options, level);\n        case NodeType.NotationDeclaration:\n          return this.dtdNotation(node, options, level);\n        default:\n          throw new Error(\"Unknown XML node type: \" + node.constructor.name);\n      }\n    };\n\n    XMLWriterBase.prototype.processingInstruction = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<?';\n      options.state = WriterState.InsideTag;\n      r += node.target;\n      if (node.value) {\n        r += ' ' + node.value;\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '?>';\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.raw = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.text = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level);\n      options.state = WriterState.InsideTag;\n      r += node.value;\n      options.state = WriterState.CloseTag;\n      r += this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdAttList = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ATTLIST';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.elementName + ' ' + node.attributeName + ' ' + node.attributeType;\n      if (node.defaultValueType !== '#DEFAULT') {\n        r += ' ' + node.defaultValueType;\n      }\n      if (node.defaultValue) {\n        r += ' \"' + node.defaultValue + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdElement = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ELEMENT';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name + ' ' + node.value;\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdEntity = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!ENTITY';\n      options.state = WriterState.InsideTag;\n      if (node.pe) {\n        r += ' %';\n      }\n      r += ' ' + node.name;\n      if (node.value) {\n        r += ' \"' + node.value + '\"';\n      } else {\n        if (node.pubID && node.sysID) {\n          r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n        } else if (node.sysID) {\n          r += ' SYSTEM \"' + node.sysID + '\"';\n        }\n        if (node.nData) {\n          r += ' NDATA ' + node.nData;\n        }\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.dtdNotation = function(node, options, level) {\n      var r;\n      this.openNode(node, options, level);\n      options.state = WriterState.OpenTag;\n      r = this.indent(node, options, level) + '<!NOTATION';\n      options.state = WriterState.InsideTag;\n      r += ' ' + node.name;\n      if (node.pubID && node.sysID) {\n        r += ' PUBLIC \"' + node.pubID + '\" \"' + node.sysID + '\"';\n      } else if (node.pubID) {\n        r += ' PUBLIC \"' + node.pubID + '\"';\n      } else if (node.sysID) {\n        r += ' SYSTEM \"' + node.sysID + '\"';\n      }\n      options.state = WriterState.CloseTag;\n      r += options.spaceBeforeSlash + '>' + this.endline(node, options, level);\n      options.state = WriterState.None;\n      this.closeNode(node, options, level);\n      return r;\n    };\n\n    XMLWriterBase.prototype.openNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.closeNode = function(node, options, level) {};\n\n    XMLWriterBase.prototype.openAttribute = function(att, options, level) {};\n\n    XMLWriterBase.prototype.closeAttribute = function(att, options, level) {};\n\n    return XMLWriterBase;\n\n  })();\n\n}).call(this);\n","// Generated by CoffeeScript 1.12.7\n(function() {\n  var NodeType, WriterState, XMLDOMImplementation, XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;\n\n  ref = require('./Utility'), assign = ref.assign, isFunction = ref.isFunction;\n\n  XMLDOMImplementation = require('./XMLDOMImplementation');\n\n  XMLDocument = require('./XMLDocument');\n\n  XMLDocumentCB = require('./XMLDocumentCB');\n\n  XMLStringWriter = require('./XMLStringWriter');\n\n  XMLStreamWriter = require('./XMLStreamWriter');\n\n  NodeType = require('./NodeType');\n\n  WriterState = require('./WriterState');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    var doc, root;\n    if (name == null) {\n      throw new Error(\"Root element needs a name.\");\n    }\n    options = assign({}, xmldec, doctype, options);\n    doc = new XMLDocument(options);\n    root = doc.element(name);\n    if (!options.headless) {\n      doc.declaration(options);\n      if ((options.pubID != null) || (options.sysID != null)) {\n        doc.dtd(options);\n      }\n    }\n    return root;\n  };\n\n  module.exports.begin = function(options, onData, onEnd) {\n    var ref1;\n    if (isFunction(options)) {\n      ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];\n      options = {};\n    }\n    if (onData) {\n      return new XMLDocumentCB(options, onData, onEnd);\n    } else {\n      return new XMLDocument(options);\n    }\n  };\n\n  module.exports.stringWriter = function(options) {\n    return new XMLStringWriter(options);\n  };\n\n  module.exports.streamWriter = function(stream, options) {\n    return new XMLStreamWriter(stream, options);\n  };\n\n  module.exports.implementation = new XMLDOMImplementation();\n\n  module.exports.nodeType = NodeType;\n\n  module.exports.writerState = WriterState;\n\n}).call(this);\n","module.exports = require(\"assert\");;","module.exports = require(\"constants\");;","module.exports = require(\"events\");;","module.exports = require(\"fs\");;","module.exports = require(\"path\");;","module.exports = require(\"stream\");;","module.exports = require(\"string_decoder\");;","module.exports = require(\"timers\");;","module.exports = require(\"util\");;","module.exports = require(\"vscode\");;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import * as vscode from \"vscode\";\nimport mainwithloosenodes = require(\"./test/suite/testfiles/mainwithloosenodes.json\");\nimport assignHardcodedId = require(\"./test/suite/testfiles/assignHardcodedId.json\");\nimport mainExample = require(\"./test/suite/testfiles/main-example.json\");\nimport secondary = require(\"./test/suite/testfiles/secondary-example.json\");\nimport unusedVars = require(\"./test/suite/testfiles/unusedVariables.json\");\nimport dmlsInALoop = require(\"./test/suite/testfiles/allDMLStatementsInALoop.json\");\nimport { FixFlowCommand } from \"./main/commands/FixFlowCommand\";\nimport Flow = require(\"./main/models/Flow\");\nimport {CreateTestDataCommand} from \"./main/commands/CreateTestDataCommand\";\nimport {LintFlowsCommand} from \"./main/commands/LintFlowsCommand\";\nimport { LintFlowsReport } from \"./main/panels/LintFlowsReport\";\nimport {ScanFlows} from \"./main/libs/ScanFlows\";\nimport {FindFlowMetadata} from \"./main/libs/FindFlowMetadata\";\nimport {UnusedVariables} from \"./main/rules/UnusedVariables\";\nimport {HardcodedIds} from \"./main/rules/HardcodedIds\";\nimport {BuildNewFlow} from \"./main/libs/BuildNewFlow\";\nimport {UnconnectedElements} from \"./main/rules/UnconnectedElements\";\nimport {FlowReport} from \"./main/panels/FlowReport\";\nimport {SelectRules} from \"./main/panels/SelectRules\";\n\nexport function activate(context: vscode.ExtensionContext) {\n  let fixFlowCommand = new FixFlowCommand(context);\n  let lintFlowsCommand = new LintFlowsCommand(context);\n  let createTestDataCommand = new CreateTestDataCommand(context);\n\n  context.subscriptions.concat([\n    vscode.commands.registerCommand('flowlint.fix', () => fixFlowCommand.execute())\n  ]);\n\n  context.subscriptions.concat([\n    vscode.commands.registerCommand('flowlint.createflowdata', () => createTestDataCommand.execute())\n  ]);\n\n  context.subscriptions.concat([\n    vscode.commands.registerCommand('flowlint.lint', () => lintFlowsCommand.execute())\n  ]);\n\n}\n\nexport function deactivate() {}"],"sourceRoot":""}